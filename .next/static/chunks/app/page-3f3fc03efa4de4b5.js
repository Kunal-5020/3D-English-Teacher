(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7856:function(e,t,r){Promise.resolve().then(r.bind(r,7401)),Promise.resolve().then(r.bind(r,4594))},7401:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var s=r(3827),a=r(4090),n=r(2020);let o=["Nanami","Naoki"],i=(0,n.Ue)((e,t)=>({messages:[],currentMessage:null,teacher:o[0],language:"English",classroom:"default",speech:"formal",loading:!1,setTeacher:r=>{e(()=>({teacher:r,messages:t().messages.map(e=>({...e,audioPlayer:null}))}))},setLanguage:t=>{e(()=>({language:t}))},setSpeech:t=>{e(()=>({speech:t}))},askAI:async r=>{if(!r)return;let{speech:s,messages:a}=t(),n={question:r,id:a.length};e(()=>({loading:!0}));try{let a=await fetch("/api/getuser");await a.json();let o=await fetch("/api/ai?question=".concat(encodeURIComponent(r))),i=await o.json();console.log("data -",i.result),n.answer=i.result,n.speech=s,e(e=>({currentMessage:n,messages:[...e.messages,n],loading:!1})),t().playMessage(n)}catch(t){console.error("Error fetching AI response:",t),e(()=>({loading:!1}))}},playMessage:async r=>{if(e(()=>({currentMessage:r})),!r.audioPlayer){e(()=>({loading:!0}));try{let s=await fetch("/api/tts?teacher=".concat(t().teacher,"&text=").concat(encodeURIComponent(r.answer.ReplyForUser),"&language=").concat(t().language)),a=await s.blob(),n=URL.createObjectURL(a),o=new Audio(n),i=await l(a);r.visemes=i,r.audioPlayer=o,o.onended=()=>{e(()=>({currentMessage:null}))},e(()=>({messages:t().messages.map(e=>e.id===r.id?r:e),loading:!1}))}catch(t){console.error("Error in playMessage:",t),e(()=>({loading:!1}))}}r.audioPlayer.currentTime=0,r.audioPlayer.play()},stopMessage:t=>{t.audioPlayer&&(t.audioPlayer.pause(),t.audioPlayer.currentTime=0),e(()=>({currentMessage:null}))}})),l=async e=>new Promise(e=>{e([{time:0,viseme:"a"},{time:.5,viseme:"e"},{time:1,viseme:"o"}])});var c=r(6473),d=r(2017),u=r(6959),h=r(5451),m=r(9473),g=r(7808),p=r(4435),x=r(9631),f=r(9811),w=r(5511);let b=()=>{let e=i(e=>e.teacher),t=i(e=>e.setTeacher),r=i(e=>e.Language),a=i(e=>e.setLanguage);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute left-0 bottom-full flex flex-row gap-10 mb-20",children:o.map((r,a)=>(0,s.jsxs)("div",{className:"p-3 transition-colors duration-500 ".concat(e===r?"bg-white/100":"bg-white/50"),children:[(0,s.jsx)("div",{onClick:()=>t(r),children:(0,s.jsx)("img",{src:"/images/".concat(r,".jpg"),alt:r,className:"object-cover w-40 h-40"})}),(0,s.jsx)("h2",{className:"text-3xl font-bold mt-3 text-center text-black",children:r})]},a))}),(0,s.jsxs)("div",{className:"absolute left-0 top-full flex flex-row gap-2 mt-20",children:[(0,s.jsx)("button",{className:"".concat("English"===r?"text-white bg-slate-900/80":"text-white/45 bg-slate-700/60"," py-4 px-10 text-4xl rounded-full transition-colors duration-500 backdrop-blur-md"),onClick:()=>a("English"),children:"English Accent"}),(0,s.jsx)("button",{className:"".concat("Hindi"===r?"text-white bg-slate-900/80":"text-white/45 bg-slate-700/60"," py-4 px-10 text-4xl rounded-full transition-colors duration-500 backdrop-blur-md"),onClick:()=>a("Hindi"),children:"Hindi Accent"})]})]})},j=()=>{let e=i(e=>e.messages),t=i(e=>e.playMessage),r=i(e=>e.stopMessage),{currentMessage:n}=i(),o=i(e=>e.classroom),l=(0,a.useRef)();return(0,a.useEffect)(()=>{l.current.scrollTo({top:l.current.scrollHeight,behavior:"smooth"})},[e.length]),(0,s.jsxs)("div",{className:"".concat("default"===o?"w-[1288px] h-[676px]":"w-[2528px] h-[856px]"," p-8 overflow-y-auto flex flex-col space-y-8 bg-transparent opacity-80"),ref:l,children:[0===e.length&&(0,s.jsx)("div",{className:"h-full w-full grid place-content-center text-center",children:(0,s.jsxs)("h2",{className:"text-8xl font-bold text-white/90 italic",children:["AI ENGLISH TEACHER",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"English Learning Class"]})}),e.map((e,a)=>(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)("p",{className:"text-4xl inline-block px-2 rounded-sm font-bold bg-clip-text text-transparent bg-gradient-to-br from-blue-300/90 to-white/90",children:e.answer.ReplyForUser})})}),n===e?(0,s.jsx)("button",{className:"text-white/65",onClick:()=>r(e),children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9.563C9 9.252 9.252 9 9.563 9h4.874c.311 0 .563.252.563.563v4.874c0 .311-.252.563-.563.563H9.564A.562.562 0 0 1 9 14.437V9.564Z"})]})}):(0,s.jsx)("button",{className:"text-white/65",onClick:()=>t(e),children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})]})})]})},a))]})};var v=r(7601),y=r(3966),k=r(6376);function N(e){let{teacher:t,...r}=e,n=(0,a.useRef)(),{scene:o}=(0,p.L)("/models/Teacher_".concat(t,".glb"));(0,a.useEffect)(()=>{o.traverse(e=>{e.material&&(e.material=new k.MeshStandardMaterial({map:e.material.map}))})},[o]);let l=i(e=>e.currentMessage),c=i(e=>e.loading),{animations:d}=(0,p.L)("/models/animations_".concat(t,".glb")),{actions:h,mixer:m}=(0,v.v)(d,n),[g,x]=(0,a.useState)("Idle"),[f,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e;let t=()=>{e=setTimeout(()=>{b(!0),setTimeout(()=>{b(!1),t()},100)},(0,w.rO)(1e3,5e3))};return t(),()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{c?x("Thinking"):l?x((0,w.rO)(0,1)?"Talking":"Talking2"):x("Idle")},[l,c]),(0,y.C)(e=>{let{camera:t}=e;j("mouthSmile",.2,.5),j("eye_close",f?1:0,.5);for(let e=0;e<=21;e++)j(e,0,.1);if(l&&l.visemes&&l.audioPlayer){for(let e=l.visemes.length-1;e>=0;e--){let t=l.visemes[e];if(1e3*l.audioPlayer.currentTime>=t[0]){j(t[1],1,.2);break}}h[g].time>h[g].getClip().duration-.5&&x(e=>"Talking"===e?"Talking2":"Talking")}}),(0,a.useEffect)(()=>{var e;return null===(e=h[g])||void 0===e||e.reset().fadeIn(m.time>0?.5:0).play(),()=>{var e;null===(e=h[g])||void 0===e||e.fadeOut(.5)}},[g,h]);let j=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;o.traverse(s=>{if(s.isSkinnedMesh&&s.morphTargetDictionary){let a=s.morphTargetDictionary[e];void 0!==a&&void 0!==s.morphTargetInfluences[a]&&(s.morphTargetInfluences[a]=k.MathUtils.lerp(s.morphTargetInfluences[a],t,r))}})},[N,S]=(0,a.useState)(".");return(0,a.useEffect)(()=>{if(c){let e=setInterval(()=>{S(e=>3===e.length?".":e+".")},500);return()=>clearInterval(e)}},[c]),(0,s.jsxs)("group",{...r,dispose:null,ref:n,children:[c&&(0,s.jsx)(u.V,{"position-y":"Nanami"===t?1.6:1.8,children:(0,s.jsx)("div",{className:"flex justify-center items-center -translate-x-1/2",children:(0,s.jsxs)("span",{className:"relative flex h-8 w-8 items-center justify-center",children:[(0,s.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),(0,s.jsx)("span",{className:"relative inline-flex items-center justify-center duration-75 rounded-full h-8 w-8 bg-white/80",children:N})]})})}),(0,s.jsx)("primitive",{object:o})]})}o.forEach(e=>{p.L.preload("/models/Teacher_".concat(e,".glb")),p.L.preload("/models/animations_".concat(e,".glb"))});let S=()=>"SpeechRecognition"in window||"webkitSpeechRecognition"in window,C=e=>{let{showTypingField:t=!0,showVoicePreview:r=!1}=e,n=i(e=>e.askAI),o=i(e=>e.loading),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),h=(0,a.useRef)(null);(0,a.useEffect)(()=>{S()&&(h.current=new(window.SpeechRecognition||window.webkitSpeechRecognition),h.current.lang="en-IN")},[]);let m=()=>{if(!h.current){alert("Speech Recognition is not supported in this browser.");return}u(!0);try{h.current.start(),h.current.onresult=e=>{let t=e.results[0][0].transcript;c(e=>e+" "+t.trim())},h.current.onerror=e=>{console.error("Speech recognition error:",e.error),alert("Error occurred during speech recognition: ".concat(e.error)),u(!1)}}catch(e){console.error("Error starting speech recognition:",e),alert("There was an error starting speech recognition. Please try again."),u(!1)}},g=()=>{h.current&&(h.current.stop(),u(!1),l.trim()&&p())},p=()=>{l.trim()&&(n(l),c(""))};return(0,s.jsxs)("div",{className:"relative z-10 flex flex-col bg-gradient-to-tr from-slate-300/30 \n      via-gray-400/30 to-slate-600/30 p-4 backdrop-blur-md rounded-lg border border-slate-100/30 shadow-md \n      transition-all duration-300 ".concat(t?"w-full max-w-[800px]":"w-30"," mx-auto"),children:[t&&(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsx)("input",{className:"w-full bg-slate-800/60 p-3 rounded-lg text-white placeholder:text-white/50 shadow-inner    focus:outline focus:outline-white/80 text-base md:text-sm pr-10",placeholder:"Ask a question?",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>"Enter"===e.key&&p()})}),(0,s.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg text-white text-sm bg-blue-500 ".concat(l.trim()?"":"opacity-50 cursor-not-allowed"),onClick:p,disabled:!l.trim(),children:"Ask"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg text-white text-sm ".concat(d?"bg-red-500":"bg-green-500"),onClick:d?g:m,children:d?"Stop":"Start"})]})]}),!t&&(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[r&&l&&(0,s.jsx)("div",{className:"mt-2 p-2 bg-gray-800 text-white rounded-lg shadow",children:(0,s.jsx)("p",{className:"text-center",children:l})}),(0,s.jsx)("button",{className:"w-14 h-14 md:w-16 md:h-16 p-4 rounded-full text-white ".concat(d?"bg-red-500 animate-pulse":"bg-blue-500 hover:bg-blue-700"," text-2xl shadow-lg"),onMouseDown:m,onMouseUp:g,onTouchStart:m,onTouchEnd:g,children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,s.jsx)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[" ",(0,s.jsx)("path",{d:"M20 12V13C20 17.4183 16.4183 21 12 21C7.58172 21 4 17.4183 4 13V12M12 17C9.79086 17 8 15.2091 8 13V7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7V13C16 15.2091 14.2091 17 12 17Z",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})," "]})]})})]}),o&&(0,s.jsx)("div",{className:"flex justify-center items-center pt-4",children:(0,s.jsxs)("span",{className:"relative flex h-5 w-5",children:[(0,s.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-white"})]})})]})},E=e=>{let{showSidebar:t,setShowSidebar:r,showTypingField:a,setShowTypingField:n,showVoicePreview:o,setShowVoicePreview:i}=e;return(0,s.jsxs)("div",{className:"fixed top-0 right-0 h-full w-64 bg-gray-800 text-white p-4 shadow-lg transform transition-transform duration-300 ".concat(t?"translate-x-0":"translate-x-full"," z-50"),children:[(0,s.jsx)("button",{className:"absolute top-2 right-2 text-gray-300 hover:text-white",onClick:()=>r(!1),children:"✖"}),(0,s.jsx)("h2",{className:"text-2xl mb-4",children:"Settings"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{children:"Show Typing Box"}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:a,onChange:()=>{n(!a)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white"})]})]}),!a&&(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{children:"Show Voice Preview"}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:o,onChange:()=>{i(!o)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white"})]})]}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),sessionStorage.removeItem("greetingSent"),window.location.reload()},className:"absolute bottom-4 left-4 right-4 bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded shadow-md transition-colors",children:"Logout"})]})},T={default:{classroom:{position:[.2,-1.8,-2]},teacher:{position:[-1,-1.8,-3]},board:{position:[.45,.3,-6]}}},P=()=>{let e=i(e=>e.teacher),t=i(e=>e.askAI),r=i(e=>e.classroom),[n,o]=(0,a.useState)(!0),[l,g]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{sessionStorage.getItem("greetingSent")||(t("Welcome Greeting to the user"),sessionStorage.setItem("greetingSent","true"))},[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"z-10 md:justify-center fixed bottom-4 left-4 right-4 flex gap-3 flex-wrap justify-stretch",children:(0,s.jsx)(C,{showTypingField:n,showVoicePreview:l})}),(0,s.jsx)("button",{className:"fixed top-4 right-4 p-2 bg-gray-800 text-white rounded-lg shadow-md z-50",onClick:()=>v(!p),children:"⚙️"}),(0,s.jsx)(E,{showSidebar:p,setShowSidebar:v,showTypingField:n,setShowTypingField:o,showVoicePreview:l,setShowVoicePreview:g}),(0,s.jsx)(f.Zf,{hidden:!0}),(0,s.jsx)(c.a,{}),(0,s.jsxs)(x.Xz,{camera:{position:[0,0,1e-4]},children:[(0,s.jsx)(M,{}),(0,s.jsx)(a.Suspense,{children:(0,s.jsxs)(d.b,{speed:.5,floatIntensity:.2,rotationIntensity:.1,children:[(0,s.jsxs)(u.V,{transform:!0,...T[r].board,distanceFactor:1,children:[(0,s.jsx)(j,{}),(0,s.jsx)(b,{})]}),(0,s.jsx)(h.qA,{preset:"sunset"}),(0,s.jsx)("ambientLight",{intensity:.8,color:"pink"}),(0,s.jsx)(m.o,{src:"/models/classroom_".concat(r,".glb"),...T[r].classroom}),(0,s.jsx)(N,{teacher:e,...T[r].teacher,scale:1.5,"rotation-y":(0,w.Id)(20)},e)]})})]})]})},I={loading:[2621880610890309e-20,515037441056466e-20,9636414192870058e-20],speaking:[0,-.00000016481333940859815,9999846226827279e-20],mobileDefault:[36891791593946404e-22,39337346866935065e-22,9985447255153167e-20]},L={default:1.5,loading:1.8,speaking:2.1204819420055387,mobileDefault:.6239784084873344},M=()=>{let e=(0,a.useRef)(),t=i(e=>e.loading),r=i(e=>e.currentMessage),[n,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({position:[],zoom:1});return(0,a.useEffect)(()=>{let e=()=>{o(window.innerWidth<=768)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(e.current){if(n){var t;e.current.camera.position.set(-4,3,5),null===(t=e.current)||void 0===t||t.setPosition(...I.mobileDefault,!0),e.current.camera.fov=60,e.current.minZoom=.6,e.current.maxZoom=2,e.current.zoomTo(L.mobileDefault)}else e.current.camera.position.set(0,3,5),e.current.camera.fov=60,e.current.zoomTo(L.default),e.current.minZoom=1,e.current.maxZoom=3;e.current.update()}},[n]),(0,a.useEffect)(()=>{var s,a,o,i,l,c,d,u;t?n?(null===(s=e.current)||void 0===s||s.setPosition(2621880610890309e-20,515037441056466e-20,9636414192870058e-20,!0),null===(a=e.current)||void 0===a||a.zoomTo(1.3560873957863966,!0)):(null===(o=e.current)||void 0===o||o.setPosition(...I.loading,!0),null===(i=e.current)||void 0===i||i.zoomTo(L.loading,!0)):r&&(n?(null===(l=e.current)||void 0===l||l.setPosition(-.000005384345998332845,10064011499099357e-21,9934648705775275e-20,!0),null===(c=e.current)||void 0===c||c.zoomTo(.8643233841669705,!0)):(null===(d=e.current)||void 0===d||d.setPosition(...I.speaking,!0),null===(u=e.current)||void 0===u||u.zoomTo(L.speaking,!0)))},[t]),(0,a.useEffect)(()=>{e.current&&c({position:[...e.current.getPosition()],zoom:e.current.camera.zoom})},[]),(0,f.M4)("Camera Settings",{getCameraPosition:(0,f.LI)(()=>{if(e.current){let t=e.current.getPosition(),r=e.current.camera.zoom;console.log("Camera Position:",t),console.log("Camera Zoom:",r)}})}),(0,s.jsx)(g.B,{ref:e,minZoom:n?.6:1,maxZoom:n?2:3,polarRotateSpeed:-.3,azimuthRotateSpeed:-.3,mouseButtons:{left:1,wheel:16},touches:{one:32,two:512}})};p.L.preload("/models/classroom_default.glb"),r(7341);var R=e=>{let{setIsAuthenticated:t}=e,[r,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)({name:"",email:"",password:"",age:"",highestEducation:""}),[l,c]=(0,a.useState)(""),d=e=>{let{name:t,value:r}=e.target;i(e=>({...e,[t]:r}))},u=async e=>{e.preventDefault();let s=r?{email:o.email,password:o.password}:{name:o.name,email:o.email,password:o.password,age:o.age,highestEducation:o.highestEducation};try{let e=await fetch(r?"https://voice-chat-server-w8qu.onrender.com/login":"https://voice-chat-server-w8qu.onrender.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await e.json();if(e.ok){if(r){localStorage.setItem("token",a.token),t(!0),c("Login Successful!");let e=await fetch("/api/user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)},body:JSON.stringify({user:a.user})});e.ok?console.log("AI Server interaction successful",a.user):console.error("AI Server interaction failed:",await e.text())}else c(a.message||"Signup successful!")}else c(a.error||"Something went wrong.")}catch(e){c("Error connecting to server."),console.error("Error:",e)}};return(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"form-box",children:[(0,s.jsx)("h2",{children:r?"Login":"Signup"}),(0,s.jsxs)("form",{onSubmit:u,children:[!r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"input-box",children:(0,s.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:o.name,onChange:d,required:!0})}),(0,s.jsx)("div",{className:"input-box",children:(0,s.jsx)("input",{type:"number",name:"age",placeholder:"Age",min:"1",value:o.age,onChange:d,required:!0})}),(0,s.jsx)("div",{className:"input-box",children:(0,s.jsx)("input",{type:"text",name:"highestEducation",placeholder:"Highest Education",value:o.highestEducation,onChange:d,required:!0})})]}),(0,s.jsx)("div",{className:"input-box",children:(0,s.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:o.email,onChange:d,required:!0})}),(0,s.jsx)("div",{className:"input-box",children:(0,s.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:o.password,onChange:d,required:!0})}),(0,s.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"})]}),l&&(0,s.jsx)("p",{className:"message",children:l}),(0,s.jsxs)("p",{className:"toggle-text",children:[r?"Don't have an account?":"Already have an account?",(0,s.jsx)("button",{onClick:()=>{n(!r),i({name:"",email:"",password:"",age:"",highestEducation:""}),c("")},className:"toggle-btn",children:r?"Sign Up":"Login"})]})]})})};function z(){let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{localStorage.getItem("token")&&(t(!0),n(!1))},[]),r)?(0,s.jsx)("p",{children:"Loading..."}):(0,s.jsx)("main",{className:"h-screen flex flex-col items-center justify-center",children:e?(0,s.jsx)(P,{}):(0,s.jsx)(R,{setIsAuthenticated:t})})}},4594:function(e,t,r){"use strict";r.r(t),r.d(t,{GlobalProvider:function(){return o},useGlobalContext:function(){return i}});var s=r(3827),a=r(4090);let n=(0,a.createContext)(),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)({name:"",email:"",age:null,highestEducation:"",checklist:[],allSummaryHistory:[]}),i=async(e,t)=>{try{await fetch("http://localhost:3000/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(t){console.error("Failed to sync ".concat(e," with server:"),t)}};return(0,s.jsx)(n.Provider,{value:{UserData:r,updateChecklist:e=>{o(t=>{let r={...t,checklist:e};return i("checklist",r),r})},addToHistory:e=>{o(t=>{let r=[...t.allSummaryHistory,e],s={...t,allSummaryHistory:r};return i("updatehistory",r),s})},updateUserData:e=>{o(t=>({...t,...e}))}},children:t})},i=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useGlobalContext must be used within a GlobalProvider");return e}},7341:function(){}},function(e){e.O(0,[689,800,300,971,69,744],function(){return e(e.s=7856)}),_N_E=e.O()}]);