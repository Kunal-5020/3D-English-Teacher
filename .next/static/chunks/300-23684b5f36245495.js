"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{7808:function(e,t,r){let n,i,o,a,s,l,c,u,d,h,f,p,m,g,v,A,y,b,E,C,B,_,w;r.d(t,{B:function(){return q}});var x,T=r(2110),O=r(6376),R=r(4090),M=r(3966);/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */let S={LEFT:1,RIGHT:2,MIDDLE:4},D=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),F={NONE:0,IN:1,OUT:-1};function I(e){return e.isPerspectiveCamera}function P(e){return e.isOrthographicCamera}let k=2*Math.PI,L=Math.PI/2,H=Math.PI/180;function G(e,t,r){return Math.max(t,Math.min(r,e))}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-5;return Math.abs(e)<t}function j(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return U(e-t,r)}function N(e,t){return Math.round(e/t)*t}function J(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function K(e){return Math.abs(e)<Number.MAX_VALUE?e:1/0*e}function z(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=arguments.length>5?arguments[5]:void 0,a=2/(n=Math.max(1e-4,n)),s=a*o,l=1/(1+s+.48*s*s+.235*s*s*s),c=e-t,u=t,d=i*n;t=e-(c=G(c,-d,d));let h=(r.value+a*c)*o;r.value=(r.value-a*h)*l;let f=t+(c+h)*l;return u-e>0==f>u&&(f=u,r.value=(f-u)/o),f}function W(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=2/(n=Math.max(1e-4,n)),l=s*o,c=1/(1+l+.48*l*l+.235*l*l*l),u=t.x,d=t.y,h=t.z,f=e.x-u,p=e.y-d,m=e.z-h,g=u,v=d,A=h,y=i*n,b=f*f+p*p+m*m;if(b>y*y){let e=Math.sqrt(b);f=f/e*y,p=p/e*y,m=m/e*y}u=e.x-f,d=e.y-p,h=e.z-m;let E=(r.x+s*f)*o,C=(r.y+s*p)*o,B=(r.z+s*m)*o;r.x=(r.x-s*E)*c,r.y=(r.y-s*C)*c,r.z=(r.z-s*B)*c,a.x=u+(f+E)*c,a.y=d+(p+C)*c,a.z=h+(m+B)*c;let _=g-e.x,w=v-e.y,x=A-e.z;return _*(a.x-g)+w*(a.y-v)+x*(a.z-A)>0&&(a.x=g,a.y=v,a.z=A,r.x=(a.x-g)/o,r.y=(a.y-v)/o,r.z=(a.z-A)/o),a}function V(e,t){t.set(0,0),e.forEach(e=>{t.x+=e.clientX,t.y+=e.clientY}),t.x/=e.length,t.y/=e.length}function Y(e,t){return!!P(e)&&(console.warn("".concat(t," is not supported in OrthographicCamera")),!0)}class Q{addEventListener(e,t){let r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){let r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){let r=this._listeners[e];if(void 0!==r){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){let t=this._listeners[e.type];if(void 0!==t){e.target=this;let r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e)}}constructor(){this._listeners={}}}let X=1/8,Z=/Mac/.test(null===(x=null==globalThis?void 0:globalThis.navigator)||void 0===x?void 0:x.platform);class $ extends Q{static install(e){i=Object.freeze(new(n=e.THREE).Vector3(0,0,0)),o=Object.freeze(new n.Vector3(0,1,0)),a=Object.freeze(new n.Vector3(0,0,1)),s=new n.Vector2,l=new n.Vector3,c=new n.Vector3,u=new n.Vector3,d=new n.Vector3,h=new n.Vector3,f=new n.Vector3,p=new n.Vector3,m=new n.Vector3,g=new n.Vector3,v=new n.Spherical,A=new n.Spherical,y=new n.Box3,b=new n.Box3,E=new n.Sphere,C=new n.Quaternion,B=new n.Quaternion,_=new n.Matrix4,w=new n.Raycaster}static get ACTION(){return D}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){(this._spherical.radius!==e||this._sphericalEnd.radius!==e)&&(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){(this._spherical.theta!==e||this._sphericalEnd.theta!==e)&&(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){(this._spherical.phi!==e||this._sphericalEnd.phi!==e)&&(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=G(e.width,0,1),this._interactiveArea.height=G(e.height,0,1),this._interactiveArea.x=G(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=G(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,r)}rotateAzimuthTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isUserControllingRotate=!1;let n=G(e,this.minAzimuthAngle,this.maxAzimuthAngle),i=G(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let o=!r||j(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&j(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._isUserControllingDolly=!1,this._lastDollyDirection=F.NONE,this._changedDolly=0,this._dollyToNoClamp(G(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){let t=this._collisionTest(),n=j(t,this._spherical.radius);if(!(r>e)&&n)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,t)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);let n=!t||j(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(n)}dollyInFixed(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._targetEnd.add(this._getCameraDirection(d).multiplyScalar(e)),t||this._target.copy(this._targetEnd);let r=!t||j(this._target.x,this._targetEnd.x,this.restThreshold)&&j(this._target.y,this._targetEnd.y,this.restThreshold)&&j(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._isUserControllingZoom=!1,this._zoomEnd=G(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);let r=!t||j(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,r)}truck(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._camera.updateMatrix(),h.setFromMatrixColumn(this._camera.matrix,0),f.setFromMatrixColumn(this._camera.matrix,1),h.multiplyScalar(e),f.multiplyScalar(-t);let n=l.copy(h).add(f),i=c.copy(this._targetEnd).add(n);return this.moveTo(i.x,i.y,i.z,r)}forward(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.setFromMatrixColumn(this._camera.matrix,0),l.crossVectors(this._camera.up,l),l.multiplyScalar(e);let r=c.copy(this._targetEnd).add(l);return this.moveTo(r.x,r.y,r.z,t)}elevate(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+l.x,this._targetEnd.y+l.y,this._targetEnd.z+l.z,t)}moveTo(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._isUserControllingTruck=!1;let i=l.set(e,t,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,n||this._target.copy(this._targetEnd);let o=!n||j(this._target.x,this._targetEnd.x,this.restThreshold)&&j(this._target.y,this._targetEnd.y,this.restThreshold)&&j(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=l.set(e,t,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(i.x,i.y,i.z,n)}fitToBox(e,t){let{cover:r=!1,paddingLeft:n=0,paddingRight:i=0,paddingBottom:s=0,paddingTop:u=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=[],h=e.isBox3?y.copy(e):y.setFromObject(e);h.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let f=N(this._sphericalEnd.theta,L),p=N(this._sphericalEnd.phi,L);d.push(this.rotateTo(f,p,t));let m=l.setFromSpherical(this._sphericalEnd).normalize(),g=C.setFromUnitVectors(m,a),v=j(Math.abs(m.y),1);v&&g.multiply(B.setFromAxisAngle(o,f)),g.multiply(this._yAxisUpSpaceInverse);let A=b.makeEmpty();c.copy(h.min).applyQuaternion(g),A.expandByPoint(c),c.copy(h.min).setX(h.max.x).applyQuaternion(g),A.expandByPoint(c),c.copy(h.min).setY(h.max.y).applyQuaternion(g),A.expandByPoint(c),c.copy(h.max).setZ(h.min.z).applyQuaternion(g),A.expandByPoint(c),c.copy(h.min).setZ(h.max.z).applyQuaternion(g),A.expandByPoint(c),c.copy(h.max).setY(h.min.y).applyQuaternion(g),A.expandByPoint(c),c.copy(h.max).setX(h.min.x).applyQuaternion(g),A.expandByPoint(c),c.copy(h.max).applyQuaternion(g),A.expandByPoint(c),A.min.x-=n,A.min.y-=s,A.max.x+=i,A.max.y+=u,g.setFromUnitVectors(a,m),v&&g.premultiply(B.invert()),g.premultiply(this._yAxisUpSpace);let E=A.getSize(l),_=A.getCenter(c).applyQuaternion(g);if(I(this._camera)){let e=this.getDistanceToFitBox(E.x,E.y,E.z,r);d.push(this.moveTo(_.x,_.y,_.z,t)),d.push(this.dollyTo(e,t)),d.push(this.setFocalOffset(0,0,0,t))}else if(P(this._camera)){let e=this._camera,n=e.right-e.left,i=e.top-e.bottom,o=r?Math.max(n/E.x,i/E.y):Math.min(n/E.x,i/E.y);d.push(this.moveTo(_.x,_.y,_.z,t)),d.push(this.zoomTo(o,t)),d.push(this.setFocalOffset(0,0,0,t))}return Promise.all(d)}fitToSphere(e,t){let r=[],i=e instanceof n.Sphere?E.copy(e):$.createBoundingSphere(e,E);if(r.push(this.moveTo(i.center.x,i.center.y,i.center.z,t)),I(this._camera)){let e=this.getDistanceToFitSphere(i.radius);r.push(this.dollyTo(e,t))}else if(P(this._camera)){let e=this._camera.right-this._camera.left,n=this._camera.top-this._camera.bottom,o=2*i.radius;r.push(this.zoomTo(Math.min(e/o,n/o),t))}return r.push(this.setFocalOffset(0,0,0,t)),Promise.all(r)}setLookAt(e,t,r,n,i,o){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=F.NONE,this._changedDolly=0;let s=c.set(n,i,o),u=l.set(e,t,r);this._targetEnd.copy(s),this._sphericalEnd.setFromVector3(u.sub(s).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let d=!a||j(this._target.x,this._targetEnd.x,this.restThreshold)&&j(this._target.y,this._targetEnd.y,this.restThreshold)&&j(this._target.z,this._targetEnd.z,this.restThreshold)&&j(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&j(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&j(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(d)}lerpLookAt(e,t,r,n,i,o,a,s,d,h,f,p,m){let g=arguments.length>13&&void 0!==arguments[13]&&arguments[13];this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=F.NONE,this._changedDolly=0;let y=l.set(n,i,o),b=c.set(e,t,r);v.setFromVector3(b.sub(y).applyQuaternion(this._yAxisUpSpace));let E=u.set(h,f,p),C=c.set(a,s,d);A.setFromVector3(C.sub(E).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(y.lerp(E,m));let B=A.theta-v.theta,_=A.phi-v.phi,w=A.radius-v.radius;this._sphericalEnd.set(v.radius+w*m,v.phi+_*m,v.theta+B*m),this.normalizeRotations(),this._needsUpdate=!0,g||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let x=!g||j(this._target.x,this._targetEnd.x,this.restThreshold)&&j(this._target.y,this._targetEnd.y,this.restThreshold)&&j(this._target.z,this._targetEnd.z,this.restThreshold)&&j(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&j(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&j(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(x)}setPosition(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.setLookAt(e,t,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)}setTarget(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.getPosition(l),o=this.setLookAt(i.x,i.y,i.z,e,t,r,n);return this._sphericalEnd.phi=G(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,r),this._needsUpdate=!0,n||this._focalOffset.copy(this._focalOffsetEnd);let i=!n||j(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&j(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&j(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}setOrbitPoint(e,t,r){this._camera.updateMatrixWorld(),h.setFromMatrixColumn(this._camera.matrixWorldInverse,0),f.setFromMatrixColumn(this._camera.matrixWorldInverse,1),p.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let n=l.set(e,t,r),i=n.distanceTo(this._camera.position),o=n.sub(this._camera.position);h.multiplyScalar(o.x),f.multiplyScalar(o.y),p.multiplyScalar(o.z),l.copy(h).add(f).add(p),l.z=l.z+i,this.dollyTo(i,!1),this.setFocalOffset(-l.x,l.y,-l.z,!1),this.moveTo(e,t,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,r,i){if(null===e){this._viewport=null;return}this._viewport=this._viewport||new n.Vector4,"number"==typeof e?this._viewport.set(e,t,r,i):this._viewport.copy(e)}getDistanceToFitBox(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Y(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let i=e/t,o=this._camera.getEffectiveFOV()*H,a=this._camera.aspect;return .5*((n?i>a:i<a)?t:e/a)/Math.tan(.5*o)+.5*r}getDistanceToFitSphere(e){if(Y(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let t=this._camera.getEffectiveFOV()*H,r=2*Math.atan(Math.tan(.5*t)*this._camera.aspect);return e/Math.sin(.5*(1<this._camera.aspect?t:r))}getTarget(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(e&&e.isVector3?e:new n.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(e&&e.isVector3?e:new n.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(e&&e instanceof n.Spherical?e:new n.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(e&&e.isVector3?e:new n.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%k,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=k),this._spherical.theta+=k*Math.round((this._sphericalEnd.theta-this._spherical.theta)/k)}reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!j(this._camera.up.x,this._cameraUp0.x)||!j(this._camera.up.y,this._cameraUp0.y)||!j(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let e=this.getPosition(l);this.updateCameraUp(),this.setPosition(e.x,e.y,e.z)}return Promise.all([this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)])}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,o),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let e=l.subVectors(this._target,this._camera.position).normalize(),t=c.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();let r=this.getPosition(l);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){let t=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,n=this._sphericalEnd.radius-this._spherical.radius,i=m.subVectors(this._targetEnd,this._target),o=g.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(U(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=z(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,t,1/0,e),this._needsUpdate=!0}if(U(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=z(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,t,1/0,e),this._needsUpdate=!0}if(U(n))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let t=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=z(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,t,this.maxSpeed,e),this._needsUpdate=!0}if(U(i.x)&&U(i.y)&&U(i.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let t=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;W(this._target,this._targetEnd,this._targetVelocity,t,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(U(o.x)&&U(o.y)&&U(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let t=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;W(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,t,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(U(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let t=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=z(this._zoom,this._zoomEnd,this._zoomVelocity,t,1/0,e)}if(this.dollyToCursor){if(I(this._camera)&&0!==this._changedDolly){let e=this._spherical.radius-this._lastDistance,t=this._camera,r=this._getCameraDirection(d),n=l.copy(r).cross(t.up).normalize();0===n.lengthSq()&&(n.x=1);let i=c.crossVectors(n,r),o=this._sphericalEnd.radius*Math.tan(t.getEffectiveFOV()*H*.5),a=(this._sphericalEnd.radius-e-this._sphericalEnd.radius)/this._sphericalEnd.radius,s=u.copy(this._targetEnd).add(n.multiplyScalar(this._dollyControlCoord.x*o*t.aspect)).add(i.multiplyScalar(this._dollyControlCoord.y*o)),h=l.copy(this._targetEnd).lerp(s,a),f=this._lastDollyDirection===F.IN&&this._spherical.radius<=this.minDistance,p=this._lastDollyDirection===F.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(f||p)){this._sphericalEnd.radius-=e,this._spherical.radius-=e;let t=c.copy(r).multiplyScalar(-e);h.add(t)}this._boundary.clampPoint(h,h);let m=c.subVectors(h,this._targetEnd);this._targetEnd.copy(h),this._target.add(m),this._changedDolly-=e,U(this._changedDolly)&&(this._changedDolly=0)}else if(P(this._camera)&&0!==this._changedZoom){let e=this._zoom-this._lastZoom,t=this._camera,r=l.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(t.near+t.far)/(t.near-t.far)).unproject(t),n=c.set(0,0,-1).applyQuaternion(t.quaternion),i=u.copy(r).add(n.multiplyScalar(-r.dot(t.up))),o=-(this._zoom-e-this._zoom)/this._zoom,a=this._getCameraDirection(d),s=this._targetEnd.dot(a),h=l.copy(this._targetEnd).lerp(i,o),f=h.dot(a),p=a.multiplyScalar(f-s);h.sub(p),this._boundary.clampPoint(h,h);let m=c.subVectors(h,this._targetEnd);this._targetEnd.copy(h),this._target.add(m),this._changedZoom-=e,U(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;let s=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,s),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),U(this._focalOffset.x)&&U(this._focalOffset.y)&&U(this._focalOffset.z)||(this._camera.updateMatrixWorld(),h.setFromMatrixColumn(this._camera.matrix,0),f.setFromMatrixColumn(this._camera.matrix,1),p.setFromMatrixColumn(this._camera.matrix,2),h.multiplyScalar(this._focalOffset.x),f.multiplyScalar(-this._focalOffset.y),p.multiplyScalar(this._focalOffset.z),l.copy(h).add(f).add(p),this._camera.position.add(l)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),l.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let v=this._needsUpdate;return v&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):v?(this.dispatchEvent({type:"update"}),U(t,this.restThreshold)&&U(r,this.restThreshold)&&U(n,this.restThreshold)&&U(i.x,this.restThreshold)&&U(i.y,this.restThreshold)&&U(i.z,this.restThreshold)&&U(o.x,this.restThreshold)&&U(o.y,this.restThreshold)&&U(o.z,this.restThreshold)&&U(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!v&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=v,this._needsUpdate=!1,v}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:J(this.maxDistance),minZoom:this.minZoom,maxZoom:J(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:J(this.maxPolarAngle),minAzimuthAngle:J(this.minAzimuthAngle),maxAzimuthAngle:J(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:l.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=K(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=K(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=K(r.maxPolarAngle),this.minAzimuthAngle=K(r.minAzimuthAngle),this.maxAzimuthAngle=K(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],t),v.setFromVector3(l.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(v.theta,v.phi,t),this.dollyTo(v.radius,t),this.zoomTo(r.zoom,t),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version","2.8.3"),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,r){let n=t.lengthSq();if(0===n)return e;let i=c.copy(t).add(e),o=this._boundary.clampPoint(i,u).sub(i),a=o.lengthSq();if(0===a)return e.add(t);if(a===n)return e;if(0===r)return e.add(t).add(o);{let n=1+r*a/t.dot(o);return e.add(c.copy(t).multiplyScalar(n)).add(o.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(I(this._camera)){let e=this._camera,t=e.near,r=Math.tan(e.getEffectiveFOV()*H*.5)*t,n=r*e.aspect;this._nearPlaneCorners[0].set(-n,-r,0),this._nearPlaneCorners[1].set(n,-r,0),this._nearPlaneCorners[2].set(n,r,0),this._nearPlaneCorners[3].set(-n,r,0)}else if(P(this._camera)){let e=this._camera,t=1/e.zoom,r=e.left*t,n=e.right*t,i=e.top*t,o=e.bottom*t;this._nearPlaneCorners[0].set(r,i,0),this._nearPlaneCorners[1].set(n,i,0),this._nearPlaneCorners[2].set(n,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||Y(this._camera,"_collisionTest"))return e;let t=this._getTargetDirection(d);_.lookAt(i,t,this._camera.up);for(let r=0;r<4;r++){let n=c.copy(this._nearPlaneCorners[r]);n.applyMatrix4(_);let i=u.addVectors(this._target,n);w.set(i,t),w.far=this._spherical.radius+1;let o=w.intersectObjects(this.colliderMeshes);0!==o.length&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;let t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(e=>{let t=()=>{this.removeEventListener("rest",t),e()};this.addEventListener("rest",t)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.Sphere,r=t.center;y.makeEmpty(),e.traverseVisible(e=>{e.isMesh&&y.expandByObject(e)}),y.getCenter(r);let i=0;return e.traverseVisible(e=>{if(!e.isMesh)return;let t=e.geometry.clone();t.applyMatrix4(e.matrixWorld);let n=t.attributes.position;for(let e=0,t=n.count;e<t;e++)l.fromBufferAttribute(n,e),i=Math.max(i,r.distanceToSquared(l))}),t.radius=Math.sqrt(i),t}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=D.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=F.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new n.Vector3,this._focalOffsetVelocity=new n.Vector3,this._zoomVelocity={value:0},this._truckInternal=(e,t,r)=>{let n,i;if(I(this._camera)){let r=l.copy(this._camera.position).sub(this._target),o=this._camera.getEffectiveFOV()*H,a=r.length()*Math.tan(.5*o);n=this.truckSpeed*e*a/this._elementRect.height,i=this.truckSpeed*t*a/this._elementRect.height}else{if(!P(this._camera))return;let r=this._camera;n=e*(r.right-r.left)/r.zoom/this._elementRect.width,i=t*(r.top-r.bottom)/r.zoom/this._elementRect.height}this.verticalDragToForward?(r?this.setFocalOffset(this._focalOffsetEnd.x+n,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(n,0,!0),this.forward(-i,!0)):r?this.setFocalOffset(this._focalOffsetEnd.x+n,this._focalOffsetEnd.y+i,this._focalOffsetEnd.z,!0):this.truck(n,i,!0)},this._rotateInternal=(e,t)=>{let r=k*this.azimuthRotateSpeed*e/this._elementRect.height,n=k*this.polarRotateSpeed*t/this._elementRect.height;this.rotate(r,n,!0)},this._dollyInternal=(e,t,r)=>{let n=Math.pow(.95,-e*this.dollySpeed),i=this._sphericalEnd.radius,o=this._sphericalEnd.radius*n,a=G(o,this.minDistance,this.maxDistance);this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(o,!0):(this.infinityDolly&&!this.dollyToCursor&&this.dollyInFixed(a-o,!0),this._dollyToNoClamp(a,!0)),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?o:a)-i,this._dollyControlCoord.set(t,r)),this._lastDollyDirection=Math.sign(-e)},this._zoomInternal=(e,t,r)=>{let n=Math.pow(.95,e*this.dollySpeed),i=this._zoom,o=this._zoom*n;this.zoomTo(o,!0),this.dollyToCursor&&(this._changedZoom+=o-i,this._dollyControlCoord.set(t,r))},void 0===n&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new n.Quaternion().setFromUnitVectors(this._camera.up,o),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=D.NONE,this._target=new n.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new n.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new n.Spherical().setFromVector3(l.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3],this._updateNearPlaneCorners(),this._boundary=new n.Box3(new n.Vector3(-1/0,-1/0,-1/0),new n.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new n.Vector2,this.mouseButtons={left:D.ROTATE,middle:D.DOLLY,right:D.TRUCK,wheel:I(this._camera)?D.DOLLY:P(this._camera)?D.ZOOM:D.NONE},this.touches={one:D.TOUCH_ROTATE,two:I(this._camera)?D.TOUCH_DOLLY_TRUCK:P(this._camera)?D.TOUCH_ZOOM_TRUCK:D.NONE,three:D.TOUCH_TRUCK};let r=new n.Vector2,i=new n.Vector2,a=new n.Vector2,c=e=>{if(!this._enabled||!this._domElement)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let t=this._domElement.getBoundingClientRect(),r=e.clientX/t.width,n=e.clientY/t.height;if(r<this._interactiveArea.left||r>this._interactiveArea.right||n<this._interactiveArea.top||n>this._interactiveArea.bottom)return}let t="mouse"!==e.pointerType?null:(e.buttons&S.LEFT)===S.LEFT?S.LEFT:(e.buttons&S.MIDDLE)===S.MIDDLE?S.MIDDLE:(e.buttons&S.RIGHT)===S.RIGHT?S.RIGHT:null;if(null!==t){let e=this._findPointerByMouseButton(t);e&&this._disposePointer(e)}if((e.buttons&S.LEFT)===S.LEFT&&this._lockedPointer)return;let r={pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:t};this._activePointers.push(r),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.addEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),this._isDragging=!0,m(e)},u=e=>{e.cancelable&&e.preventDefault();let t=e.pointerId,r=this._lockedPointer||this._findPointerById(t);if(r){if(r.clientX=e.clientX,r.clientY=e.clientY,r.deltaX=e.movementX,r.deltaY=e.movementY,this._state=0,"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(e.buttons&S.LEFT)===S.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(e.buttons&S.MIDDLE)===S.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(e.buttons&S.RIGHT)===S.RIGHT&&(this._state=this._state|this.mouseButtons.right);g()}},d=e=>{let t=this._findPointerById(e.pointerId);if(!t||t!==this._lockedPointer){if(t&&this._disposePointer(t),"touch"===e.pointerType)switch(this._activePointers.length){case 0:this._state=D.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=D.NONE;v()}},h=-1,f=e=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===D.NONE)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let t=this._domElement.getBoundingClientRect(),r=e.clientX/t.width,n=e.clientY/t.height;if(r<this._interactiveArea.left||r>this._interactiveArea.right||n<this._interactiveArea.top||n>this._interactiveArea.bottom)return}if(e.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===D.ROTATE||this.mouseButtons.wheel===D.TRUCK){let e=performance.now();h-e<1e3&&this._getClientRect(this._elementRect),h=e}let t=Z?-1:-3,r=1===e.deltaMode?e.deltaY/t:e.deltaY/(10*t),n=this.dollyToCursor?(e.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,i=this.dollyToCursor?-((e.clientY-this._elementRect.y)/this._elementRect.height*2)+1:0;switch(this.mouseButtons.wheel){case D.ROTATE:this._rotateInternal(e.deltaX,e.deltaY),this._isUserControllingRotate=!0;break;case D.TRUCK:this._truckInternal(e.deltaX,e.deltaY,!1),this._isUserControllingTruck=!0;break;case D.OFFSET:this._truckInternal(e.deltaX,e.deltaY,!0),this._isUserControllingOffset=!0;break;case D.DOLLY:this._dollyInternal(-r,n,i),this._isUserControllingDolly=!0;break;case D.ZOOM:this._zoomInternal(-r,n,i),this._isUserControllingZoom=!0}this.dispatchEvent({type:"control"})},p=e=>{if(this._domElement&&this._enabled){if(this.mouseButtons.right===$.ACTION.NONE){let t=e instanceof PointerEvent?e.pointerId:0,r=this._findPointerById(t);r&&this._disposePointer(r),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d);return}e.preventDefault()}},m=e=>{if(this._enabled){if(V(this._activePointers,s),this._getClientRect(this._elementRect),r.copy(s),i.copy(s),this._activePointers.length>=2){let e=s.x-this._activePointers[1].clientX,t=s.y-this._activePointers[1].clientY;a.set(0,Math.sqrt(e*e+t*t));let r=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,n=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(r,n)}if(this._state=0,e){if("pointerType"in e&&"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._lockedPointer||(e.buttons&S.LEFT)!==S.LEFT||(this._state=this._state|this.mouseButtons.left),(e.buttons&S.MIDDLE)===S.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(e.buttons&S.RIGHT)===S.RIGHT&&(this._state=this._state|this.mouseButtons.right)}else this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);((this._state&D.ROTATE)===D.ROTATE||(this._state&D.TOUCH_ROTATE)===D.TOUCH_ROTATE||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&D.TRUCK)===D.TRUCK||(this._state&D.TOUCH_TRUCK)===D.TOUCH_TRUCK||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&D.DOLLY)===D.DOLLY||(this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&D.ZOOM)===D.ZOOM||(this._state&D.TOUCH_ZOOM)===D.TOUCH_ZOOM||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&D.OFFSET)===D.OFFSET||(this._state&D.TOUCH_OFFSET)===D.TOUCH_OFFSET||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})}},g=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,V(this._activePointers,s);let e=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,t=e?-e.deltaX:i.x-s.x,n=e?-e.deltaY:i.y-s.y;if(i.copy(s),((this._state&D.ROTATE)===D.ROTATE||(this._state&D.TOUCH_ROTATE)===D.TOUCH_ROTATE||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(t,n),this._isUserControllingRotate=!0),(this._state&D.DOLLY)===D.DOLLY||(this._state&D.ZOOM)===D.ZOOM){let e=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,t=this.dollyToCursor?-((r.y-this._elementRect.y)/this._elementRect.height*2)+1:0,i=this.dollyDragInverted?-1:1;(this._state&D.DOLLY)===D.DOLLY?(this._dollyInternal(i*n*X,e,t),this._isUserControllingDolly=!0):(this._zoomInternal(i*n*X,e,t),this._isUserControllingZoom=!0)}if((this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_ZOOM)===D.TOUCH_ZOOM||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE){let e=s.x-this._activePointers[1].clientX,t=s.y-this._activePointers[1].clientY,r=Math.sqrt(e*e+t*t),n=a.y-r;a.set(0,r);let o=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,l=this.dollyToCursor?-((i.y-this._elementRect.y)/this._elementRect.height*2)+1:0;(this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET?(this._dollyInternal(n*X,o,l),this._isUserControllingDolly=!0):(this._zoomInternal(n*X,o,l),this._isUserControllingZoom=!0)}((this._state&D.TRUCK)===D.TRUCK||(this._state&D.TOUCH_TRUCK)===D.TOUCH_TRUCK||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(t,n,!1),this._isUserControllingTruck=!0),((this._state&D.OFFSET)===D.OFFSET||(this._state&D.TOUCH_OFFSET)===D.TOUCH_OFFSET||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(t,n,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},v=()=>{V(this._activePointers,s),i.copy(s),this._dragNeedsUpdate=!1,(0===this._activePointers.length||1===this._activePointers.length&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),0===this._activePointers.length&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{this._enabled&&this._domElement&&(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",A),this._domElement.ownerDocument.addEventListener("pointerlockerror",y),this._domElement.ownerDocument.addEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),m())},this.unlockPointer=()=>{var e,t,r;null!==this._lockedPointer&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),null===(e=this._domElement)||void 0===e||e.ownerDocument.exitPointerLock(),null===(t=this._domElement)||void 0===t||t.ownerDocument.removeEventListener("pointerlockchange",A),null===(r=this._domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerlockerror",y),this.cancel()};let A=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},y=()=>{this.unlockPointer()};this._addAllEventListeners=e=>{this._domElement=e,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",c),this._domElement.addEventListener("pointercancel",d),this._domElement.addEventListener("wheel",f,{passive:!1}),this._domElement.addEventListener("contextmenu",p)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",c),this._domElement.removeEventListener("pointercancel",d),this._domElement.removeEventListener("wheel",f,{passive:!1}),this._domElement.removeEventListener("contextmenu",p),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("pointerlockchange",A),this._domElement.ownerDocument.removeEventListener("pointerlockerror",y))},this.cancel=()=>{this._state!==D.NONE&&(this._state=D.NONE,this._activePointers.length=0,v())},t&&this.connect(t),this.update(0)}}let q=(0,R.forwardRef)((e,t)=>{(0,R.useMemo)(()=>{let e={Box3:O.Box3,MathUtils:{clamp:O.MathUtils.clamp},Matrix4:O.Matrix4,Quaternion:O.Quaternion,Raycaster:O.Raycaster,Sphere:O.Sphere,Spherical:O.Spherical,Vector2:O.Vector2,Vector3:O.Vector3,Vector4:O.Vector4};$.install({THREE:e}),(0,M.e)({CameraControlsImpl:$})},[]);let{camera:r,domElement:n,makeDefault:i,onStart:o,onEnd:a,onChange:s,regress:l,...c}=e,u=(0,M.A)(e=>e.camera),d=(0,M.A)(e=>e.gl),h=(0,M.A)(e=>e.invalidate),f=(0,M.A)(e=>e.events),p=(0,M.A)(e=>e.setEvents),m=(0,M.A)(e=>e.set),g=(0,M.A)(e=>e.get),v=(0,M.A)(e=>e.performance),A=r||u,y=n||f.connected||d.domElement,b=(0,R.useMemo)(()=>new $(A),[A]);return(0,M.C)((e,t)=>{b.enabled&&b.update(t)},-1),(0,R.useEffect)(()=>(b.connect(y),()=>void b.disconnect()),[y,b]),(0,R.useEffect)(()=>{let e=e=>{h(),l&&v.regress(),s&&s(e)},t=e=>{o&&o(e)},r=e=>{a&&a(e)};return b.addEventListener("update",e),b.addEventListener("controlstart",t),b.addEventListener("controlend",r),b.addEventListener("control",e),b.addEventListener("transitionstart",e),b.addEventListener("wake",e),()=>{b.removeEventListener("update",e),b.removeEventListener("controlstart",t),b.removeEventListener("controlend",r),b.removeEventListener("control",e),b.removeEventListener("transitionstart",e),b.removeEventListener("wake",e)}},[b,o,a,h,p,l,s]),(0,R.useEffect)(()=>{if(i){let e=g().controls;return m({controls:b}),()=>m({controls:e})}},[i,b]),R.createElement("primitive",(0,T.Z)({ref:t,object:b},c))})},5451:function(e,t,r){r.d(t,{qA:function(){return ec}});var n=r(2110),i=r(4090),o=r(3966),a=r(6376);let s=e=>e&&e.isCubeTexture;class l extends a.Mesh{set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}constructor(e,t){var r,n;let i=s(e),o=Math.floor(Math.log2((null!=(n=i?null==(r=e.image[0])?void 0:r.width:e.image.width)?n:1024)/4)),l=Math.pow(2,o),c=[i?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH ".concat(1/(3*Math.max(l,112))),"#define CUBEUV_TEXEL_HEIGHT ".concat(1/(4*l)),"#define CUBEUV_MAX_MIP ".concat(o,".0")].join("\n")+"\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <".concat(parseInt(a.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment",">\n        }\n        ");super(new a.IcosahedronGeometry(1,16),new a.ShaderMaterial({uniforms:{map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}},fragmentShader:c,vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        ",side:a.DoubleSide}))}}class c extends a.DataTextureLoader{parse(e){let t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return -1},r=function(e,t,r){t=t||1024;let n=e.pos,i=-1,o=0,a="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));for(;0>(i=s.indexOf("\n"))&&o<t&&n<e.byteLength;)a+=s,o+=s.length,n+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return -1<i&&(!1!==r&&(e.pos+=o+i+1),a+s.slice(0,i))},n=new Uint8Array(e);n.pos=0;let i=function(e){let n,i;let o=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(n=r(e)))return t(1,"no header found");if(!(i=n.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(c.valid|=1,c.programtype=i[1],c.string+=n+"\n";!1!==(n=r(e));){if(c.string+=n+"\n","#"===n.charAt(0)){c.comments+=n+"\n";continue}if((i=n.match(o))&&(c.gamma=parseFloat(i[1])),(i=n.match(a))&&(c.exposure=parseFloat(i[1])),(i=n.match(s))&&(c.valid|=2,c.format=i[1]),(i=n.match(l))&&(c.valid|=4,c.height=parseInt(i[1],10),c.width=parseInt(i[2],10)),2&c.valid&&4&c.valid)break}return 2&c.valid?4&c.valid?c:t(3,"missing image size specifier"):t(3,"missing format specifier")}(n);if(-1!==i){let e=i.width,r=i.height,o=function(e,r,n){if(r<8||r>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(r!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");let i=new Uint8Array(4*r*n);if(!i.length)return t(4,"unable to allocate buffer space");let o=0,a=0,s=4*r,l=new Uint8Array(4),c=new Uint8Array(s),u=n;for(;u>0&&a<e.byteLength;){if(a+4>e.byteLength)return t(1);if(l[0]=e[a++],l[1]=e[a++],l[2]=e[a++],l[3]=e[a++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=r)return t(3,"bad rgbe scanline format");let n=0,d;for(;n<s&&a<e.byteLength;){let r=(d=e[a++])>128;if(r&&(d-=128),0===d||n+d>s)return t(3,"bad scanline data");if(r){let t=e[a++];for(let e=0;e<d;e++)c[n++]=t}else c.set(e.subarray(a,a+d),n),n+=d,a+=d}for(let e=0;e<r;e++){let t=0;i[o]=c[e+t],t+=r,i[o+1]=c[e+t],t+=r,i[o+2]=c[e+t],t+=r,i[o+3]=c[e+t],o+=4}u--}return i}(n.subarray(n.pos),e,r);if(-1!==o){let t,n,s;switch(this.type){case a.FloatType:s=o.length/4;let l=new Float32Array(4*s);for(let e=0;e<s;e++)!function(e,t,r,n){let i=Math.pow(2,e[t+3]-128)/255;r[n+0]=e[t+0]*i,r[n+1]=e[t+1]*i,r[n+2]=e[t+2]*i,r[n+3]=1}(o,4*e,l,4*e);t=l,n=a.FloatType;break;case a.HalfFloatType:s=o.length/4;let c=new Uint16Array(4*s);for(let e=0;e<s;e++)!function(e,t,r,n){let i=Math.pow(2,e[t+3]-128)/255;r[n+0]=a.DataUtils.toHalfFloat(Math.min(e[t+0]*i,65504)),r[n+1]=a.DataUtils.toHalfFloat(Math.min(e[t+1]*i,65504)),r[n+2]=a.DataUtils.toHalfFloat(Math.min(e[t+2]*i,65504)),r[n+3]=a.DataUtils.toHalfFloat(1)}(o,4*e,c,4*e);t=c,n=a.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:e,height:r,data:t,header:i.string,gamma:i.gamma,exposure:i.exposure,type:n}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){switch(e.type){case a.FloatType:case a.HalfFloatType:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=a.LinearFilter,e.magFilter=a.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,n)}constructor(e){super(e),this.type=a.HalfFloatType}}var u={},d=Uint8Array,h=Uint16Array,f=Uint32Array,p=new d([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m=new d([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g=new d([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=function(e,t){for(var r=new h(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new f(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return[r,i]},A=v(p,2),y=A[0],b=A[1];y[28]=258,b[258]=28;for(var E=v(m,0),C=E[0],B=E[1],_=new h(32768),w=0;w<32768;++w){var x=(43690&w)>>>1|(21845&w)<<1;x=(61680&(x=(52428&x)>>>2|(13107&x)<<2))>>>4|(3855&x)<<4,_[w]=((65280&x)>>>8|(255&x)<<8)>>>1}for(var T=function(e,t,r){for(var n,i=e.length,o=0,a=new h(t);o<i;++o)++a[e[o]-1];var s=new h(t);for(o=0;o<t;++o)s[o]=s[o-1]+a[o-1]<<1;if(r){n=new h(1<<t);var l=15-t;for(o=0;o<i;++o)if(e[o])for(var c=o<<4|e[o],u=t-e[o],d=s[e[o]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)n[_[d]>>>l]=c}else for(o=0,n=new h(i);o<i;++o)e[o]&&(n[o]=_[s[e[o]-1]++]>>>15-e[o]);return n},O=new d(288),w=0;w<144;++w)O[w]=8;for(var w=144;w<256;++w)O[w]=9;for(var w=256;w<280;++w)O[w]=7;for(var w=280;w<288;++w)O[w]=8;for(var R=new d(32),w=0;w<32;++w)R[w]=5;var M=T(O,9,1),S=T(R,5,1),D=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},F=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},I=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},P=function(e){return(e/8|0)+(7&e&&1)},k=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof h?h:e instanceof f?f:d)(r-t);return n.set(e.subarray(t,r)),n},L=function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new d(0);var i=!t||r,o=!r||r.i;r||(r={}),t||(t=new d(3*n));var a=function(e){var r=t.length;if(e>r){var n=new d(Math.max(2*r,e));n.set(t),t=n}},s=r.f||0,l=r.p||0,c=r.b||0,u=r.l,h=r.d,f=r.m,v=r.n,A=8*n;do{if(!u){r.f=s=F(e,l,1);var b=F(e,l+1,3);if(l+=3,b){if(1==b)u=M,h=S,f=9,v=5;else if(2==b){var E=F(e,l,31)+257,B=F(e,l+10,15)+4,_=E+F(e,l+5,31)+1;l+=14;for(var w=new d(_),x=new d(19),O=0;O<B;++O)x[g[O]]=F(e,l+3*O,7);l+=3*B;for(var R=D(x),L=(1<<R)-1,H=T(x,R,1),O=0;O<_;){var G=H[F(e,l,L)];l+=15&G;var U=G>>>4;if(U<16)w[O++]=U;else{var j=0,N=0;for(16==U?(N=3+F(e,l,3),l+=2,j=w[O-1]):17==U?(N=3+F(e,l,7),l+=3):18==U&&(N=11+F(e,l,127),l+=7);N--;)w[O++]=j}}var J=w.subarray(0,E),K=w.subarray(E);f=D(J),v=D(K),u=T(J,f,1),h=T(K,v,1)}else throw"invalid block type"}else{var U=P(l)+4,z=e[U-4]|e[U-3]<<8,W=U+z;if(W>n){if(o)throw"unexpected EOF";break}i&&a(c+z),t.set(e.subarray(U,W),c),r.b=c+=z,r.p=l=8*W;continue}if(l>A){if(o)throw"unexpected EOF";break}}i&&a(c+131072);for(var V=(1<<f)-1,Y=(1<<v)-1,Q=l;;Q=l){var j=u[I(e,l)&V],X=j>>>4;if((l+=15&j)>A){if(o)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(X<256)t[c++]=X;else if(256==X){Q=l,u=null;break}else{var Z=X-254;if(X>264){var O=X-257,$=p[O];Z=F(e,l,(1<<$)-1)+y[O],l+=$}var q=h[I(e,l)&Y],ee=q>>>4;if(!q)throw"invalid distance";l+=15&q;var K=C[ee];if(ee>3){var $=m[ee];K+=I(e,l)&(1<<$)-1,l+=$}if(l>A){if(o)throw"unexpected EOF";break}i&&a(c+131072);for(var et=c+Z;c<et;c+=4)t[c]=t[c-K],t[c+1]=t[c+1-K],t[c+2]=t[c+2-K],t[c+3]=t[c+3-K];c=et}}r.l=u,r.p=Q,r.b=c,u&&(s=1,r.m=f,r.d=h,r.n=v)}while(!s);return c==t.length?t:k(t,0,c)},H=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},G=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},U=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,o=r.slice();if(!i)return[V,0];if(1==i){var a=new d(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=o[0].s,n=1;n<i;++n)o[n].s>p&&(p=o[n].s);var m=new h(p+1),g=j(r[u-1],m,0);if(g>t){var n=0,v=0,A=g-t,y=1<<A;for(o.sort(function(e,t){return m[t.s]-m[e.s]||e.f-t.f});n<i;++n){var b=o[n].s;if(m[b]>t)v+=y-(1<<g-m[b]),m[b]=t;else break}for(v>>>=A;v>0;){var E=o[n].s;m[E]<t?v-=1<<t-m[E]++-1:++n}for(;n>=0&&v;--n){var C=o[n].s;m[C]==t&&(--m[C],++v)}g=t}return[new d(m),g]},j=function(e,t,r){return -1==e.s?Math.max(j(e.l,t,r+1),j(e.r,t,r+1)):t[e.s]=r},N=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new h(++t),n=0,i=e[0],o=1,a=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return[r.subarray(0,n),t]},J=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},K=function(e,t,r){var n=r.length,i=P(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<n;++o)e[i+o+4]=r[o];return(i+4+n)*8},z=function(e,t,r,n,i,o,a,s,l,c,u){H(t,u++,r),++i[256];for(var d,f,v,A,y=U(i,15),b=y[0],E=y[1],C=U(o,15),B=C[0],_=C[1],w=N(b),x=w[0],M=w[1],S=N(B),D=S[0],F=S[1],I=new h(19),P=0;P<x.length;++P)I[31&x[P]]++;for(var P=0;P<D.length;++P)I[31&D[P]]++;for(var k=U(I,7),L=k[0],j=k[1],z=19;z>4&&!L[g[z-1]];--z);var W=c+5<<3,V=J(i,O)+J(o,R)+a,Y=J(i,b)+J(o,B)+a+14+3*z+J(I,L)+(2*I[16]+3*I[17]+7*I[18]);if(W<=V&&W<=Y)return K(t,u,e.subarray(l,l+c));if(H(t,u,1+(Y<V)),u+=2,Y<V){d=T(b,E,0),f=b,v=T(B,_,0),A=B;var Q=T(L,j,0);H(t,u,M-257),H(t,u+5,F-1),H(t,u+10,z-4),u+=14;for(var P=0;P<z;++P)H(t,u+3*P,L[g[P]]);u+=3*z;for(var X=[x,D],Z=0;Z<2;++Z)for(var $=X[Z],P=0;P<$.length;++P){var q=31&$[P];H(t,u,Q[q]),u+=L[q],q>15&&(H(t,u,$[P]>>>5&127),u+=$[P]>>>12)}}else d=null,f=O,v=null,A=R;for(var P=0;P<s;++P)if(n[P]>255){var q=n[P]>>>18&31;G(t,u,d[q+257]),u+=f[q+257],q>7&&(H(t,u,n[P]>>>23&31),u+=p[q]);var ee=31&n[P];G(t,u,v[ee]),u+=A[ee],ee>3&&(G(t,u,n[P]>>>5&8191),u+=m[ee])}else G(t,u,d[n[P]]),u+=f[n[P]];return G(t,u,d[256]),u+f[256]},W=new f([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V=new d(0),Y=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function Q(e,t){return L((Y(e),e.subarray(2,-4)),t)}var X="undefined"!=typeof TextDecoder&&new TextDecoder;try{X.decode(V,{stream:!0})}catch(e){}let Z="colorSpace"in new a.Texture;class $ extends a.DataTextureLoader{parse(e){let t={l:0,c:0,lc:0};function r(e,r,n,i,o){for(;n<e;)r=r<<8|x(i,o),n+=8;n-=e,t.l=r>>n&(1<<e)-1,t.c=r,t.lc=n}let n=Array(59),i={c:0,lc:0};function o(e,t,r,n){e=e<<8|x(r,n),t+=8,i.c=e,i.lc=t}let s={c:0,lc:0};function l(e,t,r,n,a,l,c,u,d,h){if(e==t){n<8&&(o(r,n,a,c),r=i.c,n=i.lc);var f=r>>(n-=8),f=new Uint8Array([f])[0];if(d.value+f>h)return!1;for(var p=u[d.value-1];f-- >0;)u[d.value++]=p}else{if(!(d.value<h))return!1;u[d.value++]=e}s.c=r,s.lc=n}function c(e){var t=65535&e;return t>32767?t-65536:t}let u={a:0,b:0};function d(e,t){var r=c(e),n=c(t),i=r+(1&n)+(n>>1),o=i-n;u.a=i,u.b=o}function h(e,t){var r=65535&t,n=(65535&e)-(r>>1)&65535;u.a=r+n-32768&65535,u.b=n}function f(e,a,c,u,d,h){var f=c.value,p=w(a,c),m=w(a,c);c.value+=4;var g=w(a,c);if(c.value+=4,p<0||p>=65537||m<0||m>=65537)throw"Something wrong with HUF_ENCSIZE";var v=Array(65537),A=Array(16384);!function(e){for(var t=0;t<16384;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(A);var y=u-(c.value-f);if(!function(e,i,o,a,s,l,c){for(var u=0,d=0;s<=l;s++){if(o.value-o.value>a)return!1;r(6,u,d,e,o);var h=t.l;if(u=t.c,d=t.lc,c[s]=h,63==h){if(o.value-o.value>a)throw"Something wrong with hufUnpackEncTable";r(8,u,d,e,o);var f=t.l+6;if(u=t.c,d=t.lc,s+f>l+1)throw"Something wrong with hufUnpackEncTable";for(;f--;)c[s++]=0;s--}else if(h>=59){var f=h-59+2;if(s+f>l+1)throw"Something wrong with hufUnpackEncTable";for(;f--;)c[s++]=0;s--}}!function(e){for(var t=0;t<=58;++t)n[t]=0;for(var t=0;t<65537;++t)n[e[t]]+=1;for(var r=0,t=58;t>0;--t){var i=r+n[t]>>1;n[t]=r,r=i}for(var t=0;t<65537;++t){var o=e[t];o>0&&(e[t]=o|n[o]++<<6)}}(c)}(e,0,c,y,p,m,v),g>8*(u-(c.value-f)))throw"Something wrong with hufUncompress";!function(e,t,r,n){for(;t<=r;t++){var i=e[t]>>6,o=63&e[t];if(i>>o)throw"Invalid table entry";if(o>14){var a=n[i>>o-14];if(a.len)throw"Invalid table entry";if(a.lit++,a.p){var s=a.p;a.p=Array(a.lit);for(var l=0;l<a.lit-1;++l)a.p[l]=s[l]}else a.p=[,];a.p[a.lit-1]=t}else if(o)for(var c=0,l=1<<14-o;l>0;l--){var a=n[(i<<14-o)+c];if(a.len||a.p)throw"Invalid table entry";a.len=o,a.lit=t,c++}}}(v,p,m,A),function(e,t,r,n,a,c,u,d,h,f){for(var p=0,m=0,g=Math.trunc(a.value+(c+7)/8);a.value<g;)for(o(p,m,r,a),p=i.c,m=i.lc;m>=14;){var v=t[p>>m-14&16383];if(v.len)m-=v.len,l(v.lit,u,p,m,r,n,a,h,f,d),p=s.c,m=s.lc;else{if(!v.p)throw"hufDecode issues";for(A=0;A<v.lit;A++){for(var A,y=63&e[v.p[A]];m<y&&a.value<g;)o(p,m,r,a),p=i.c,m=i.lc;if(m>=y&&e[v.p[A]]>>6==(p>>m-y&(1<<y)-1)){m-=y,l(v.p[A],u,p,m,r,n,a,h,f,d),p=s.c,m=s.lc;break}}if(A==v.lit)throw"hufDecode issues"}}var b=8-c&7;for(p>>=b,m-=b;m>0;){var v=t[p<<14-m&16383];if(v.len)m-=v.len,l(v.lit,u,p,m,r,n,a,h,f,d),p=s.c,m=s.lc;else throw"hufDecode issues"}}(v,A,e,a,c,g,m,h,d,{value:0})}function p(e){for(var t=1;t<e.length;t++){var r=e[t-1]+e[t]-128;e[t]=r}}function m(e,t){for(var r=0,n=Math.floor((e.length+1)/2),i=0,o=e.length-1;!(i>o)&&(t[i++]=e[r++],!(i>o));)t[i++]=e[n++]}function g(e){for(var t=e.byteLength,r=[],n=0,i=new DataView(e);t>0;){var o=i.getInt8(n++);if(o<0){var a=-o;t-=a+1;for(var s=0;s<a;s++)r.push(i.getUint8(n++))}else{var a=o;t-=2;for(var l=i.getUint8(n++),s=0;s<a+1;s++)r.push(l)}}return r}function v(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function A(e){var t=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),r=new Uint8Array(g(t)),n=new Uint8Array(r.length);return p(r),m(r,n),new DataView(n.buffer)}function y(e){var t=Q(e.array.slice(e.offset.value,e.offset.value+e.size)),r=new Uint8Array(t.length);return p(t),m(t,r),new DataView(r.buffer)}function b(e){for(var t=e.viewer,r={value:e.offset.value},n=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),i=new Uint8Array(8192),o=0,a=Array(e.channels),s=0;s<e.channels;s++)a[s]={},a[s].start=o,a[s].end=a[s].start,a[s].nx=e.width,a[s].ny=e.lines,a[s].size=e.type,o+=a[s].nx*a[s].ny*a[s].size;var l=D(t,r),c=D(t,r);if(c>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(l<=c)for(var s=0;s<c-l+1;s++)i[s+l]=T(t,r);var p=new Uint16Array(65536),m=function(e,t){for(var r=0,n=0;n<65536;++n)(0==n||e[n>>3]&1<<(7&n))&&(t[r++]=n);for(var i=r-1;r<65536;)t[r++]=0;return i}(i,p),g=w(t,r);f(e.array,t,r,g,n,o);for(var s=0;s<e.channels;++s)for(var v=a[s],A=0;A<a[s].size;++A)!function(e,t,r,n,i,o,a){for(var s=a<16384,l=r>i?i:r,c=1;c<=l;)c<<=1;for(c>>=1,f=c,c>>=1;c>=1;){for(var f,p,m,g,v,A=0,y=0+o*(i-f),b=o*c,E=o*f,C=n*c,B=n*f;A<=y;A+=E){for(var _=A,w=A+n*(r-f);_<=w;_+=B){var x=_+C,T=_+b,O=T+C;s?(d(e[_+t],e[T+t]),p=u.a,g=u.b,d(e[x+t],e[O+t]),m=u.a,v=u.b,d(p,m),e[_+t]=u.a,e[x+t]=u.b,d(g,v)):(h(e[_+t],e[T+t]),p=u.a,g=u.b,h(e[x+t],e[O+t]),m=u.a,v=u.b,h(p,m),e[_+t]=u.a,e[x+t]=u.b,h(g,v)),e[T+t]=u.a,e[O+t]=u.b}if(r&c){var T=_+b;s?d(e[_+t],e[T+t]):h(e[_+t],e[T+t]),p=u.a,e[T+t]=u.b,e[_+t]=p}}if(i&c)for(var _=A,w=A+n*(r-f);_<=w;_+=B){var x=_+C;s?d(e[_+t],e[x+t]):h(e[_+t],e[x+t]),p=u.a,e[x+t]=u.b,e[_+t]=p}f=c,c>>=1}}(n,v.start+A,v.nx,v.size,v.ny,v.nx*v.size,m);!function(e,t,r){for(var n=0;n<r;++n)t[n]=e[t[n]]}(p,n,o);for(var y=0,b=new Uint8Array(n.buffer.byteLength),E=0;E<e.lines;E++)for(var C=0;C<e.channels;C++){var v=a[C],B=v.nx*v.size,_=new Uint8Array(n.buffer,2*v.end,2*B);b.set(_,y),y+=2*B,v.end+=B}return new DataView(b.buffer)}function E(e){var t=Q(e.array.slice(e.offset.value,e.offset.value+e.size));let r=e.lines*e.channels*e.width,n=1==e.type?new Uint16Array(r):new Uint32Array(r),i=0,o=0,a=[,,,,];for(let r=0;r<e.lines;r++)for(let r=0;r<e.channels;r++){let r=0;switch(e.type){case 1:a[0]=i,a[1]=a[0]+e.width,i=a[1]+e.width;for(let i=0;i<e.width;++i)r+=t[a[0]++]<<8|t[a[1]++],n[o]=r,o++;break;case 2:a[0]=i,a[1]=a[0]+e.width,a[2]=a[1]+e.width,i=a[2]+e.width;for(let i=0;i<e.width;++i)r+=t[a[0]++]<<24|t[a[1]++]<<16|t[a[2]++]<<8,n[o]=r,o++}}return new DataView(n.buffer)}function C(e){var t=e.viewer,r={value:e.offset.value},n=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),i={version:O(t,r),unknownUncompressedSize:O(t,r),unknownCompressedSize:O(t,r),acCompressedSize:O(t,r),dcCompressedSize:O(t,r),rleCompressedSize:O(t,r),rleUncompressedSize:O(t,r),rleRawSize:O(t,r),totalAcUncompressedCount:O(t,r),totalDcUncompressedCount:O(t,r),acCompression:O(t,r)};if(i.version<2)throw"EXRLoader.parse: "+L.compression+" version "+i.version+" is unsupported";for(var o=[],s=D(t,r)-2;s>0;){var l=B(t.buffer,r),c=T(t,r),u=c>>2&3,d=(c>>4)-1,h=new Int8Array([d])[0],p=T(t,r);o.push({name:l,index:h,type:p,compression:u}),s-=l.length+3}for(var m=L.channels,v=Array(e.channels),A=0;A<e.channels;++A){var b=v[A]={},E=m[A];b.name=E.name,b.compression=0,b.decoded=!1,b.type=E.pixelType,b.pLinear=E.pLinear,b.width=e.width,b.height=e.lines}for(var C={idx:[,,,]},_=0;_<e.channels;++_)for(var b=v[_],A=0;A<o.length;++A){var w=o[A];b.name==w.name&&(b.compression=w.compression,w.index>=0&&(C.idx[w.index]=_),b.offset=_)}if(i.acCompressedSize>0)switch(i.acCompression){case 0:var x=new Uint16Array(i.totalAcUncompressedCount);f(e.array,t,r,i.acCompressedSize,x,i.totalAcUncompressedCount);break;case 1:var R=e.array.slice(r.value,r.value+i.totalAcUncompressedCount),M=Q(R),x=new Uint16Array(M.buffer);r.value+=i.totalAcUncompressedCount}if(i.dcCompressedSize>0){var F={array:e.array,offset:r,size:i.dcCompressedSize},I=new Uint16Array(y(F).buffer);r.value+=i.dcCompressedSize}if(i.rleRawSize>0){var R=e.array.slice(r.value,r.value+i.rleCompressedSize),M=Q(R),P=g(M.buffer);r.value+=i.rleCompressedSize}for(var k=0,H=Array(v.length),A=0;A<H.length;++A)H[A]=[];for(var G=0;G<e.lines;++G)for(var U=0;U<v.length;++U)H[U].push(k),k+=v[U].width*e.type*2;!function(e,t,r,n,i,o){var s=new DataView(o.buffer),l=r[e.idx[0]].width,c=r[e.idx[0]].height,u=Math.floor(l/8),d=Math.ceil(l/8),h=Math.ceil(c/8),f=l-(d-1)*8,p=c-(h-1)*8,m={value:0},g=[,,,],v=[,,,],A=[,,,],y=[,,,],b=[,,,];for(let r=0;r<3;++r)b[r]=t[e.idx[r]],g[r]=r<1?0:g[r-1]+d*h,v[r]=new Float32Array(64),A[r]=new Uint16Array(64),y[r]=new Uint16Array(64*d);for(let t=0;t<h;++t){var E,C,B=8;t==h-1&&(B=p);var _=8;for(let e=0;e<d;++e){e==d-1&&(_=f);for(let e=0;e<3;++e)A[e].fill(0),A[e][0]=i[g[e]++],function(e,t,r){for(var n,i=1;i<64;)65280==(n=t[e.value])?i=64:n>>8==255?i+=255&n:(r[i]=n,i++),e.value++}(m,n,A[e]),E=A[e],(C=v[e])[0]=S(E[0]),C[1]=S(E[1]),C[2]=S(E[5]),C[3]=S(E[6]),C[4]=S(E[14]),C[5]=S(E[15]),C[6]=S(E[27]),C[7]=S(E[28]),C[8]=S(E[2]),C[9]=S(E[4]),C[10]=S(E[7]),C[11]=S(E[13]),C[12]=S(E[16]),C[13]=S(E[26]),C[14]=S(E[29]),C[15]=S(E[42]),C[16]=S(E[3]),C[17]=S(E[8]),C[18]=S(E[12]),C[19]=S(E[17]),C[20]=S(E[25]),C[21]=S(E[30]),C[22]=S(E[41]),C[23]=S(E[43]),C[24]=S(E[9]),C[25]=S(E[11]),C[26]=S(E[18]),C[27]=S(E[24]),C[28]=S(E[31]),C[29]=S(E[40]),C[30]=S(E[44]),C[31]=S(E[53]),C[32]=S(E[10]),C[33]=S(E[19]),C[34]=S(E[23]),C[35]=S(E[32]),C[36]=S(E[39]),C[37]=S(E[45]),C[38]=S(E[52]),C[39]=S(E[54]),C[40]=S(E[20]),C[41]=S(E[22]),C[42]=S(E[33]),C[43]=S(E[38]),C[44]=S(E[46]),C[45]=S(E[51]),C[46]=S(E[55]),C[47]=S(E[60]),C[48]=S(E[21]),C[49]=S(E[34]),C[50]=S(E[37]),C[51]=S(E[47]),C[52]=S(E[50]),C[53]=S(E[56]),C[54]=S(E[59]),C[55]=S(E[61]),C[56]=S(E[35]),C[57]=S(E[36]),C[58]=S(E[48]),C[59]=S(E[49]),C[60]=S(E[57]),C[61]=S(E[58]),C[62]=S(E[62]),C[63]=S(E[63]),function(e){let t=.5*Math.cos(3.14159/16),r=.5*Math.cos(3.14159/8),n=.5*Math.cos(3*3.14159/16),i=.5*Math.cos(3*3.14159/8);for(var o=[,,,,],a=[,,,,],s=[,,,,],l=[,,,,],c=0;c<8;++c){var u=8*c;o[0]=r*e[u+2],o[1]=i*e[u+2],o[2]=r*e[u+6],o[3]=i*e[u+6],a[0]=t*e[u+1]+n*e[u+3]+.2777854612564676*e[u+5]+.09754573032714427*e[u+7],a[1]=n*e[u+1]-.09754573032714427*e[u+3]-t*e[u+5]-.2777854612564676*e[u+7],a[2]=.2777854612564676*e[u+1]-t*e[u+3]+.09754573032714427*e[u+5]+n*e[u+7],a[3]=.09754573032714427*e[u+1]-.2777854612564676*e[u+3]+n*e[u+5]-t*e[u+7],s[0]=.35355362513961314*(e[u+0]+e[u+4]),s[3]=.35355362513961314*(e[u+0]-e[u+4]),s[1]=o[0]+o[3],s[2]=o[1]-o[2],l[0]=s[0]+s[1],l[1]=s[3]+s[2],l[2]=s[3]-s[2],l[3]=s[0]-s[1],e[u+0]=l[0]+a[0],e[u+1]=l[1]+a[1],e[u+2]=l[2]+a[2],e[u+3]=l[3]+a[3],e[u+4]=l[3]-a[3],e[u+5]=l[2]-a[2],e[u+6]=l[1]-a[1],e[u+7]=l[0]-a[0]}for(var d=0;d<8;++d)o[0]=r*e[16+d],o[1]=i*e[16+d],o[2]=r*e[48+d],o[3]=i*e[48+d],a[0]=t*e[8+d]+n*e[24+d]+.2777854612564676*e[40+d]+.09754573032714427*e[56+d],a[1]=n*e[8+d]-.09754573032714427*e[24+d]-t*e[40+d]-.2777854612564676*e[56+d],a[2]=.2777854612564676*e[8+d]-t*e[24+d]+.09754573032714427*e[40+d]+n*e[56+d],a[3]=.09754573032714427*e[8+d]-.2777854612564676*e[24+d]+n*e[40+d]-t*e[56+d],s[0]=.35355362513961314*(e[d]+e[32+d]),s[3]=.35355362513961314*(e[d]-e[32+d]),s[1]=o[0]+o[3],s[2]=o[1]-o[2],l[0]=s[0]+s[1],l[1]=s[3]+s[2],l[2]=s[3]-s[2],l[3]=s[0]-s[1],e[0+d]=l[0]+a[0],e[8+d]=l[1]+a[1],e[16+d]=l[2]+a[2],e[24+d]=l[3]+a[3],e[32+d]=l[3]-a[3],e[40+d]=l[2]-a[2],e[48+d]=l[1]-a[1],e[56+d]=l[0]-a[0]}(v[e]);!function(e){for(var t=0;t<64;++t){var r=e[0][t],n=e[1][t],i=e[2][t];e[0][t]=r+1.5747*i,e[1][t]=r-.1873*n-.4682*i,e[2][t]=r+1.8556*n}}(v);for(let t=0;t<3;++t)!function(e,t,r){for(var n,i=0;i<64;++i)t[r+i]=a.DataUtils.toHalfFloat((n=e[i])<=1?Math.sign(n)*Math.pow(Math.abs(n),2.2):Math.sign(n)*Math.pow(9.025013291561939,Math.abs(n)-1))}(v[t],y[t],64*e)}let o=0;for(let n=0;n<3;++n){let i=r[e.idx[n]].type;for(let e=8*t;e<8*t+B;++e){o=b[n][e];for(let t=0;t<u;++t){let r=64*t+(7&e)*8;s.setUint16(o+0*i,y[n][r+0],!0),s.setUint16(o+2*i,y[n][r+1],!0),s.setUint16(o+4*i,y[n][r+2],!0),s.setUint16(o+6*i,y[n][r+3],!0),s.setUint16(o+8*i,y[n][r+4],!0),s.setUint16(o+10*i,y[n][r+5],!0),s.setUint16(o+12*i,y[n][r+6],!0),s.setUint16(o+14*i,y[n][r+7],!0),o+=16*i}}if(u!=d)for(let e=8*t;e<8*t+B;++e){let t=b[n][e]+8*u*2*i,r=64*u+(7&e)*8;for(let e=0;e<_;++e)s.setUint16(t+2*e*i,y[n][r+e],!0)}}}for(var w=new Uint16Array(l),s=new DataView(o.buffer),x=0;x<3;++x){r[e.idx[x]].decoded=!0;var T=r[e.idx[x]].type;if(2==r[x].type)for(var O=0;O<c;++O){let e=b[x][O];for(var R=0;R<l;++R)w[R]=s.getUint16(e+2*R*T,!0);for(var R=0;R<l;++R)s.setFloat32(e+2*R*T,S(w[R]),!0)}}}(C,H,v,x,I,n);for(var A=0;A<v.length;++A){var b=v[A];if(!b.decoded){if(2===b.compression)for(var j=0,N=0,G=0;G<e.lines;++G){for(var J=H[A][j],K=0;K<b.width;++K){for(var z=0;z<2*b.type;++z)n[J++]=P[N+z*b.width*b.height];N++}j++}else throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(n.buffer)}function B(e,t){for(var r=new Uint8Array(e),n=0;0!=r[t.value+n];)n+=1;var i=new TextDecoder().decode(r.slice(t.value,t.value+n));return t.value=t.value+n+1,i}function _(e,t){var r=e.getInt32(t.value,!0);return t.value=t.value+4,r}function w(e,t){var r=e.getUint32(t.value,!0);return t.value=t.value+4,r}function x(e,t){var r=e[t.value];return t.value=t.value+1,r}function T(e,t){var r=e.getUint8(t.value);return t.value=t.value+1,r}let O=function(e,t){let r;return r="getBigInt64"in DataView.prototype?Number(e.getBigInt64(t.value,!0)):e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,r};function R(e,t){var r=e.getFloat32(t.value,!0);return t.value+=4,r}function M(e,t){return a.DataUtils.toHalfFloat(R(e,t))}function S(e){var t=(31744&e)>>10,r=1023&e;return(e>>15?-1:1)*(t?31===t?r?NaN:1/0:Math.pow(2,t-15)*(1+r/1024):r/1024*6103515625e-14)}function D(e,t){var r=e.getUint16(t.value,!0);return t.value+=2,r}function F(e,t){return S(D(e,t))}let I=new DataView(e),P=new Uint8Array(e),k={value:0},L=function(e,t,r){let n={};if(20000630!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";n.version=e.getUint8(4);let i=e.getUint8(5);n.spec={singleTile:!!(2&i),longName:!!(4&i),deepFormat:!!(8&i),multiPart:!!(16&i)},r.value=8;for(var o=!0;o;){var a=B(t,r);if(0==a)o=!1;else{var s=B(t,r),l=w(e,r),c=function(e,t,r,n,i){var o,a,s,l,c;if("string"===n||"stringvector"===n||"iccProfile"===n)return o=new TextDecoder().decode(new Uint8Array(t).slice(r.value,r.value+i)),r.value=r.value+i,o;if("chlist"===n)return function(e,t,r,n){for(var i=r.value,o=[];r.value<i+n-1;){var a=B(t,r),s=_(e,r),l=T(e,r);r.value+=3;var c=_(e,r),u=_(e,r);o.push({name:a,pixelType:s,pLinear:l,xSampling:c,ySampling:u})}return r.value+=1,o}(e,t,r,i);if("chromaticities"===n)return a=R(e,r),s=R(e,r),l=R(e,r),c=R(e,r),{redX:a,redY:s,greenX:l,greenY:c,blueX:R(e,r),blueY:R(e,r),whiteX:R(e,r),whiteY:R(e,r)};if("compression"===n)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][T(e,r)];if("box2i"===n)return{xMin:w(e,r),yMin:w(e,r),xMax:w(e,r),yMax:w(e,r)};if("lineOrder"===n)return["INCREASING_Y"][T(e,r)];if("float"===n)return R(e,r);else if("v2f"===n)return[R(e,r),R(e,r)];else if("v3f"===n)return[R(e,r),R(e,r),R(e,r)];else if("int"===n)return _(e,r);else if("rational"===n)return[_(e,r),w(e,r)];else if("timecode"===n)return[w(e,r),w(e,r)];else return"preview"===n?(r.value+=i,"skipped"):void(r.value+=i)}(e,t,r,s,l);void 0===c?console.warn("EXRLoader.parse: skipped unknown header attribute type '".concat(s,"'.")):n[a]=c}}if((-5&i)!=0)throw console.error("EXRHeader:",n),"THREE.EXRLoader: provided file is currently unsupported.";return n}(I,e,k),H=function(e,t,r,n,i){let o={size:0,viewer:t,array:r,offset:n,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[Z?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":o.lines=1,o.uncompress=v;break;case"RLE_COMPRESSION":o.lines=1,o.uncompress=A;break;case"ZIPS_COMPRESSION":o.lines=1,o.uncompress=y;break;case"ZIP_COMPRESSION":o.lines=16,o.uncompress=y;break;case"PIZ_COMPRESSION":o.lines=32,o.uncompress=b;break;case"PXR24_COMPRESSION":o.lines=16,o.uncompress=E;break;case"DWAA_COMPRESSION":o.lines=32,o.uncompress=C;break;case"DWAB_COMPRESSION":o.lines=256,o.uncompress=C;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(o.scanlineBlockSize=o.lines,1==o.type)switch(i){case a.FloatType:o.getter=F,o.inputSize=2;break;case a.HalfFloatType:o.getter=D,o.inputSize=2}else if(2==o.type)switch(i){case a.FloatType:o.getter=R,o.inputSize=4;break;case a.HalfFloatType:o.getter=M,o.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+o.type+" for "+e.compression+".";o.blockCount=(e.dataWindow.yMax+1)/o.scanlineBlockSize;for(var s=0;s<o.blockCount;s++)O(t,n);o.outputChannels=3==o.channels?4:o.channels;let l=o.width*o.height*o.outputChannels;switch(i){case a.FloatType:o.byteArray=new Float32Array(l),o.channels<o.outputChannels&&o.byteArray.fill(1,0,l);break;case a.HalfFloatType:o.byteArray=new Uint16Array(l),o.channels<o.outputChannels&&o.byteArray.fill(15360,0,l);break;default:console.error("THREE.EXRLoader: unsupported type: ",i)}return o.bytesPerLine=o.width*o.inputSize*o.channels,4==o.outputChannels?o.format=a.RGBAFormat:o.format=a.RedFormat,Z?o.colorSpace="srgb-linear":o.encoding=3e3,o}(L,I,P,k,this.type),G={value:0},U={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<H.height/H.scanlineBlockSize;e++){let t=w(I,k);H.size=w(I,k),H.lines=t+H.scanlineBlockSize>H.height?H.height-t:H.scanlineBlockSize;let r=H.size<H.lines*H.bytesPerLine?H.uncompress(H):v(H);k.value+=H.size;for(let t=0;t<H.scanlineBlockSize;t++){let n=t+e*H.scanlineBlockSize;if(n>=H.height)break;for(let e=0;e<H.channels;e++){let i=U[L.channels[e].name];for(let o=0;o<H.width;o++){G.value=(H.channels*H.width*t+e*H.width+o)*H.inputSize;let a=(H.height-1-n)*(H.width*H.outputChannels)+o*H.outputChannels+i;H.byteArray[a]=H.getter(r,G)}}}}return{header:L,width:H.width,height:H.height,data:H.byteArray,format:H.format,[Z?"colorSpace":"encoding"]:H[Z?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){Z?e.colorSpace=r.colorSpace:e.encoding=r.encoding,e.minFilter=a.LinearFilter,e.magFilter=a.LinearFilter,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,r)},r,n)}constructor(e){super(e),this.type=a.HalfFloatType}}let q={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},ee=e=>Array.isArray(e);function et(){var e;let t,{files:r=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:n="",preset:i,encoding:s,extensions:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=null,d=!1;if(i){if(!(i in q))throw Error("Preset must be one of: "+Object.keys(q).join(", "));r=q[i],n="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/"}if(d=ee(r),t=ee(r)?"cube":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":null==(e=r.split(".").pop())||null==(e=e.split("?"))||null==(e=e.shift())?void 0:e.toLowerCase(),!(u=d?a.CubeTextureLoader:"hdr"===t?c:"exr"===t?$:null))throw Error("useEnvironment: Unrecognized file extension: "+r);let h=(0,o.F)(u,d?[r]:r,e=>{null==e.setPath||e.setPath(n),l&&l(e)}),f=d?h[0]:h;return f.mapping=d?a.CubeReflectionMapping:a.EquirectangularReflectionMapping,"colorSpace"in f?f.colorSpace=(null!=s?s:d)?"srgb":"srgb-linear":f.encoding=(null!=s?s:d)?3001:3e3,f}let er=e=>e.current&&e.current.isScene,en=e=>er(e)?e.current:e;function ei(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=en(t||r),a=o.background,s=o.environment,l=o.backgroundBlurriness||0;return"only"!==e&&(o.environment=n),e&&(o.background=n),e&&void 0!==o.backgroundBlurriness&&(o.backgroundBlurriness=i),()=>{"only"!==e&&(o.environment=s),e&&(o.background=a),e&&void 0!==o.backgroundBlurriness&&(o.backgroundBlurriness=l)}}function eo(e){let{scene:t,background:r=!1,blur:n,map:a}=e,s=(0,o.A)(e=>e.scene);return i.useLayoutEffect(()=>{if(a)return ei(r,t,s,a,n)},[s,t,a,r,n]),null}function ea(e){let{background:t=!1,scene:r,blur:n,...a}=e,s=et(a),l=(0,o.A)(e=>e.scene);return i.useLayoutEffect(()=>ei(t,r,l,s,n),[s,t,r,l,n]),null}function es(e){let{children:t,near:r=1,far:n=1e3,resolution:s=256,frames:l=1,map:c,background:u=!1,blur:d,scene:h,files:f,path:p,preset:m,extensions:g}=e,v=(0,o.A)(e=>e.gl),A=(0,o.A)(e=>e.scene),y=i.useRef(null),[b]=i.useState(()=>new a.Scene),E=i.useMemo(()=>{let e=new a.WebGLCubeRenderTarget(s);return e.texture.type=a.HalfFloatType,e},[s]);i.useLayoutEffect(()=>(1===l&&y.current.update(v,b),ei(u,h,A,E.texture,d)),[t,b,E.texture,h,A,u,l,v]);let C=1;return(0,o.C)(()=>{(l===1/0||C<l)&&(y.current.update(v,b),C++)}),i.createElement(i.Fragment,null,(0,o.g)(i.createElement(i.Fragment,null,t,i.createElement("cubeCamera",{ref:y,args:[r,n,E]}),f||m?i.createElement(ea,{background:!0,files:f,preset:m,path:p,extensions:g}):c?i.createElement(eo,{background:!0,map:c,extensions:g}):null),b))}function el(e){var t,r,a,s;let c=et(e),u=e.map||c;i.useMemo(()=>(0,o.e)({GroundProjectedEnvImpl:l}),[]);let d=i.useMemo(()=>[u],[u]),h=null==(t=e.ground)?void 0:t.height,f=null==(r=e.ground)?void 0:r.radius,p=null!==(a=null==(s=e.ground)?void 0:s.scale)&&void 0!==a?a:1e3;return i.createElement(i.Fragment,null,i.createElement(eo,(0,n.Z)({},e,{map:u})),i.createElement("groundProjectedEnvImpl",{args:d,scale:p,height:h,radius:f}))}function ec(e){return e.ground?i.createElement(el,e):e.map?i.createElement(eo,e):e.children?i.createElement(es,e):i.createElement(ea,e)}},2017:function(e,t,r){r.d(t,{b:function(){return a}});var n=r(4090),i=r(3966),o=r(6376);let a=n.forwardRef((e,t)=>{let{children:r,enabled:a=!0,speed:s=1,rotationIntensity:l=1,floatIntensity:c=1,floatingRange:u=[-.1,.1],...d}=e,h=n.useRef(null);n.useImperativeHandle(t,()=>h.current,[]);let f=n.useRef(1e4*Math.random());return(0,i.C)(e=>{var t,r;if(!a||0===s)return;let n=f.current+e.clock.getElapsedTime();h.current.rotation.x=Math.cos(n/4*s)/8*l,h.current.rotation.y=Math.sin(n/4*s)/8*l,h.current.rotation.z=Math.sin(n/4*s)/20*l;let i=Math.sin(n/4*s)/10;i=o.MathUtils.mapLinear(i,-.1,.1,null!==(t=null==u?void 0:u[0])&&void 0!==t?t:-.1,null!==(r=null==u?void 0:u[1])&&void 0!==r?r:.1),h.current.position.y=i*c,h.current.updateMatrix()}),n.createElement("group",d,n.createElement("group",{ref:h,matrixAutoUpdate:!1},r))})},9473:function(e,t,r){r.d(t,{o:function(){return h}});var n=r(2110),i=r(4090),o=r(4435),a=r(6376);function s(e,t){let r,n,i,o,s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=new a.Vector3,h=new a.Quaternion,f=new a.Vector3,p=new a.Matrix4,m=new a.Matrix4,g=new a.Matrix4;u.preserveMatrix=void 0===u.preserveMatrix||u.preserveMatrix,u.preservePosition=void 0===u.preservePosition||u.preservePosition,u.preserveHipPosition=void 0!==u.preserveHipPosition&&u.preserveHipPosition,u.useTargetMatrix=void 0!==u.useTargetMatrix&&u.useTargetMatrix,u.hip=void 0!==u.hip?u.hip:"hip",u.names=u.names||{};let v=t.isObject3D?t.skeleton.bones:c(t),A=e.isObject3D?e.skeleton.bones:c(e);if(e.isObject3D?e.skeleton.pose():(u.useTargetMatrix=!0,u.preserveMatrix=!1),u.preservePosition){s=[];for(let e=0;e<A.length;e++)s.push(A[e].position.clone())}if(u.preserveMatrix){e.updateMatrixWorld(),e.matrixWorld.identity();for(let t=0;t<e.children.length;++t)e.children[t].updateMatrixWorld(!0)}if(u.offsets){r=[];for(let e=0;e<A.length;++e)n=A[e],i=u.names[n.name]||n.name,u.offsets[i]&&(n.matrix.multiply(u.offsets[i]),n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld()),r.push(n.matrixWorld.clone())}for(let t=0;t<A.length;++t){if(n=A[t],o=l(i=u.names[n.name]||n.name,v),g.copy(n.matrixWorld),o){if(o.updateMatrixWorld(),u.useTargetMatrix?m.copy(o.matrixWorld):(m.copy(e.matrixWorld).invert(),m.multiply(o.matrixWorld)),f.setFromMatrixScale(m),m.scale(f.set(1/f.x,1/f.y,1/f.z)),g.makeRotationFromQuaternion(h.setFromRotationMatrix(m)),e.isObject3D){let t=A.indexOf(n),i=r?r[t]:p.copy(e.skeleton.boneInverses[t]).invert();g.multiply(i)}g.copyPosition(m)}n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(g)):n.matrix.copy(g),u.preserveHipPosition&&i===u.hip&&n.matrix.setPosition(d.set(0,n.position.y,0)),n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld()}if(u.preservePosition)for(let e=0;e<A.length;++e)n=A[e],(i=u.names[n.name]||n.name)!==u.hip&&n.position.copy(s[e]);u.preserveMatrix&&e.updateMatrixWorld(!0)}function l(e,t){for(let r=0,n=c(t);r<n.length;r++)if(e===n[r].name)return n[r]}function c(e){return Array.isArray(e)?e:e.bones}let u={retarget:s,retargetClip:function(e,t,r){let n,i,o,u,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};d.useFirstFramePosition=void 0!==d.useFirstFramePosition&&d.useFirstFramePosition,d.fps=void 0!==d.fps?d.fps:30,d.names=d.names||[],t.isObject3D||(t=function(e){let t=new a.SkeletonHelper(e.bones[0]);return t.skeleton=e,t}(t));let h=Math.round(r.duration*(d.fps/1e3)*1e3),f=1/d.fps,p=[],m=new a.AnimationMixer(t),g=c(e.skeleton),v=[];m.clipAction(r).play(),m.update(0),t.updateMatrixWorld();for(let r=0;r<h;++r){let a=r*f;s(e,t,d);for(let e=0;e<g.length;++e)l(u=d.names[g[e].name]||g[e].name,t.skeleton)&&(i=g[e],o=v[e]=v[e]||{bone:i},d.hip===u&&(o.pos||(o.pos={times:new Float32Array(h),values:new Float32Array(3*h)}),d.useFirstFramePosition&&(0===r&&(n=i.position.clone()),i.position.sub(n)),o.pos.times[r]=a,i.position.toArray(o.pos.values,3*r)),o.quat||(o.quat={times:new Float32Array(h),values:new Float32Array(4*h)}),o.quat.times[r]=a,i.quaternion.toArray(o.quat.values,4*r));m.update(f),t.updateMatrixWorld()}for(let e=0;e<v.length;++e)(o=v[e])&&(o.pos&&p.push(new a.VectorKeyframeTrack(".bones["+o.bone.name+"].position",o.pos.times,o.pos.values)),p.push(new a.QuaternionKeyframeTrack(".bones["+o.bone.name+"].quaternion",o.quat.times,o.quat.values)));return m.uncacheAction(r),new a.AnimationClip(r.name,-1,p)},clone:function(e){let t=new Map,r=new Map,n=e.clone();return function e(t,r,n){n(t,r);for(let i=0;i<t.children.length;i++)e(t.children[i],r.children[i],n)}(e,n,function(e,n){t.set(n,e),r.set(e,n)}),n.traverse(function(e){if(!e.isSkinnedMesh)return;let n=t.get(e),i=n.skeleton.bones;e.skeleton=n.skeleton.clone(),e.bindMatrix.copy(n.bindMatrix),e.skeleton.bones=i.map(function(e){return r.get(e)}),e.bind(e.skeleton,e.bindMatrix)}),n}},d=i.forwardRef((e,t)=>{let{isChild:r=!1,object:o,children:s,deep:l,castShadow:c,receiveShadow:h,inject:f,keys:p,...m}=e,g={keys:p,deep:l,inject:f,castShadow:c,receiveShadow:h};if(Array.isArray(o=i.useMemo(()=>{if(!1===r&&!Array.isArray(o)){let e=!1;if(o.traverse(t=>{t.isSkinnedMesh&&(e=!0)}),e)return u.clone(o)}return o},[o,r])))return i.createElement("group",(0,n.Z)({},m,{ref:t}),o.map(e=>i.createElement(d,(0,n.Z)({key:e.uuid,object:e},g))),s);let{children:v,...A}=function(e,t){let{keys:r=["near","far","color","distance","decay","penumbra","angle","intensity","skeleton","visible","castShadow","receiveShadow","morphTargetDictionary","morphTargetInfluences","name","geometry","material","position","rotation","scale","up","userData","bindMode","bindMatrix","bindMatrixInverse","skeleton"],deep:n,inject:o,castShadow:s,receiveShadow:l}=t,c={};for(let t of r)c[t]=e[t];return n&&(c.geometry&&"materialsOnly"!==n&&(c.geometry=c.geometry.clone()),c.material&&"geometriesOnly"!==n&&(c.material=c.material.clone())),o&&(c="function"==typeof o?{...c,children:o(e)}:i.isValidElement(o)?{...c,children:o}:{...c,...o}),e instanceof a.Mesh&&(s&&(c.castShadow=!0),l&&(c.receiveShadow=!0)),c}(o,g),y=o.type[0].toLowerCase()+o.type.slice(1);return i.createElement(y,(0,n.Z)({},A,m,{ref:t}),o.children.map(e=>"Bone"===e.type?i.createElement("primitive",(0,n.Z)({key:e.uuid,object:e},g)):i.createElement(d,(0,n.Z)({key:e.uuid,object:e},g,{isChild:!0}))),s,v)}),h=i.forwardRef((e,t)=>{let{src:r,...a}=e,{scene:s}=(0,o.L)(r);return i.createElement(d,(0,n.Z)({ref:t},a,{object:s}))})},7601:function(e,t,r){r.d(t,{v:function(){return a}});var n=r(4090),i=r(6376),o=r(3966);function a(e,t){let r=n.useRef(),[a]=n.useState(()=>t?t instanceof i.Object3D?{current:t}:t:r),[s]=n.useState(()=>new i.AnimationMixer(void 0));n.useLayoutEffect(()=>{t&&(a.current=t instanceof i.Object3D?t:t.current),s._root=a.current});let l=n.useRef({}),c=n.useMemo(()=>{let t={};return e.forEach(e=>Object.defineProperty(t,e.name,{enumerable:!0,get(){if(a.current)return l.current[e.name]||(l.current[e.name]=s.clipAction(e,a.current))},configurable:!0})),{ref:a,clips:e,actions:t,names:e.map(e=>e.name),mixer:s}},[e]);return(0,o.C)((e,t)=>s.update(t)),n.useEffect(()=>{let e=a.current;return()=>{l.current={},s.stopAllAction(),Object.values(c.actions).forEach(t=>{e&&s.uncacheAction(t,e)})}},[e]),c}},4435:function(e,t,r){let n;r.d(t,{L:function(){return eo}});var i=r(6376);let o=new WeakMap;class a extends i.Loader{setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,n){let o=new i.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,e=>{let r={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,r).then(t).catch(n)},r,n)}decodeDracoFile(e,t,r,n){let i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){let r;for(let e in t.attributeTypes){let r=t.attributeTypes[e];void 0!==r.BYTES_PER_ELEMENT&&(t.attributeTypes[e]=r.name)}let n=JSON.stringify(t);if(o.has(e)){let t=o.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i=this.workerNextTaskID++,a=e.byteLength,s=this._getWorker(i,a).then(n=>(r=n,new Promise((n,o)=>{r._callbacks[i]={resolve:n,reject:o},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return s.catch(()=>!0).then(()=>{r&&i&&this._releaseTask(r,i)}),o.set(e,{key:n,promise:s}),s}_createGeometry(e){let t=new i.BufferGeometry;e.index&&t.setIndex(new i.BufferAttribute(e.index.array,1));for(let r=0;r<e.attributes.length;r++){let n=e.attributes[r],o=n.name,a=n.array,s=n.itemSize;t.setAttribute(o,new i.BufferAttribute(a,s))}return t}_loadLibrary(e,t){let r=new i.FileLoader(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((t,n)=>{r.load(e,t,void 0,n)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{let r=t[0];e||(this.decoderConfig.wasmBinary=t[1]);let n=s.toString(),i=["/* draco decoder */",r,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){let r=t.data;switch(r.type){case"decode":e._callbacks[r.id].resolve(r);break;case"error":e._callbacks[r.id].reject(r);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});let r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}}function s(){let e,t;onmessage=function(r){let n=r.data;switch(n.type){case"init":e=n.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":let i=n.buffer,o=n.taskConfig;t.then(e=>{let t=e.draco,r=new t.Decoder,a=new t.DecoderBuffer;a.Init(new Int8Array(i),i.byteLength);try{let e=function(e,t,r,n){let i,o;let a=n.attributeIDs,s=n.attributeTypes,l=t.GetEncodedGeometryType(r);if(l===e.TRIANGULAR_MESH)i=new e.Mesh,o=t.DecodeBufferToMesh(r,i);else if(l===e.POINT_CLOUD)i=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,i);else throw Error("THREE.DRACOLoader: Unexpected geometry type.");if(!o.ok()||0===i.ptr)throw Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());let c={index:null,attributes:[]};for(let r in a){let o,l;let u=self[s[r]];if(n.useUniqueIDs)l=a[r],o=t.GetAttributeByUniqueId(i,l);else{if(-1===(l=t.GetAttributeId(i,e[a[r]])))continue;o=t.GetAttribute(i,l)}c.attributes.push(function(e,t,r,n,i,o){let a=o.num_components(),s=r.num_points()*a,l=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(r,o,c,l,u);let d=new i(e.HEAPF32.buffer,u,s).slice();return e._free(u),{name:n,array:d,itemSize:a}}(e,t,i,r,u,o))}return l===e.TRIANGULAR_MESH&&(c.index=function(e,t,r){let n=3*r.num_faces(),i=4*n,o=e._malloc(i);t.GetTrianglesUInt32Array(r,i,o);let a=new Uint32Array(e.HEAPF32.buffer,o,n).slice();return e._free(o),{array:a,itemSize:1}}(e,t,i)),e.destroy(i),c}(t,r,a,o),i=e.attributes.map(e=>e.array.buffer);e.index&&i.push(e.index.array.buffer),self.postMessage({type:"decode",id:n.id,geometry:e},i)}catch(e){console.error(e),self.postMessage({type:"error",id:n.id,error:e.message})}finally{t.destroy(a),t.destroy(r)}})}}}let l=()=>{let e;if(n)return n;let t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!=typeof WebAssembly)return{supported:!1};let i="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";WebAssembly.validate(t)&&(i="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");let o=WebAssembly.instantiate(function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);t[r]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let n=0;for(let i=0;i<e.length;++i)t[n++]=t[i]<60?r[t[i]]:(t[i]-60)*64+t[++i];return t.buffer.slice(0,n)}(i),{}).then(t=>{(e=t.instance).exports.__wasm_call_ctors()});function a(t,r,n,i,o,a){let s=e.exports.sbrk,l=n+3&-4,c=s(l*i),u=s(o.length),d=new Uint8Array(e.exports.memory.buffer);d.set(o,u);let h=t(c,n,i,u,o.length);if(0===h&&a&&a(c,l,i),r.set(d.subarray(c,c+n*i)),s(c-s(0)),0!==h)throw Error("Malformed buffer data: ".concat(h))}let s={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},l={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return n={ready:o,supported:!0,decodeVertexBuffer(t,r,n,i,o){a(e.exports.meshopt_decodeVertexBuffer,t,r,n,i,e.exports[s[o]])},decodeIndexBuffer(t,r,n,i){a(e.exports.meshopt_decodeIndexBuffer,t,r,n,i)},decodeIndexSequence(t,r,n,i){a(e.exports.meshopt_decodeIndexSequence,t,r,n,i)},decodeGltfBuffer(t,r,n,i,o,c){a(e.exports[l[o]],t,r,n,i,e.exports[s[c]])}}};function c(e,t){if(t===i.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==i.TriangleFanDrawMode&&t!==i.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let r=e.getIndex();if(null===r){let t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}let n=r.count-2,o=[];if(r){if(t===i.TriangleFanDrawMode)for(let e=1;e<=n;e++)o.push(r.getX(0)),o.push(r.getX(e)),o.push(r.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(o.push(r.getX(e)),o.push(r.getX(e+1)),o.push(r.getX(e+2))):(o.push(r.getX(e+2)),o.push(r.getX(e+1)),o.push(r.getX(e)))}o.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let a=e.clone();return a.setIndex(o),a.clearGroups(),a}}let u=parseInt(i.REVISION.replace(/\D+/g,""));class d extends i.Loader{load(e,t,r,n){let o;let a=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);let s=function(t){n?n(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},l=new i.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(r){try{a.parse(r,o,function(r){t(r),a.manager.itemEnd(e)},s)}catch(e){s(e)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return -1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return -1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,n){let o;let a={},s={};if("string"==typeof e)o=JSON.parse(e);else if(e instanceof ArrayBuffer){if(i.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4)))===M){try{a[f.KHR_BINARY_GLTF]=new D(e)}catch(e){n&&n(e);return}o=JSON.parse(a[f.KHR_BINARY_GLTF].content)}else o=JSON.parse(i.LoaderUtils.decodeText(new Uint8Array(e)))}else o=e;if(void 0===o.asset||o.asset.version[0]<2){n&&n(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let l=new q(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){let t=this.pluginCallbacks[e](l);s[t.name]=t,a[t.name]=!0}if(o.extensionsUsed)for(let e=0;e<o.extensionsUsed.length;++e){let t=o.extensionsUsed[e],r=o.extensionsRequired||[];switch(t){case f.KHR_MATERIALS_UNLIT:a[t]=new m;break;case f.KHR_DRACO_MESH_COMPRESSION:a[t]=new F(o,this.dracoLoader);break;case f.KHR_TEXTURE_TRANSFORM:a[t]=new I;break;case f.KHR_MESH_QUANTIZATION:a[t]=new P;break;default:r.indexOf(t)>=0&&void 0===s[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}l.setExtensions(a),l.setPlugins(s),l.parse(r,n)}parseAsync(e,t){let r=this;return new Promise(function(n,i){r.parse(e,t,n,i)})}constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new v(e)}),this.register(function(e){return new w(e)}),this.register(function(e){return new x(e)}),this.register(function(e){return new T(e)}),this.register(function(e){return new y(e)}),this.register(function(e){return new b(e)}),this.register(function(e){return new E(e)}),this.register(function(e){return new C(e)}),this.register(function(e){return new g(e)}),this.register(function(e){return new B(e)}),this.register(function(e){return new A(e)}),this.register(function(e){return new _(e)}),this.register(function(e){return new p(e)}),this.register(function(e){return new O(e)}),this.register(function(e){return new R(e)})}}function h(){let e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}let f={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class p{_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let r=0,n=t.length;r<n;r++){let n=t[r];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){let t;let r=this.parser,n="light:"+e,o=r.cache.get(n);if(o)return o;let a=r.json,s=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],l=new i.Color(16777215);void 0!==s.color&&l.fromArray(s.color);let c=void 0!==s.range?s.range:0;switch(s.type){case"directional":(t=new i.DirectionalLight(l)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new i.PointLight(l)).distance=c;break;case"spot":(t=new i.SpotLight(l)).distance=c,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,t.angle=s.spot.outerConeAngle,t.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return t.position.set(0,0,0),t.decay=2,Q(t,s),void 0!==s.intensity&&(t.intensity=s.intensity),t.name=r.createUniqueName(s.name||"light_"+e),o=Promise.resolve(t),r.cache.add(n,o),o}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){let t=this,r=this.parser,n=r.json.nodes[e],i=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then(function(e){return r._getNodeRef(t.cache,i,e)})}constructor(e){this.parser=e,this.name=f.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}}class m{getMaterialType(){return i.MeshBasicMaterial}extendParams(e,t,r){let n=[];e.color=new i.Color(1,1,1),e.opacity=1;let o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){let t=o.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==o.baseColorTexture&&n.push(r.assignTexture(e,"map",o.baseColorTexture,3001))}return Promise.all(n)}constructor(){this.name=f.KHR_MATERIALS_UNLIT}}class g{extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let n=r.extensions[this.name].emissiveStrength;return void 0!==n&&(t.emissiveIntensity=n),Promise.resolve()}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_EMISSIVE_STRENGTH}}class v{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let o=[],a=n.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&o.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(o.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){let e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i.Vector2(e,e)}return Promise.all(o)}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_CLEARCOAT}}class A{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let i=[],o=n.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&i.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&i.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_IRIDESCENCE}}class y{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let o=[];t.sheenColor=new i.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;let a=n.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&o.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture,3001)),void 0!==a.sheenRoughnessTexture&&o.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_SHEEN}}class b{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let i=[],o=n.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_TRANSMISSION}}class E{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let o=[],a=n.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&o.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;let s=a.attenuationColor||[1,1,1];return t.attenuationColor=new i.Color(s[0],s[1],s[2]),Promise.all(o)}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_VOLUME}}class C{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let n=r.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_IOR}}class B{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let o=[],a=n.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&o.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));let s=a.specularColorFactor||[1,1,1];return t.specularColor=new i.Color(s[0],s[1],s[2]),void 0!==a.specularColorTexture&&o.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture,3001)),Promise.all(o)}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_SPECULAR}}class _{getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){let r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let i=[],o=n.extensions[this.name];return void 0!==o.anisotropyStrength&&(t.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(t.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&i.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(i)}constructor(e){this.parser=e,this.name=f.KHR_MATERIALS_ANISOTROPY}}class w{loadTexture(e){let t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;let i=n.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(!(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return t.loadTextureImage(e,i.source,o)}constructor(e){this.parser=e,this.name=f.KHR_TEXTURE_BASISU}}class x{loadTexture(e){let t=this.name,r=this.parser,n=r.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;let o=i.extensions[t],a=n.images[o.source],s=r.textureLoader;if(a.uri){let e=r.options.manager.getHandler(a.uri);null!==e&&(s=e)}return this.detectSupport().then(function(i){if(i)return r.loadTextureImage(e,o.source,s);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}constructor(e){this.parser=e,this.name=f.EXT_TEXTURE_WEBP,this.isSupported=null}}class T{loadTexture(e){let t=this.name,r=this.parser,n=r.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;let o=i.extensions[t],a=n.images[o.source],s=r.textureLoader;if(a.uri){let e=r.options.manager.getHandler(a.uri);null!==e&&(s=e)}return this.detectSupport().then(function(i){if(i)return r.loadTextureImage(e,o.source,s);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}constructor(e){this.parser=e,this.name=f.EXT_TEXTURE_AVIF,this.isSupported=null}}class O{loadBufferView(e){let t=this.parser.json,r=t.bufferViews[e];if(!r.extensions||!r.extensions[this.name])return null;{let e=r.extensions[this.name],n=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(!(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return n.then(function(t){let r=e.byteOffset||0,n=e.byteLength||0,o=e.count,a=e.byteStride,s=new Uint8Array(t,r,n);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(o,a,s,e.mode,e.filter).then(function(e){return e.buffer}):i.ready.then(function(){let t=new ArrayBuffer(o*a);return i.decodeGltfBuffer(new Uint8Array(t),o,a,s,e.mode,e.filter),t})})}}constructor(e){this.name=f.EXT_MESHOPT_COMPRESSION,this.parser=e}}class R{createNodeMesh(e){let t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;for(let e of t.meshes[r.mesh].primitives)if(e.mode!==G.TRIANGLES&&e.mode!==G.TRIANGLE_STRIP&&e.mode!==G.TRIANGLE_FAN&&void 0!==e.mode)return null;let n=r.extensions[this.name].attributes,o=[],a={};for(let e in n)o.push(this.parser.getDependency("accessor",n[e]).then(t=>(a[e]=t,a[e])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(e=>{let t=e.pop(),r=t.isGroup?t.children:[t],n=e[0].count,o=[];for(let e of r){let t=new i.Matrix4,r=new i.Vector3,s=new i.Quaternion,l=new i.Vector3(1,1,1),c=new i.InstancedMesh(e.geometry,e.material,n);for(let e=0;e<n;e++)a.TRANSLATION&&r.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&s.fromBufferAttribute(a.ROTATION,e),a.SCALE&&l.fromBufferAttribute(a.SCALE,e),c.setMatrixAt(e,t.compose(r,s,l));for(let t in a)"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);i.Object3D.prototype.copy.call(c,e),this.parser.assignFinalMaterial(c),o.push(c)}return t.isGroup?(t.clear(),t.add(...o),t):o[0]}))}constructor(e){this.name=f.EXT_MESH_GPU_INSTANCING,this.parser=e}}let M="glTF",S={JSON:1313821514,BIN:5130562};class D{constructor(e){this.name=f.KHR_BINARY_GLTF,this.content=null,this.body=null;let t=new DataView(e,0,12);if(this.header={magic:i.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==M)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");let r=this.header.length-12,n=new DataView(e,12),o=0;for(;o<r;){let t=n.getUint32(o,!0);o+=4;let r=n.getUint32(o,!0);if(o+=4,r===S.JSON){let r=new Uint8Array(e,12+o,t);this.content=i.LoaderUtils.decodeText(r)}else if(r===S.BIN){let r=12+o;this.body=e.slice(r,r+t)}o+=t}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class F{decodePrimitive(e,t){let r=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},s={},l={};for(let e in o)a[K[e]||e.toLowerCase()]=o[e];for(let t in e.attributes){let n=K[t]||t.toLowerCase();if(void 0!==o[t]){let i=r.accessors[e.attributes[t]],o=U[i.componentType];l[n]=o.name,s[n]=!0===i.normalized}}return t.getDependency("bufferView",i).then(function(e){return new Promise(function(t){n.decodeDracoFile(e,function(e){for(let t in e.attributes){let r=e.attributes[t],n=s[t];void 0!==n&&(r.normalized=n)}t(e)},a,l)})})}constructor(e,t){if(!t)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=f.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}}class I{extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}constructor(){this.name=f.KHR_TEXTURE_TRANSFORM}}class P{constructor(){this.name=f.KHR_MESH_QUANTIZATION}}class k extends i.Interpolant{copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let e=0;e!==n;e++)t[e]=r[i+e];return t}interpolate_(e,t,r,n){let i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=n-t,u=(r-t)/c,d=u*u,h=d*u,f=e*l,p=f-l,m=-2*h+3*d,g=h-d,v=1-m,A=g-d+u;for(let e=0;e!==a;e++){let t=o[p+e+a],r=o[p+e+s]*c,n=o[f+e+a],l=o[f+e]*c;i[e]=v*t+A*r+m*n+g*l}return i}constructor(e,t,r,n){super(e,t,r,n)}}let L=new i.Quaternion;class H extends k{interpolate_(e,t,r,n){let i=super.interpolate_(e,t,r,n);return L.fromArray(i).normalize().toArray(i),i}}let G={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},U={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},j={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},N={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},J={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},K={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...u>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},z={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},W={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete},V={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Y(e,t,r){for(let n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function Q(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function X(e){let t="",r=Object.keys(e).sort();for(let n=0,i=r.length;n<i;n++)t+=r[n]+":"+e[r[n]]+";";return t}function Z(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let $=new i.Matrix4;class q{setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(t){let o={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};Y(i,o,n),Q(o,n),Promise.all(r._invokeAll(function(e){return e.afterRoot&&e.afterRoot(o)})).then(function(){e(o)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let r=0,n=t.length;r<n;r++){let n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let t=0,n=e.length;t<n;t++){let n=e[t];void 0!==n.mesh&&(this._addNodeRef(this.meshCache,n.mesh),void 0!==n.skin&&(r[n.mesh].isSkinnedMesh=!0)),void 0!==n.camera&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;let n=r.clone(),i=(e,t)=>{let r=this.associations.get(e);for(let[n,o]of(null!=r&&this.associations.set(t,r),e.children.entries()))i(o,t.children[n])};return i(r,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){let n=e(t[r]);if(n)return n}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let r=[];for(let n=0;n<t.length;n++){let i=e(t[n]);i&&r.push(i)}return r}getDependency(e,t){let r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":n=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(!(n=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)})))throw Error("Unknown type: "+e)}this.cache.add(r,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){let r=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,n){return r.getDependency(e,n)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[f.KHR_BINARY_GLTF].body);let n=this.options;return new Promise(function(e,o){r.load(i.LoaderUtils.resolveURL(t.uri,n.path),e,void 0,function(){o(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){let r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)})}loadAccessor(e){let t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse){let e=J[n.type],t=U[n.componentType],r=!0===n.normalized,o=new t(n.count*e);return Promise.resolve(new i.BufferAttribute(o,e,r))}let o=[];return void 0!==n.bufferView?o.push(this.getDependency("bufferView",n.bufferView)):o.push(null),void 0!==n.sparse&&(o.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(o).then(function(e){let o,a;let s=e[0],l=J[n.type],c=U[n.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,h=n.byteOffset||0,f=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,p=!0===n.normalized;if(f&&f!==d){let e=Math.floor(h/f),r="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+e+":"+n.count,d=t.cache.get(r);d||(o=new c(s,e*f,n.count*f/u),d=new i.InterleavedBuffer(o,f/u),t.cache.add(r,d)),a=new i.InterleavedBufferAttribute(d,l,h%f/u,p)}else o=null===s?new c(n.count*l):new c(s,h,n.count*l),a=new i.BufferAttribute(o,l,p);if(void 0!==n.sparse){let t=J.SCALAR,r=U[n.sparse.indices.componentType],o=n.sparse.indices.byteOffset||0,u=n.sparse.values.byteOffset||0,d=new r(e[1],o,n.sparse.count*t),h=new c(e[2],u,n.sparse.count*l);null!==s&&(a=new i.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(let e=0,t=d.length;e<t;e++){let t=d[e];if(a.setX(t,h[e*l]),l>=2&&a.setY(t,h[e*l+1]),l>=3&&a.setZ(t,h[e*l+2]),l>=4&&a.setW(t,h[e*l+3]),l>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a})}loadTexture(e){let t=this.json,r=this.options,n=t.textures[e].source,i=t.images[n],o=this.textureLoader;if(i.uri){let e=r.manager.getHandler(i.uri);null!==e&&(o=e)}return this.loadTextureImage(e,n,o)}loadTextureImage(e,t,r){let n=this,o=this.json,a=o.textures[e],s=o.images[t],l=(s.uri||s.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];let c=this.loadImageSource(t,r).then(function(t){t.flipY=!1,t.name=a.name||s.name||"",""===t.name&&"string"==typeof s.uri&&!1===s.uri.startsWith("data:image/")&&(t.name=s.uri);let r=(o.samplers||{})[a.sampler]||{};return t.magFilter=j[r.magFilter]||i.LinearFilter,t.minFilter=j[r.minFilter]||i.LinearMipmapLinearFilter,t.wrapS=N[r.wrapS]||i.RepeatWrapping,t.wrapT=N[r.wrapT]||i.RepeatWrapping,n.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){let r=this.json,n=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());let o=r.images[e],a=self.URL||self.webkitURL,s=o.uri||"",l=!1;if(void 0!==o.bufferView)s=this.getDependency("bufferView",o.bufferView).then(function(e){l=!0;let t=new Blob([e],{type:o.mimeType});return s=a.createObjectURL(t)});else if(void 0===o.uri)throw Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let c=Promise.resolve(s).then(function(e){return new Promise(function(r,o){let a=r;!0===t.isImageBitmapLoader&&(a=function(e){let t=new i.Texture(e);t.needsUpdate=!0,r(t)}),t.load(i.LoaderUtils.resolveURL(e,n.path),a,void 0,o)})}).then(function(e){var t;return!0===l&&a.revokeObjectURL(s),e.userData.mimeType=o.mimeType||((t=o.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",s),e});return this.sourceCache[e]=c,c}assignTexture(e,t,r,n){let i=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((o=o.clone()).channel=r.texCoord),i.extensions[f.KHR_TEXTURE_TRANSFORM]){let e=void 0!==r.extensions?r.extensions[f.KHR_TEXTURE_TRANSFORM]:void 0;if(e){let t=i.associations.get(o);o=i.extensions[f.KHR_TEXTURE_TRANSFORM].extendTexture(o,e),i.associations.set(o,t)}}return void 0!==n&&("colorSpace"in o?o.colorSpace=3001===n?"srgb":"srgb-linear":o.encoding=n),e[t]=o,o})}assignFinalMaterial(e){let t=e.geometry,r=e.material,n=void 0===t.attributes.tangent,o=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){let e="PointsMaterial:"+r.uuid,t=this.cache.get(e);t||(t=new i.PointsMaterial,i.Material.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,t.sizeAttenuation=!1,this.cache.add(e,t)),r=t}else if(e.isLine){let e="LineBasicMaterial:"+r.uuid,t=this.cache.get(e);t||(t=new i.LineBasicMaterial,i.Material.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,this.cache.add(e,t)),r=t}if(n||o||a){let e="ClonedMaterial:"+r.uuid+":";n&&(e+="derivative-tangents:"),o&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=r.clone(),o&&(t.vertexColors=!0),a&&(t.flatShading=!0),n&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(r))),r=t}e.material=r}getMaterialType(){return i.MeshStandardMaterial}loadMaterial(e){let t;let r=this,n=this.json,o=this.extensions,a=n.materials[e],s={},l=a.extensions||{},c=[];if(l[f.KHR_MATERIALS_UNLIT]){let e=o[f.KHR_MATERIALS_UNLIT];t=e.getMaterialType(),c.push(e.extendParams(s,a,r))}else{let n=a.pbrMetallicRoughness||{};if(s.color=new i.Color(1,1,1),s.opacity=1,Array.isArray(n.baseColorFactor)){let e=n.baseColorFactor;s.color.fromArray(e),s.opacity=e[3]}void 0!==n.baseColorTexture&&c.push(r.assignTexture(s,"map",n.baseColorTexture,3001)),s.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,s.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(c.push(r.assignTexture(s,"metalnessMap",n.metallicRoughnessTexture)),c.push(r.assignTexture(s,"roughnessMap",n.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)})))}!0===a.doubleSided&&(s.side=i.DoubleSide);let u=a.alphaMode||V.OPAQUE;if(u===V.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,u===V.MASK&&(s.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==i.MeshBasicMaterial&&(c.push(r.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new i.Vector2(1,1),void 0!==a.normalTexture.scale)){let e=a.normalTexture.scale;s.normalScale.set(e,e)}return void 0!==a.occlusionTexture&&t!==i.MeshBasicMaterial&&(c.push(r.assignTexture(s,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(s.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==i.MeshBasicMaterial&&(s.emissive=new i.Color().fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==i.MeshBasicMaterial&&c.push(r.assignTexture(s,"emissiveMap",a.emissiveTexture,3001)),Promise.all(c).then(function(){let n=new t(s);return a.name&&(n.name=a.name),Q(n,a),r.associations.set(n,{materials:e}),a.extensions&&Y(o,n,a),n})}createUniqueName(e){let t=i.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,r=this.extensions,n=this.primitiveCache,o=[];for(let a=0,s=e.length;a<s;a++){let s=e[a],l=function(e){let t;let r=e.extensions&&e.extensions[f.KHR_DRACO_MESH_COMPRESSION];if(t=r?"draco:"+r.bufferView+":"+r.indices+":"+X(r.attributes):e.indices+":"+X(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,n=e.targets.length;r<n;r++)t+=":"+X(e.targets[r]);return t}(s),c=n[l];if(c)o.push(c.promise);else{let e;e=s.extensions&&s.extensions[f.KHR_DRACO_MESH_COMPRESSION]?function(e){return r[f.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(r){return ee(r,e,t)})}(s):ee(new i.BufferGeometry,s,t),n[l]={primitive:s,promise:e},o.push(e)}}return Promise.all(o)}loadMesh(e){let t=this,r=this.json,n=this.extensions,o=r.meshes[e],a=o.primitives,s=[];for(let e=0,t=a.length;e<t;e++){var l;let t=void 0===a[e].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),l.DefaultMaterial):this.getDependency("material",a[e].material);s.push(t)}return s.push(t.loadGeometries(a)),Promise.all(s).then(function(r){let s=r.slice(0,r.length-1),l=r[r.length-1],u=[];for(let r=0,d=l.length;r<d;r++){let d;let h=l[r],f=a[r],p=s[r];if(f.mode===G.TRIANGLES||f.mode===G.TRIANGLE_STRIP||f.mode===G.TRIANGLE_FAN||void 0===f.mode)!0===(d=!0===o.isSkinnedMesh?new i.SkinnedMesh(h,p):new i.Mesh(h,p)).isSkinnedMesh&&d.normalizeSkinWeights(),f.mode===G.TRIANGLE_STRIP?d.geometry=c(d.geometry,i.TriangleStripDrawMode):f.mode===G.TRIANGLE_FAN&&(d.geometry=c(d.geometry,i.TriangleFanDrawMode));else if(f.mode===G.LINES)d=new i.LineSegments(h,p);else if(f.mode===G.LINE_STRIP)d=new i.Line(h,p);else if(f.mode===G.LINE_LOOP)d=new i.LineLoop(h,p);else if(f.mode===G.POINTS)d=new i.Points(h,p);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);Object.keys(d.geometry.morphAttributes).length>0&&function(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){let r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(let t=0,n=r.length;t<n;t++)e.morphTargetDictionary[r[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(d,o),d.name=t.createUniqueName(o.name||"mesh_"+e),Q(d,o),f.extensions&&Y(n,d,f),t.assignFinalMaterial(d),u.push(d)}for(let r=0,n=u.length;r<n;r++)t.associations.set(u[r],{meshes:e,primitives:r});if(1===u.length)return o.extensions&&Y(n,u[0],o),u[0];let d=new i.Group;o.extensions&&Y(n,d,o),t.associations.set(d,{meshes:e});for(let e=0,t=u.length;e<t;e++)d.add(u[e]);return d})}loadCamera(e){let t;let r=this.json.cameras[e],n=r[r.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===r.type?t=new i.PerspectiveCamera(i.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new i.OrthographicCamera(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Q(t,r),Promise.resolve(t)}loadSkin(e){let t=this.json.skins[e],r=[];for(let e=0,n=t.joints.length;e<n;e++)r.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(e){let r=e.pop(),n=[],o=[];for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s){n.push(s);let e=new i.Matrix4;null!==r&&e.fromArray(r.array,16*a),o.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new i.Skeleton(n,o)})}loadAnimation(e){let t=this.json.animations[e],r=t.name?t.name:"animation_"+e,n=[],o=[],a=[],s=[],l=[];for(let e=0,r=t.channels.length;e<r;e++){let r=t.channels[e],i=t.samplers[r.sampler],c=r.target,u=c.node,d=void 0!==t.parameters?t.parameters[i.input]:i.input,h=void 0!==t.parameters?t.parameters[i.output]:i.output;void 0!==c.node&&(n.push(this.getDependency("node",u)),o.push(this.getDependency("accessor",d)),a.push(this.getDependency("accessor",h)),s.push(i),l.push(c))}return Promise.all([Promise.all(n),Promise.all(o),Promise.all(a),Promise.all(s),Promise.all(l)]).then(function(e){let t=e[0],n=e[1],o=e[2],a=e[3],s=e[4],l=[];for(let e=0,r=t.length;e<r;e++){let r;let c=t[e],u=n[e],d=o[e],h=a[e],f=s[e];if(void 0===c)continue;switch(c.updateMatrix(),z[f.path]){case z.weights:r=i.NumberKeyframeTrack;break;case z.rotation:r=i.QuaternionKeyframeTrack;break;case z.position:case z.scale:default:r=i.VectorKeyframeTrack}let p=c.name?c.name:c.uuid,m=void 0!==h.interpolation?W[h.interpolation]:i.InterpolateLinear,g=[];z[f.path]===z.weights?c.traverse(function(e){e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)}):g.push(p);let v=d.array;if(d.normalized){let e=Z(v.constructor),t=new Float32Array(v.length);for(let r=0,n=v.length;r<n;r++)t[r]=v[r]*e;v=t}for(let e=0,t=g.length;e<t;e++){let t=new r(g[e]+"."+z[f.path],u.array,v,m);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(e){return new(this instanceof i.QuaternionKeyframeTrack?H:k)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}return new i.AnimationClip(r,void 0,l)})}createNodeMesh(e){let t=this.json,r=this,n=t.nodes[e];return void 0===n.mesh?null:r.getDependency("mesh",n.mesh).then(function(e){let t=r._getNodeRef(r.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,r=n.weights.length;t<r;t++)e.morphTargetInfluences[t]=n.weights[t]}),t})}loadNode(e){let t=this.json.nodes[e],r=this._loadNodeShallow(e),n=[],i=t.children||[];for(let e=0,t=i.length;e<t;e++)n.push(this.getDependency("node",i[e]));let o=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([r,Promise.all(n),o]).then(function(e){let t=e[0],r=e[1],n=e[2];null!==n&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(n,$)});for(let e=0,n=r.length;e<n;e++)t.add(r[e]);return t})}_loadNodeShallow(e){let t=this.json,r=this.extensions,n=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];let o=t.nodes[e],a=o.name?n.createUniqueName(o.name):"",s=[],l=n._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return l&&s.push(l),void 0!==o.camera&&s.push(n.getDependency("camera",o.camera).then(function(e){return n._getNodeRef(n.cameraCache,o.camera,e)})),n._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){s.push(e)}),this.nodeCache[e]=Promise.all(s).then(function(t){let s;if((s=!0===o.isBone?new i.Bone:t.length>1?new i.Group:1===t.length?t[0]:new i.Object3D)!==t[0])for(let e=0,r=t.length;e<r;e++)s.add(t[e]);if(o.name&&(s.userData.name=o.name,s.name=a),Q(s,o),o.extensions&&Y(r,s,o),void 0!==o.matrix){let e=new i.Matrix4;e.fromArray(o.matrix),s.applyMatrix4(e)}else void 0!==o.translation&&s.position.fromArray(o.translation),void 0!==o.rotation&&s.quaternion.fromArray(o.rotation),void 0!==o.scale&&s.scale.fromArray(o.scale);return n.associations.has(s)||n.associations.set(s,{}),n.associations.get(s).nodes=e,s}),this.nodeCache[e]}loadScene(e){let t=this.extensions,r=this.json.scenes[e],n=this,o=new i.Group;r.name&&(o.name=n.createUniqueName(r.name)),Q(o,r),r.extensions&&Y(t,o,r);let a=r.nodes||[],s=[];for(let e=0,t=a.length;e<t;e++)s.push(n.getDependency("node",a[e]));return Promise.all(s).then(function(e){for(let t=0,r=e.length;t<r;t++)o.add(e[t]);return n.associations=(e=>{let t=new Map;for(let[e,r]of n.associations)(e instanceof i.Material||e instanceof i.Texture)&&t.set(e,r);return e.traverse(e=>{let r=n.associations.get(e);null!=r&&t.set(e,r)}),t})(o),o})}constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new h,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,n=!1,o=-1;"undefined"!=typeof navigator&&void 0!==navigator.userAgent&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=(n=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||r||n&&o<98?this.textureLoader=new i.TextureLoader(this.options.manager):this.textureLoader=new i.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}}function ee(e,t,r){let n=t.attributes,o=[];for(let t in n){let i=K[t]||t.toLowerCase();i in e.attributes||o.push(function(t,n){return r.getDependency("accessor",t).then(function(t){e.setAttribute(n,t)})}(n[t],i))}if(void 0!==t.indices&&!e.index){let n=r.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});o.push(n)}return Q(e,t),!function(e,t,r){let n=t.attributes,o=new i.Box3;if(void 0===n.POSITION)return;{let e=r.json.accessors[n.POSITION],t=e.min,a=e.max;if(void 0!==t&&void 0!==a){if(o.set(new i.Vector3(t[0],t[1],t[2]),new i.Vector3(a[0],a[1],a[2])),e.normalized){let t=Z(U[e.componentType]);o.min.multiplyScalar(t),o.max.multiplyScalar(t)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}let a=t.targets;if(void 0!==a){let e=new i.Vector3,t=new i.Vector3;for(let n=0,i=a.length;n<i;n++){let i=a[n];if(void 0!==i.POSITION){let n=r.json.accessors[i.POSITION],o=n.min,a=n.max;if(void 0!==o&&void 0!==a){if(t.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),n.normalized){let e=Z(U[n.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(e)}e.boundingBox=o;let s=new i.Sphere;o.getCenter(s.center),s.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=s}(e,t,r),Promise.all(o).then(function(){return void 0!==t.targets?function(e,t,r){let n=!1,i=!1,o=!1;for(let e=0,r=t.length;e<r;e++){let r=t[e];if(void 0!==r.POSITION&&(n=!0),void 0!==r.NORMAL&&(i=!0),void 0!==r.COLOR_0&&(o=!0),n&&i&&o)break}if(!n&&!i&&!o)return Promise.resolve(e);let a=[],s=[],l=[];for(let c=0,u=t.length;c<u;c++){let u=t[c];if(n){let t=void 0!==u.POSITION?r.getDependency("accessor",u.POSITION):e.attributes.position;a.push(t)}if(i){let t=void 0!==u.NORMAL?r.getDependency("accessor",u.NORMAL):e.attributes.normal;s.push(t)}if(o){let t=void 0!==u.COLOR_0?r.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l)]).then(function(t){let r=t[0],a=t[1],s=t[2];return n&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=a),o&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e})}(e,t.targets,r):e})}var et=r(3966);let er=null,en="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function ei(e,t,r){return n=>{r&&r(n),e&&(er||(er=new a),er.setDecoderPath("string"==typeof e?e:en),n.setDRACOLoader(er)),t&&n.setMeshoptDecoder("function"==typeof l?l():l)}}function eo(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3?arguments[3]:void 0;return(0,et.F)(d,e,ei(t,r,n))}eo.preload=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3?arguments[3]:void 0;return et.F.preload(d,e,ei(t,r,n))},eo.clear=e=>et.F.clear(d,e),eo.setDecoderPath=e=>{en=e}},6959:function(e,t,r){r.d(t,{V:function(){return A}});var n,i,o=r(2110),a=r(4090),s=r(7600),l=r(6376),c=r(3966);let u=new l.Vector3,d=new l.Vector3,h=new l.Vector3;function f(e,t,r){let n=u.setFromMatrixPosition(e.matrixWorld);n.project(t);let i=r.width/2,o=r.height/2;return[n.x*i+i,-(n.y*o)+o]}let p=e=>1e-10>Math.abs(e)?0:e;function m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="matrix3d(";for(let r=0;16!==r;r++)n+=p(t[r]*e.elements[r])+(15!==r?",":")");return r+n}let g=(n=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>m(e,n)),v=(i=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>m(e,i(t),"translate(-50%,-50%)")),A=a.forwardRef((e,t)=>{let{children:r,eps:n=.001,style:i,className:m,prepend:A,center:y,fullscreen:b,portal:E,distanceFactor:C,sprite:B=!1,transform:_=!1,occlude:w,onOcclude:x,castShadow:T,receiveShadow:O,material:R,geometry:M,zIndexRange:S=[16777271,0],calculatePosition:D=f,as:F="div",wrapperClass:I,pointerEvents:P="auto",...k}=e,{gl:L,camera:H,scene:G,size:U,raycaster:j,events:N,viewport:J}=(0,c.A)(),[K]=a.useState(()=>document.createElement(F)),z=a.useRef(),W=a.useRef(null),V=a.useRef(0),Y=a.useRef([0,0]),Q=a.useRef(null),X=a.useRef(null),Z=(null==E?void 0:E.current)||N.connected||L.domElement.parentNode,$=a.useRef(null),q=a.useRef(!1),ee=a.useMemo(()=>{var e;return w&&"blending"!==w||Array.isArray(w)&&w.length&&(e=w[0])&&"object"==typeof e&&"current"in e},[w]);a.useLayoutEffect(()=>{let e=L.domElement;w&&"blending"===w?(e.style.zIndex="".concat(Math.floor(S[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[w]),a.useLayoutEffect(()=>{if(W.current){let e=z.current=s.createRoot(K);if(G.updateMatrixWorld(),_)K.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=D(W.current,H,U);K.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return Z&&(A?Z.prepend(K):Z.appendChild(K)),()=>{Z&&Z.removeChild(K),e.unmount()}}},[Z,_]),a.useLayoutEffect(()=>{I&&(K.className=I)},[I]);let et=a.useMemo(()=>_?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:y?"translate3d(-50%,-50%,0)":"none",...b&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...i},[i,y,b,U,_]),er=a.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);a.useLayoutEffect(()=>{var e,n;q.current=!1,_?null==(e=z.current)||e.render(a.createElement("div",{ref:Q,style:et},a.createElement("div",{ref:X,style:er},a.createElement("div",{ref:t,className:m,style:i,children:r})))):null==(n=z.current)||n.render(a.createElement("div",{ref:t,style:et,className:m,children:r}))});let en=a.useRef(!0);(0,c.C)(e=>{if(W.current){H.updateMatrixWorld(),W.current.updateWorldMatrix(!0,!1);let e=_?Y.current:D(W.current,H,U);if(_||Math.abs(V.current-H.zoom)>n||Math.abs(Y.current[0]-e[0])>n||Math.abs(Y.current[1]-e[1])>n){let t=function(e,t){let r=u.setFromMatrixPosition(e.matrixWorld),n=d.setFromMatrixPosition(t.matrixWorld),i=r.sub(n),o=t.getWorldDirection(h);return i.angleTo(o)>Math.PI/2}(W.current,H),r=!1;ee&&(Array.isArray(w)?r=w.map(e=>e.current):"blending"!==w&&(r=[G]));let n=en.current;if(r){let e=function(e,t,r,n){let i=u.setFromMatrixPosition(e.matrixWorld),o=i.clone();o.project(t),r.setFromCamera(o,t);let a=r.intersectObjects(n,!0);if(a.length){let e=a[0].distance;return i.distanceTo(r.ray.origin)<e}return!0}(W.current,H,j,r);en.current=e&&!t}else en.current=!t;n!==en.current&&(x?x(!en.current):K.style.display=en.current?"block":"none");let i=Math.floor(S[0]/2),o=w?ee?[S[0],i]:[i-1,0]:S;if(K.style.zIndex="".concat(function(e,t,r){if(t instanceof l.PerspectiveCamera||t instanceof l.OrthographicCamera){let n=u.setFromMatrixPosition(e.matrixWorld),i=d.setFromMatrixPosition(t.matrixWorld),o=n.distanceTo(i),a=(r[1]-r[0])/(t.far-t.near),s=r[1]-a*t.far;return Math.round(a*o+s)}}(W.current,H,o)),_){let[e,t]=[U.width/2,U.height/2],r=H.projectionMatrix.elements[5]*t,{isOrthographicCamera:n,top:i,left:o,bottom:a,right:s}=H,l=g(H.matrixWorldInverse),c=n?"scale(".concat(r,")translate(").concat(p(-(s+o)/2),"px,").concat(p((i+a)/2),"px)"):"translateZ(".concat(r,"px)"),u=W.current.matrixWorld;B&&((u=H.matrixWorldInverse.clone().transpose().copyPosition(u).scale(W.current.scale)).elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),K.style.width=U.width+"px",K.style.height=U.height+"px",K.style.perspective=n?"":"".concat(r,"px"),Q.current&&X.current&&(Q.current.style.transform="".concat(c).concat(l,"translate(").concat(e,"px,").concat(t,"px)"),X.current.style.transform=v(u,1/((C||10)/400)))}else{let t=void 0===C?1:function(e,t){if(t instanceof l.OrthographicCamera)return t.zoom;if(!(t instanceof l.PerspectiveCamera))return 1;{let r=u.setFromMatrixPosition(e.matrixWorld),n=d.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(n))}}(W.current,H)*C;K.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(t,")")}Y.current=e,V.current=H.zoom}}if(!ee&&$.current&&!q.current){if(_){if(Q.current){let e=Q.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=H;if(t||M)k.scale&&(Array.isArray(k.scale)?k.scale instanceof l.Vector3?$.current.scale.copy(k.scale.clone().divideScalar(1)):$.current.scale.set(1/k.scale[0],1/k.scale[1],1/k.scale[2]):$.current.scale.setScalar(1/k.scale));else{let t=(C||10)/400,r=e.clientWidth*t,n=e.clientHeight*t;$.current.scale.set(r,n,1)}q.current=!0}}}else{let t=K.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/J.factor,r=t.clientWidth*e,n=t.clientHeight*e;$.current.scale.set(r,n,1),q.current=!0}$.current.lookAt(e.camera.position)}}});let ei=a.useMemo(()=>({vertexShader:_?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "}),[_]);return a.createElement("group",(0,o.Z)({},k,{ref:W}),w&&!ee&&a.createElement("mesh",{castShadow:T,receiveShadow:O,ref:$},M||a.createElement("planeGeometry",null),R||a.createElement("shaderMaterial",{side:l.DoubleSide,vertexShader:ei.vertexShader,fragmentShader:ei.fragmentShader})))})},6473:function(e,t,r){r.d(t,{a:function(){return c}});var n=r(4090),i=r(6376);let o=!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect,a=0,s=function(e){let t="function"==typeof e?function(e){let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=n?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=n(t);function s(){let r=n(t);if(!o(a,r)){let t=a;e(a=r,t)}}return r.add(s),()=>r.delete(s)},a={setState:n,getState:i,subscribe:(e,t,n)=>t||n?o(e,t,n):(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(n,i,a),a}(e):e,r=function(){let e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,a]=(0,n.useReducer)(e=>e+1,0),s=t.getState(),l=(0,n.useRef)(s),c=(0,n.useRef)(r),u=(0,n.useRef)(i),d=(0,n.useRef)(!1),h=(0,n.useRef)();void 0===h.current&&(h.current=r(s));let f=!1;(l.current!==s||c.current!==r||u.current!==i||d.current)&&(e=r(s),f=!i(h.current,e)),o(()=>{f&&(h.current=e),l.current=s,c.current=r,u.current=i,d.current=!1});let p=(0,n.useRef)(s);o(()=>{let e=()=>{try{let e=t.getState(),r=c.current(e);u.current(h.current,r)||(l.current=e,h.current=r,a())}catch(e){d.current=!0,a()}},r=t.subscribe(e);return t.getState()!==p.current&&e(),r},[]);let m=f?e:h.current;return(0,n.useDebugValue)(m),m};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[r,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},r}(e=>(i.DefaultLoadingManager.onStart=(t,r,n)=>{e({active:!0,item:t,loaded:r,total:n,progress:(r-a)/(n-a)*100})},i.DefaultLoadingManager.onLoad=()=>{e({active:!1})},i.DefaultLoadingManager.onError=t=>e(e=>({errors:[...e.errors,t]})),i.DefaultLoadingManager.onProgress=(t,r,n)=>{r===n&&(a=n),e({active:!0,item:t,loaded:r,total:n,progress:(r-a)/(n-a)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),l=e=>"Loading ".concat(e.toFixed(2),"%");function c(e){let{containerStyles:t,innerStyles:r,barStyles:i,dataStyles:o,dataInterpolation:a=l,initialState:c=e=>e}=e,{active:d,progress:h}=s(),f=n.useRef(0),p=n.useRef(0),m=n.useRef(null),[g,v]=n.useState(c(d));n.useEffect(()=>{let e;return d!==g&&(e=setTimeout(()=>v(d),300)),()=>clearTimeout(e)},[g,d]);let A=n.useCallback(()=>{m.current&&(f.current+=(h-f.current)/2,(f.current>.95*h||100===h)&&(f.current=h),m.current.innerText=a(f.current),f.current<h&&(p.current=requestAnimationFrame(A)))},[a,h]);return n.useEffect(()=>(A(),()=>cancelAnimationFrame(p.current)),[A]),g?n.createElement("div",{style:{...u.container,opacity:d?1:0,...t}},n.createElement("div",null,n.createElement("div",{style:{...u.inner,...r}},n.createElement("div",{style:{...u.bar,transform:"scaleX(".concat(h/100,")"),...i}}),n.createElement("span",{ref:m,style:{...u.data,...o}})))):null}let u={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}}},3966:function(e,t,r){let n,i,o;r.d(t,{A:function(){return eh},B:function(){return D},C:function(){return ef},E:function(){return F},F:function(){return eg},a:function(){return M},b:function(){return e_},c:function(){return ee},d:function(){return ex},e:function(){return w},g:function(){return eT},i:function(){return R},u:function(){return S}});var a,s,l=r(6376),c=r(4090),u=r(7777);let d=!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?c.useEffect:c.useLayoutEffect;function h(e){let t="function"==typeof e?function(e){let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=n?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=n(t);function s(){let r=n(t);if(!o(a,r)){let t=a;e(a=r,t)}}return r.add(s),()=>r.delete(s)},a={setState:n,getState:i,subscribe:(e,t,n)=>t||n?o(e,t,n):(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(n,i,a),a}(e):e,r=function(){let e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,i]=(0,c.useReducer)(e=>e+1,0),o=t.getState(),a=(0,c.useRef)(o),s=(0,c.useRef)(r),l=(0,c.useRef)(n),u=(0,c.useRef)(!1),h=(0,c.useRef)();void 0===h.current&&(h.current=r(o));let f=!1;(a.current!==o||s.current!==r||l.current!==n||u.current)&&(e=r(o),f=!n(h.current,e)),d(()=>{f&&(h.current=e),a.current=o,s.current=r,l.current=n,u.current=!1});let p=(0,c.useRef)(o);d(()=>{let e=()=>{try{let e=t.getState(),r=s.current(e);l.current(h.current,r)||(a.current=e,h.current=r,i())}catch(e){u.current=!0,i()}},r=t.subscribe(e);return t.getState()!==p.current&&e(),r},[]);let m=f?e:h.current;return(0,c.useDebugValue)(m),m};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[r,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},r}var f=r(4812),p=r.n(f),m=r(9514);let g=e=>"object"==typeof e&&"function"==typeof e.then,v=[];function A(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;let n=e.length;if(t.length!==n)return!1;for(let i=0;i<n;i++)if(!r(e[i],t[i]))return!1;return!0}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(let i of(null===t&&(t=[e]),v))if(A(t,i.keys,i.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(i,"error"))throw i.error;if(Object.prototype.hasOwnProperty.call(i,"response"))return n.lifespan&&n.lifespan>0&&(i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(i.remove,n.lifespan)),i.response;if(!r)throw i.promise}let i={keys:t,equal:n.equal,remove:()=>{let e=v.indexOf(i);-1!==e&&v.splice(e,1)},promise:(g(e)?e:e(...t)).then(e=>{i.response=e,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))}).catch(e=>i.error=e)};if(v.push(i),!r)throw i.promise}let b=(e,t,r)=>y(e,t,!1,r),E=(e,t,r)=>void y(e,t,!0,r),C=e=>{if(void 0===e||0===e.length)v.splice(0,v.length);else{let t=v.find(t=>A(e,t.keys,t.equal));t&&t.remove()}};var B=r(9079);let _={},w=e=>void Object.assign(_,e),x=e=>"colorSpace"in e||"outputColorSpace"in e,T=()=>{var e;return null!=(e=_.ColorManagement)?e:null},O=e=>e&&e.isOrthographicCamera,R=e=>e&&e.hasOwnProperty("current"),M=null!=(a=window.document)&&a.createElement||(null==(s=window.navigator)?void 0:s.product)==="ReactNative"?c.useLayoutEffect:c.useEffect;function S(e){let t=c.useRef(e);return M(()=>void(t.current=e),[e]),t}function D(e){let{set:t}=e;return M(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class F extends c.Component{componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}constructor(...e){super(...e),this.state={error:!1}}}F.getDerivedStateFromError=()=>({error:!0});let I="__default",P=new Map,k=e=>e&&!!e.memoized&&!!e.changes;function L(e){var t;let r=null!=(t=window.devicePixelRatio)?t:2;return Array.isArray(e)?Math.min(Math.max(e[0],r),e[1]):e}let H=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function G(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}let U={obj:e=>e===Object(e)&&!U.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let r,{arrays:n="shallow",objects:i="reference",strict:o=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!=typeof t||!!e!=!!t)return!1;if(U.str(e)||U.num(e))return e===t;let a=U.obj(e);if(a&&"reference"===i)return e===t;let s=U.arr(e);if(s&&"reference"===n)return e===t;if((s||a)&&e===t)return!0;for(r in e)if(!(r in t))return!1;if(a&&"shallow"===n&&"shallow"===i){for(r in o?t:e)if(!U.equ(e[r],t[r],{strict:o,objects:"reference"}))return!1}else for(r in o?t:e)if(e[r]!==t[r])return!1;if(U.und(r)){if(s&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function j(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function N(e,t){let r=e;if(!t.includes("-"))return{target:r,key:t};{let n=t.split("-"),i=n.pop();return{target:r=n.reduce((e,t)=>e[t],e),key:i}}}let J=/-\d+$/;function K(e,t,r){if(U.str(r)){if(J.test(r)){let{target:t,key:n}=N(e,r.replace(J,""));Array.isArray(t[n])||(t[n]=[])}let{target:n,key:i}=N(e,r);t.__r3f.previousAttach=n[i],n[i]=t}else t.__r3f.previousAttach=r(e,t)}function z(e,t,r){var n,i;if(U.str(r)){let{target:n,key:i}=N(e,r),o=t.__r3f.previousAttach;void 0===o?delete n[i]:n[i]=o}else null==(n=t.__r3f)||null==n.previousAttach||n.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function W(e,t){var r;let{children:n,key:i,ref:o,...a}=t,{children:s,key:l,ref:c,...u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],h=null!=(r=null==e?void 0:e.__r3f)?r:{},f=Object.entries(a),p=[];if(d){let e=Object.keys(u);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||f.unshift([e[t],I+"remove"])}f.forEach(t=>{var r;let[n,i]=t;if(null!=(r=e.__r3f)&&r.primitive&&"object"===n||U.equ(i,u[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return p.push([n,i,!0,[]]);let o=[];for(let e in n.includes("-")&&(o=n.split("-")),p.push([n,i,!1,o]),a){let t=a[e];e.startsWith("".concat(n,"-"))&&p.push([e,t,!1,e.split("-")])}});let m={...a};return h.memoizedProps&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:p}}let V=void 0!==B&&!1;function Y(e,t){var r,n,i;let o=null!=(r=e.__r3f)?r:{},a=o.root,s=null!=(n=null==a?void 0:null==a.getState?void 0:a.getState())?n:{},{memoized:c,changes:u}=k(t)?t:W(e,t),d=o.eventCount;e.__r3f&&(e.__r3f.memoizedProps=c);for(let t=0;t<u.length;t++){let[r,n,i,a]=u[t];if(x(e)){let e="srgb",t="srgb-linear";"encoding"===r?(r="colorSpace",n=3001===n?e:t):"outputEncoding"===r&&(r="outputColorSpace",n=3001===n?e:t)}let c=e,d=c[r];if(a.length&&!((d=a.reduce((e,t)=>e[t],e))&&d.set)){let[t,...n]=a.reverse();c=n.reverse().reduce((e,t)=>e[t],e),r=t}if(n===I+"remove"){if(c.constructor){let e=P.get(c.constructor);e||(e=new c.constructor,P.set(c.constructor,e)),n=e[r]}else n=0}if(i)n?o.handlers[r]=n:delete o.handlers[r],o.eventCount=Object.keys(o.handlers).length;else if(d&&d.set&&(d.copy||d instanceof l.Layers)){if(Array.isArray(n))d.fromArray?d.fromArray(n):d.set(...n);else if(d.copy&&n&&n.constructor&&(V?d.constructor.name===n.constructor.name:d.constructor===n.constructor))d.copy(n);else if(void 0!==n){let e=d instanceof l.Color;!e&&d.setScalar?d.setScalar(n):d instanceof l.Layers&&n instanceof l.Layers?d.mask=n.mask:d.set(n),T()||s.linear||!e||d.convertSRGBToLinear()}}else if(c[r]=n,c[r]instanceof l.Texture&&c[r].format===l.RGBAFormat&&c[r].type===l.UnsignedByteType){let e=c[r];x(e)&&x(s.gl)?e.colorSpace=s.gl.outputColorSpace:e.encoding=s.gl.outputEncoding}Q(e)}if(o.parent&&e.raycast&&d!==o.eventCount){let t=G(e).getState().internal,r=t.interaction.indexOf(e);r>-1&&t.interaction.splice(r,1),o.eventCount&&t.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(i=e.__r3f)&&i.parent&&X(e),e}function Q(e){var t,r;let n=null==(t=e.__r3f)?void 0:null==(r=t.root)?void 0:null==r.getState?void 0:r.getState();n&&0===n.internal.frames&&n.invalidate()}function X(e){null==e.onUpdate||e.onUpdate(e)}function Z(e,t){e.manual||(O(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function $(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function q(e,t,r,n){let i=r.get(t);i&&(r.delete(t),0===r.size&&(e.delete(n),i.target.releasePointerCapture(n)))}function ee(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var r;return null==(r=e.__r3f)?void 0:r.handlers["onPointer"+t]}))}function r(t){let{internal:r}=e.getState();for(let e of r.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let n=e.eventObject.__r3f,i=null==n?void 0:n.handlers;if(r.hovered.delete($(e)),null!=n&&n.eventCount){let r={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(r),null==i.onPointerLeave||i.onPointerLeave(r)}}}function n(e,t){for(let r=0;r<t.length;r++){let n=t[r].__r3f;null==n||null==n.handlers.onPointerMissed||n.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return t=>{let{internal:n}=e.getState();"pointerId"in t&&n.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),r([]))})}}return function(o){let{onPointerMissed:a,internal:s}=e.getState();s.lastEvent.current=o;let c="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,d=function(t,r){let n=e.getState(),i=new Set,o=[],a=r?r(n.internal.interaction):n.internal.interaction;for(let e=0;e<a.length;e++){let t=H(a[e]);t&&(t.raycaster.camera=void 0)}n.previousRoot||null==n.events.compute||n.events.compute(t,n);let s=a.flatMap(function(e){let r=H(e);if(!r||!r.events.enabled||null===r.raycaster.camera)return[];if(void 0===r.raycaster.camera){var n;null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)}return r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let r=H(e.object),n=H(t.object);return r&&n&&n.events.priority-r.events.priority||e.distance-t.distance}).filter(e=>{let t=$(e);return!i.has(t)&&(i.add(t),!0)});for(let e of(n.events.filter&&(s=n.events.filter(s,n)),s)){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&o.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&n.internal.capturedMap.has(t.pointerId))for(let e of n.internal.capturedMap.get(t.pointerId).values())i.has($(e.intersection))||o.push(e.intersection);return o}(o,c?t:void 0),h=u?function(t){let{internal:r}=e.getState(),n=t.offsetX-r.initialClick[0],i=t.offsetY-r.initialClick[1];return Math.round(Math.sqrt(n*n+i*i))}(o):0;"onPointerDown"===i&&(s.initialClick=[o.offsetX,o.offsetY],s.initialHits=d.map(e=>e.eventObject)),u&&!d.length&&h<=2&&(n(o,s.interaction),a&&a(o)),c&&r(d),function(t,n,i,o){let a=e.getState();if(t.length){let e={stopped:!1};for(let s of t){let{raycaster:c,pointer:u,camera:d,internal:h}=H(s.object)||a,f=new l.Vector3(u.x,u.y,0).unproject(d),p=e=>{var t,r;return null!=(t=null==(r=h.capturedMap.get(e))?void 0:r.has(s.eventObject))&&t},m=e=>{let t={intersection:s,target:n.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(s.eventObject,t):h.capturedMap.set(e,new Map([[s.eventObject,t]])),n.target.setPointerCapture(e)},g=e=>{let t=h.capturedMap.get(e);t&&q(h.capturedMap,s.eventObject,t,e)},v={};for(let e in n){let t=n[e];"function"!=typeof t&&(v[e]=t)}let A={...s,...v,pointer:u,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:f,ray:c.ray,camera:d,stopPropagation(){let i="pointerId"in n&&h.capturedMap.get(n.pointerId);(!i||i.has(s.eventObject))&&(A.stopped=e.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find(e=>e.eventObject===s.eventObject)&&r([...t.slice(0,t.indexOf(s)),s]))},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:n};if(o(A),!0===e.stopped)break}}}(d,o,h,function(e){let t=e.eventObject,r=t.__r3f,a=null==r?void 0:r.handlers;if(null!=r&&r.eventCount){if(c){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let t=$(e),r=s.hovered.get(t);r?r.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{let r=a[i];r?(!u||s.initialHits.includes(t))&&(n(o,s.interaction.filter(e=>!s.initialHits.includes(e))),r(e)):u&&s.initialHits.includes(t)&&n(o,s.interaction.filter(e=>!s.initialHits.includes(e)))}}})}}}}let et=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],er=e=>!!(null!=e&&e.render),en=c.createContext(null),ei=(e,t)=>{let r=h((r,n)=>{let i;let o=new l.Vector3,a=new l.Vector3,s=new l.Vector3;function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n().size,{width:i,height:c,top:u,left:d}=r,h=i/c;t instanceof l.Vector3?s.copy(t):s.set(...t);let f=e.getWorldPosition(o).distanceTo(s);if(O(e))return{width:i/e.zoom,height:c/e.zoom,top:u,left:d,factor:1,distance:f,aspect:h};{let t=2*Math.tan(e.fov*Math.PI/180/2)*f,r=i/c*t;return{width:r,height:t,top:u,left:d,factor:i/r,distance:f,aspect:h}}}let d=e=>r(t=>({performance:{...t.performance,current:e}})),h=new l.Vector2;return{set:r,get:n,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(n(),t)},advance:(e,r)=>t(e,r,n()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new l.Clock,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=n();i&&clearTimeout(i),e.performance.current!==e.performance.min&&d(e.performance.min),i=setTimeout(()=>d(n().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:e=>r(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i,o,s)=>{let l=n().camera,c={width:e,height:t,top:o||0,left:s||0,updateStyle:i};r(e=>({size:c,viewport:{...e.viewport,...u(l,a,c)}}))},setDpr:e=>r(t=>{let r=L(e);return{viewport:{...t.viewport,dpr:r,initialDpr:t.viewport.initialDpr||r}}}),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=n().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:c.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,r)=>{let i=n().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:r}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let r=n().internal;null!=r&&r.subscribers&&(r.priority=r.priority-(t>0?1:0),r.subscribers=r.subscribers.filter(t=>t.ref!==e))}}}}}),n=r.getState(),i=n.size,o=n.viewport.dpr,a=n.camera;return r.subscribe(()=>{let{camera:e,size:t,viewport:n,gl:s,set:l}=r.getState();if(t.width!==i.width||t.height!==i.height||n.dpr!==o){var c;i=t,o=n.dpr,Z(e,t),s.setPixelRatio(n.dpr);let r=null!=(c=t.updateStyle)?c:"undefined"!=typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(t.width,t.height,r)}e!==a&&(a=e,l(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),r.subscribe(t=>e(t)),r},eo=new Set,ea=new Set,es=new Set;function el(e,t){if(e.size)for(let{callback:r}of e.values())r(t)}function ec(e,t){switch(e){case"before":return el(eo,t);case"after":return el(ea,t);case"tail":return el(es,t)}}function eu(e,t,r){let a=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(a=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),i=t.internal.subscribers,n=0;n<i.length;n++)(o=i[n]).ref.current(o.store.getState(),a,r);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ed(){let e=c.useContext(en);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function eh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return ed()(e,t)}function ef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=ed(),n=r.getState().internal.subscribe,i=S(e);return M(()=>n(i,t,r),[t,n,r]),null}let ep=new WeakMap;function em(e,t){return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let a=ep.get(r);return a||(a=new r,ep.set(r,a)),e&&e(a),Promise.all(i.map(e=>new Promise((r,n)=>a.load(e,e=>{e.scene&&Object.assign(e,function(e){let t={nodes:{},materials:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}(e.scene)),r(e)},t,t=>n(Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message))))))).finally(()=>null==a.dispose?void 0:a.dispose())}}function eg(e,t,r,n){let i=Array.isArray(t)?t:[t],o=b(em(r,n),[e,...i],{equal:U.equ});return Array.isArray(t)?o:o[0]}eg.preload=function(e,t,r){let n=Array.isArray(t)?t:[t];return E(em(r),[e,...n])},eg.clear=function(e,t){return C([e,...Array.isArray(t)?t:[t]])};let ev=new Map,{invalidate:eA,advance:ey}=function(e){let t,r,n,i=!1;function o(a){for(let l of(r=requestAnimationFrame(o),i=!0,t=0,ec("before",a),e.values())){var s;(n=l.store.getState()).internal.active&&("always"===n.frameloop||n.internal.frames>0)&&!(null!=(s=n.gl.xr)&&s.isPresenting)&&(t+=eu(a,n))}if(ec("after",a),0===t)return ec("tail",a),i=!1,cancelAnimationFrame(r)}return{loop:o,invalidate:function t(r){var n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!r)return e.forEach(e=>t(e.store.getState()),a);null!=(n=r.gl.xr)&&n.isPresenting||!r.internal.active||"never"===r.frameloop||(r.internal.frames=Math.min(60,r.internal.frames+a),i||(i=!0,requestAnimationFrame(o)))},advance:function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(r&&ec("before",t),n)eu(t,n,i);else for(let r of e.values())eu(t,r.store.getState());r&&ec("after",t)}}}(ev),{reconciler:eb,applyProps:eE}=function(e,t){function r(e,t,r){let n,{args:i=[],attach:o,...a}=t,s="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===a.object)throw Error("R3F: Primitives without 'object' are invalid!");n=j(a.object,{type:e,root:r,attach:o,primitive:!0})}else{let t=_[s];if(!t)throw Error("R3F: ".concat(s," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw Error("R3F: The args prop must be an array!");n=j(new t(...i),{type:e,root:r,attach:o,memoizedProps:{args:i}})}return void 0===n.__r3f.attach&&(n instanceof l.BufferGeometry?n.__r3f.attach="geometry":n instanceof l.Material&&(n.__r3f.attach="material")),"inject"!==s&&Y(n,a),n}function n(e,t){let r=!1;if(t){var n,i;null!=(n=t.__r3f)&&n.attach?K(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),r=!0),r||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||j(t,{}),t.__r3f.parent=e,X(t),Q(t)}}function i(e,t,r){let n=!1;if(t){var i,o;if(null!=(i=t.__r3f)&&i.attach)K(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});let i=e.children.filter(e=>e!==t),o=i.indexOf(r);e.children=[...i.slice(0,o),t,...i.slice(o)],n=!0}n||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||j(t,{}),t.__r3f.parent=e,X(t),Q(t)}}function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach(e=>a(t,e,r))}function a(e,t,r){if(t){var n,i,a,s,l;t.__r3f&&(t.__r3f.parent=null),null!=(n=e.__r3f)&&n.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(i=t.__r3f)&&i.attach?z(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){let{internal:r}=e.getState();r.interaction=r.interaction.filter(e=>e!==t),r.initialHits=r.initialHits.filter(e=>e!==t),r.hovered.forEach((e,n)=>{(e.eventObject===t||e.object===t)&&r.hovered.delete(n)}),r.capturedMap.forEach((e,n)=>{q(r.capturedMap,t,e,n)})}(G(t),t));let c=null==(a=t.__r3f)?void 0:a.primitive,u=!c&&(void 0===r?null!==t.dispose:r);if(c||(o(null==(l=t.__r3f)?void 0:l.objects,t,u),o(t.children,t,u)),delete t.__r3f,u&&t.dispose&&"Scene"!==t.type){let e=()=>{try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,m.unstable_scheduleCallback)(m.unstable_IdlePriority,e):e()}Q(e)}}let s=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:p()({createInstance:r,removeChild:a,appendChild:n,appendInitialChild:n,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;let r=e.getState().scene;r.__r3f&&(r.__r3f.root=e,n(r,t))},removeChildFromContainer:(e,t)=>{t&&a(e.getState().scene,t)},insertInContainerBefore:(e,t,r)=>{if(!t||!r)return;let n=e.getState().scene;n.__r3f&&i(n,t,r)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate(e,t,r,n){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&n.object&&n.object!==e)return[!0];{let{args:t=[],children:i,...o}=n,{args:a=[],children:s,...l}=r;if(!Array.isArray(t))throw Error("R3F: the args prop must be an array!");if(t.some((e,t)=>e!==a[t]))return[!0];let c=W(e,o,l,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,t,i,o,s,l){let[c,u]=t;c?function(e,t,i,o){var s;let l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;let c=r(t,i,e.__r3f.root);if(e.children){for(let t of e.children)t.__r3f&&n(c,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>n(c,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(l,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),n(l,c),c.raycast&&c.__r3f.eventCount&&G(c).getState().internal.interaction.push(c),[o,o.alternate].forEach(e=>{null!==e&&(e.stateNode=c,e.ref&&("function"==typeof e.ref?e.ref(c):e.ref.current=c))})}(e,i,s,l):Y(e,u)},commitMount(e,t,r,n){var i;let o=null!=(i=e.__r3f)?i:{};e.raycast&&o.handlers&&o.eventCount&&G(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>j(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:r,parent:n}=null!=(t=e.__r3f)?t:{};r&&n&&z(n,e,r),e.isObject3D&&(e.visible=!1),Q(e)},unhideInstance(e,t){var r;let{attach:n,parent:i}=null!=(r=e.__r3f)?r:{};n&&i&&K(i,e,n),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Q(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():u.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&U.fun(performance.now)?performance.now:U.fun(Date.now)?Date.now:()=>0,scheduleTimeout:U.fun(setTimeout)?setTimeout:void 0,cancelTimeout:U.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Y}}(0,function(){var e;let t="undefined"!=typeof self&&self||window;if(!t)return u.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return u.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return u.ContinuousEventPriority;default:return u.DefaultEventPriority}}),eC={objects:"shallow",strict:!1},eB=(e,t)=>{let r="function"==typeof e?e(t):e;return er(r)?r:new l.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function e_(e){let t,r;let n=ev.get(e),i=null==n?void 0:n.fiber,o=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,s=o||ei(eA,ey),d=i||eb.createContainer(s,u.ConcurrentRoot,null,!1,null,"",a,null);n||ev.set(e,{fiber:d,store:s});let h=!1;return{configure(){var n,i;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:a,size:c,scene:u,events:d,onCreated:f,shadows:p=!1,linear:m=!1,flat:g=!1,legacy:v=!1,orthographic:A=!1,frameloop:y="always",dpr:b=[1,2],performance:E,raycaster:C,camera:B,onPointerMissed:_}=o,w=s.getState(),x=w.gl;w.gl||w.set({gl:x=eB(a,e)});let O=w.raycaster;O||w.set({raycaster:O=new l.Raycaster});let{params:R,...M}=C||{};if(U.equ(M,O,eC)||eE(O,{...M}),U.equ(R,O.params,eC)||eE(O,{params:{...O.params,...R}}),!w.camera||w.camera===r&&!U.equ(r,B,eC)){r=B;let e=B instanceof l.Camera,t=e?B:A?new l.OrthographicCamera(0,0,0,0,.1,1e3):new l.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,B&&eE(t,B),w.camera||null!=B&&B.rotation||t.lookAt(0,0,0)),w.set({camera:t}),O.camera=t}if(!w.scene){let e;u instanceof l.Scene?e=u:(e=new l.Scene,u&&eE(e,u)),w.set({scene:j(e)})}if(!w.xr){let e=(e,t)=>{let r=s.getState();"never"!==r.frameloop&&ey(e,!0,r,t)},t=()=>{let t=s.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||eA(t)},r={connect(){let e=s.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=s.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(n=x.xr)?void 0:n.addEventListener)&&r.connect(),w.set({xr:r})}if(x.shadowMap){let e=x.shadowMap.enabled,t=x.shadowMap.type;if(x.shadowMap.enabled=!!p,U.boo(p))x.shadowMap.type=l.PCFSoftShadowMap;else if(U.str(p)){let e={basic:l.BasicShadowMap,percentage:l.PCFShadowMap,soft:l.PCFSoftShadowMap,variance:l.VSMShadowMap};x.shadowMap.type=null!=(i=e[p])?i:l.PCFSoftShadowMap}else U.obj(p)&&Object.assign(x.shadowMap,p);(e!==x.shadowMap.enabled||t!==x.shadowMap.type)&&(x.shadowMap.needsUpdate=!0)}let S=T();S&&("enabled"in S?S.enabled=!v:"legacyMode"in S&&(S.legacyMode=v)),eE(x,{outputEncoding:m?3e3:3001,toneMapping:g?l.NoToneMapping:l.ACESFilmicToneMapping}),w.legacy!==v&&w.set(()=>({legacy:v})),w.linear!==m&&w.set(()=>({linear:m})),w.flat!==g&&w.set(()=>({flat:g})),!a||U.fun(a)||er(a)||U.equ(a,x,eC)||eE(x,a),d&&!w.events.handlers&&w.set({events:d(s)});let D=function(e,t){let r="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){let{width:e,height:n,top:i,left:o,updateStyle:a=r}=t;return{width:e,height:n,top:i,left:o,updateStyle:a}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:i,left:o}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:o,updateStyle:r}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:r}:{width:0,height:0,top:0,left:0}}(e,c);return U.equ(D,w.size,eC)||w.setSize(D.width,D.height,D.updateStyle,D.top,D.left),b&&w.viewport.dpr!==L(b)&&w.setDpr(b),w.frameloop!==y&&w.setFrameloop(y),w.onPointerMissed||w.set({onPointerMissed:_}),E&&!U.equ(E,w.performance,eC)&&w.set(e=>({performance:{...e.performance,...E}})),t=f,h=!0,this},render(r){return h||this.configure(),eb.updateContainer(c.createElement(ew,{store:s,children:r,onCreated:t,rootElement:e}),d,null,()=>void 0),s},unmount(){ex(e)}}}function ew(e){let{store:t,children:r,onCreated:n,rootElement:i}=e;return M(()=>{let e=t.getState();e.set(e=>({internal:{...e.internal,active:!0}})),n&&n(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)},[]),c.createElement(en.Provider,{value:t},r)}function ex(e,t){let r=ev.get(e),n=null==r?void 0:r.fiber;if(n){let i=null==r?void 0:r.store.getState();i&&(i.internal.active=!1),eb.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var r,n,o,a;null==i.events.disconnect||i.events.disconnect(),null==(r=i.gl)||null==(n=r.renderLists)||null==n.dispose||n.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(e){for(let t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),ev.delete(e),t&&t(e)}catch(e){}},500)})}}function eT(e,t,r){return c.createElement(eO,{key:t.uuid,children:e,container:t,state:r})}function eO(e){let{state:t={},children:r,container:n}=e,{events:i,size:o,...a}=t,s=ed(),[u]=c.useState(()=>new l.Raycaster),[d]=c.useState(()=>new l.Vector2),f=c.useCallback((e,t)=>{let r;let c={...e};if(Object.keys(e).forEach(r=>{(et.includes(r)||e[r]!==t[r]&&t[r])&&delete c[r]}),t&&o){let n=t.camera;r=e.viewport.getCurrentViewport(n,new l.Vector3,o),n!==e.camera&&Z(n,o)}return{...c,scene:n,raycaster:u,pointer:d,mouse:d,previousRoot:s,events:{...e.events,...null==t?void 0:t.events,...i},size:{...e.size,...o},viewport:{...e.viewport,...r},...a}},[t]),[p]=c.useState(()=>{let e=s.getState();return h((t,r)=>({...e,scene:n,raycaster:u,pointer:d,mouse:d,previousRoot:s,events:{...e.events,...i},size:{...e.size,...o},...a,set:t,get:r,setEvents:e=>t(t=>({...t,events:{...t.events,...e}}))}))});return c.useEffect(()=>{let e=s.subscribe(e=>p.setState(t=>f(e,t)));return()=>{e(),p.destroy()}},[]),c.useEffect(()=>{p.setState(e=>f(s.getState(),e))},[f]),c.createElement(c.Fragment,null,eb.createPortal(c.createElement(en.Provider,{value:p},r),p,null))}eb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:c.version}),c.unstable_act},9631:function(e,t,r){r.d(t,{Xz:function(){return O}});var n=r(3966),i=r(2110),o=r(4090),a=r(6376),s=r(3802),l=r.n(s);let c=["x","y","top","bottom","left","right","width","height"],u=(e,t)=>c.every(r=>e[r]===t[r]);var d=Object.defineProperty,h=Object.defineProperties,f=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&v(e,r,t[r]);if(p)for(var r of p(t))g.call(t,r)&&v(e,r,t[r]);return e},y=(e,t)=>h(e,f(t));function b(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}let E=b(o.createContext(null));class C extends o.Component{render(){return o.createElement(E.Provider,{value:this._reactInternals},this.props.children)}}let{ReactCurrentOwner:B,ReactCurrentDispatcher:_}=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r(7777),r(4812),r(9514);let w={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function x(e){let{handlePointer:t}=(0,n.c)(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(w).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:n}=e.getState();null!=(t=n.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var r;let{set:n,events:i}=e.getState();null==i.disconnect||i.disconnect(),n(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=i.handlers)?r:[]).forEach(e=>{let[r,n]=e,[i,o]=w[r];t.addEventListener(i,n,{passive:o})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var n;Object.entries(null!=(n=r.handlers)?n:[]).forEach(e=>{let[t,n]=e;if(r&&r.connected instanceof HTMLElement){let[e]=w[t];r.connected.removeEventListener(e,n)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let T=o.forwardRef(function(e,t){let{children:r,fallback:s,resize:c,style:d,gl:h,events:f=x,eventSource:p,eventPrefix:m,shadows:g,linear:v,flat:w,legacy:T,orthographic:O,frameloop:R,dpr:M,performance:S,raycaster:D,camera:F,scene:I,onPointerMissed:P,onCreated:k,...L}=e;o.useMemo(()=>(0,n.e)(a),[]);let H=function(){let e=function(){var e,t;let r=function(){let e=o.useContext(E);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=o.useId();return o.useMemo(()=>{for(let r of[null==B?void 0:B.current,e,null==e?void 0:e.alternate]){if(!r)continue;let e=function e(t,r,n){if(!t)return;if(!0===n(t))return t;let i=r?t.return:t.child;for(;i;){let t=e(i,r,n);if(t)return t;i=r?null:i.sibling}}(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}(),[n]=o.useState(()=>new Map);n.clear();let i=r;for(;i;){let r=null==(e=i.type)?void 0:e._context;r&&r!==E&&!n.has(r)&&n.set(r,null==(t=null==_?void 0:_.current)?void 0:t.readContext(b(r))),i=i.return}return n}();return o.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>o.createElement(t,null,o.createElement(r.Provider,y(A({},n),{value:e.get(r)}))),e=>o.createElement(C,A({},e))),[e])}(),[G,U]=function(e){var t;let{debounce:r,scroll:n,polyfill:i,offsetSize:a}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,s=i||window.ResizeObserver;if(!s)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,d]=(0,o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=(0,o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),f=r?"number"==typeof r?r:r.scroll:null,p=r?"number"==typeof r?r:r.resize:null,m=(0,o.useRef)(!1);(0,o.useEffect)(()=>(m.current=!0,()=>void(m.current=!1)));let[g,v,A]=(0,o.useMemo)(()=>{let e=()=>{if(!h.current.element)return;let{left:e,top:t,width:r,height:n,bottom:i,right:o,x:s,y:l}=h.current.element.getBoundingClientRect(),c={left:e,top:t,width:r,height:n,bottom:i,right:o,x:s,y:l};h.current.element instanceof HTMLElement&&a&&(c.height=h.current.element.offsetHeight,c.width=h.current.element.offsetWidth),Object.freeze(c),m.current&&!u(h.current.lastBounds,c)&&d(h.current.lastBounds=c)};return[e,p?l()(e,p):e,f?l()(e,f):e]},[d,a,f,p]);function y(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",A,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function b(){h.current.element&&(h.current.resizeObserver=new s(A),h.current.resizeObserver.observe(h.current.element),n&&h.current.scrollContainers&&h.current.scrollContainers.forEach(e=>e.addEventListener("scroll",A,{capture:!0,passive:!0})))}return t=!!n,(0,o.useEffect)(()=>{if(t)return window.addEventListener("scroll",A,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",A,!0)},[A,t]),(0,o.useEffect)(()=>(window.addEventListener("resize",v),()=>void window.removeEventListener("resize",v)),[v]),(0,o.useEffect)(()=>{y(),b()},[n,A,v]),(0,o.useEffect)(()=>y,[]),[e=>{e&&e!==h.current.element&&(y(),h.current.element=e,h.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:i,overflowY:o}=window.getComputedStyle(t);return[n,i,o].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),b())},c,g]}({scroll:!0,debounce:{scroll:50,resize:0},...c}),j=o.useRef(null),N=o.useRef(null);o.useImperativeHandle(t,()=>j.current);let J=(0,n.u)(P),[K,z]=o.useState(!1),[W,V]=o.useState(!1);if(K)throw K;if(W)throw W;let Y=o.useRef(null);(0,n.a)(()=>{let e=j.current;U.width>0&&U.height>0&&e&&(Y.current||(Y.current=(0,n.b)(e)),Y.current.configure({gl:h,events:f,shadows:g,linear:v,flat:w,legacy:T,orthographic:O,frameloop:R,dpr:M,performance:S,raycaster:D,camera:F,scene:I,size:U,onPointerMissed:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==J.current?void 0:J.current(...t)},onCreated:e=>{null==e.events.connect||e.events.connect(p?(0,n.i)(p)?p.current:p:N.current),m&&e.setEvents({compute:(e,t)=>{let r=e[m+"X"],n=e[m+"Y"];t.pointer.set(r/t.size.width*2-1,-(n/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==k||k(e)}}),Y.current.render(o.createElement(H,null,o.createElement(n.E,{set:V},o.createElement(o.Suspense,{fallback:o.createElement(n.B,{set:z})},r)))))}),o.useEffect(()=>{let e=j.current;if(e)return()=>(0,n.d)(e)},[]);let Q=p?"none":"auto";return o.createElement("div",(0,i.Z)({ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...d}},L),o.createElement("div",{ref:G,style:{width:"100%",height:"100%"}},o.createElement("canvas",{ref:j,style:{display:"block"}},s)))}),O=o.forwardRef(function(e,t){return o.createElement(C,null,o.createElement(T,(0,i.Z)({},e,{ref:t})))})},4478:function(e){/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e,t){if(null==e)throw TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return e;for(var r=Object.prototype.propertyIsEnumerable,n=Object(e),i=arguments.length,o=0;++o<i;)for(var a=Object(arguments[o]),s=Object.getOwnPropertySymbols(a),l=0;l<s.length;l++){var c=s[l];r.call(a,c)&&(n[c]=a[c])}return n}},5057:function(e,t){t.Z=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?n.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t})}return!0}},3802:function(e){function t(e,t,r){function n(){var c=Date.now()-s;c<t&&c>=0?i=setTimeout(n,t-c):(i=null,r||(l=e.apply(a,o),a=o=null))}null==t&&(t=100);var i,o,a,s,l,c=function(){a=this,o=arguments,s=Date.now();var c=r&&!i;return i||(i=setTimeout(n,t)),c&&(l=e.apply(a,o),a=o=null),l};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(l=e.apply(a,o),a=o=null,clearTimeout(i),i=null)},c}t.debounce=t,e.exports=t},1389:function(e,t,r){var n=r(9687);e.exports=function(e){n(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];n(i)&&function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}(e,i)}return e}},9687:function(e){/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},3022:function(e){/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e,t,r){for(var n in e)if(!1===t.call(r,e[n],n,e))break}},2709:function(e){/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e,r,n,i,o){var a;if(!(null!==(a=e)&&("object"==typeof a||"function"==typeof a))||!r)return e;if(r=t(r),n&&(r+="."+t(n)),i&&(r+="."+t(i)),o&&(r+="."+t(o)),r in e)return e[r];for(var s=r.split("."),l=s.length,c=-1;e&&++c<l;){for(var u=s[c];"\\"===u[u.length-1];)u=u.slice(0,-1)+"."+s[++c];e=e[u]}return e};function t(e){return e?Array.isArray(e)?e.join("."):e:""}},397:function(e,t,r){/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(9350);e.exports=function(e){return n(e)||"function"==typeof e||Array.isArray(e)}},9350:function(e,t,r){/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(7564);function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},7564:function(e){/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},9811:function(e,t,r){let n,i,o,a;r.d(t,{Zf:function(){return li},LI:function(){return sI},M4:function(){return lo}});var s=r(9542),l=r(4090),c=r.t(l,2),u=r(2110);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.useCallback)(d(...t),t)}let f=(0,l.forwardRef)((e,t)=>{let{children:r,...n}=e,i=l.Children.toArray(r),o=i.find(g);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):(0,l.isValidElement)(e)?e.props.children:null);return(0,l.createElement)(p,(0,u.Z)({},n,{ref:t}),(0,l.isValidElement)(e)?(0,l.cloneElement)(e,void 0,r):null)}return(0,l.createElement)(p,(0,u.Z)({},n,{ref:t}),r)});f.displayName="Slot";let p=(0,l.forwardRef)((e,t)=>{let{children:r,...n}=e;return(0,l.isValidElement)(r)?(0,l.cloneElement)(r,{...function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o(...t),i(...t)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props),ref:t?d(t,r.ref):r.ref}):l.Children.count(r)>1?l.Children.only(null):null});p.displayName="SlotClone";let m=e=>{let{children:t}=e;return(0,l.createElement)(l.Fragment,null,t)};function g(e){return(0,l.isValidElement)(e)&&e.type===m}let v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,l.forwardRef)((e,r)=>{let{asChild:n,...i}=e,o=n?f:t;return(0,l.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,l.createElement)(o,(0,u.Z)({},i,{ref:r}))});return r.displayName="Primitive.".concat(t),{...e,[t]:r}},{}),A=(0,l.forwardRef)((e,t)=>{var r;let{container:n=null==globalThis?void 0:null===(r=globalThis.document)||void 0===r?void 0:r.body,...i}=e;return n?s.createPortal((0,l.createElement)(v.div,(0,u.Z)({},i,{ref:t})),n):null});var y=Object.prototype.hasOwnProperty;function b(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&b(e[n],t[n]););return -1===n}if(!r||"object"==typeof e){for(r in n=0,e)if(y.call(e,r)&&++n&&!y.call(t,r)||!(r in t)||!b(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}function E(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!Object.is(e[r[n]],t[r[n]]))return!1;return!0}var C=function(e,t,r,n){this.name=e,this.fn=t,this.args=r,this.modifiers=n};function B(e,t){return void 0===t&&(t="simple"),"object"==typeof e?e[t]:e}function _(e,t,r){if(!e.length)return B(t);var n=e.shift(),i=_(e,t,r);return n.perform(i,r)}C.prototype._test=function(e){var t=this.fn;try{_(this.modifiers.slice(),t,this)(e)}catch(e){t=function(){return!1}}try{return _(this.modifiers.slice(),t,this)(e)}catch(e){return!1}},C.prototype._check=function(e){try{_(this.modifiers.slice(),this.fn,this)(e)}catch(e){if(_(this.modifiers.slice(),function(e){return e},this)(!1))return}if(!_(this.modifiers.slice(),this.fn,this)(e))throw null},C.prototype._testAsync=function(e){var t=this;return new Promise(function(r,n){(function e(t,r,n){if(!t.length)return function(e){return Promise.resolve(B(r,"async")(e))};var i=t.shift(),o=e(t,r,n);return i.performAsync(o,n)})(t.modifiers.slice(),t.fn,t)(e).then(function(t){t?r(e):n(null)}).catch(function(e){return n(e)})})};var w=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},x=function(e){function t(r,n,i,o){for(var a=[],s=arguments.length-4;s-- >0;)a[s]=arguments[s+4];e.call(this,a),e.captureStackTrace&&e.captureStackTrace(this,t),this.rule=r,this.value=n,this.cause=i,this.target=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),T=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.chain=e,this.nextRuleModifiers=t};T.prototype._applyRule=function(e,t){var r=this;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return r.chain.push(new C(t,e.apply(r,n),n,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}},T.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new w(t,e.simple,e.async)),this},T.prototype._clone=function(){return new T(this.chain.slice(),this.nextRuleModifiers.slice())},T.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})},T.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(n){t.push(new x(r,e,n))}}),t},T.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new x(t,e,r)}})},T.prototype.testAsync=function(e){var t=this;return new Promise(function(r,n){(function e(t,r,n,i){if(r.length){var o=r.shift();o._testAsync(t).then(function(){e(t,r,n,i)},function(e){i(new x(o,t,e))})}else n(t)})(e,t.chain.slice(),r,n)})};var O=function(e,t){return!!t&&"string"==typeof e&&0===e.trim().length||null==e};function R(){return"undefined"!=typeof Proxy?function e(t){return new Proxy(t,{get:function(r,n){if(n in r)return r[n];var i=e(t._clone());return n in S?i._applyModifier(S[n],n):n in M?i._applyRule(M[n],n):n in I?i._applyRule(I[n],n):void 0}})}(new T):function e(t){var r=function(t,r){return Object.keys(t).forEach(function(n){r[n]=function(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];return e(r._clone())._applyRule(t[n],n).apply(void 0,i)}}),r},n=r(I,t),i=r(M,n);return Object.keys(S).forEach(function(t){Object.defineProperty(i,t,{get:function(){return e(i._clone())._applyModifier(S[t],t)}})}),i}(new T)}var M={};R.extend=function(e){Object.assign(M,e)},R.clearCustomRules=function(){M={}};var S={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then(function(e){return!e}).catch(function(){return!0})}}},some:{simple:function(e){return function(t){return F(t).some(function(t){try{return e(t)}catch(e){return!1}})}},async:function(e){return function(t){return Promise.all(F(t).map(function(t){try{return e(t).catch(function(){return!1})}catch(e){return!1}})).then(function(e){return e.some(Boolean)})}}},every:{simple:function(e){return function(t){return!1!==t&&F(t).every(e)}},async:function(e){return function(t){return Promise.all(F(t).map(e)).then(function(e){return e.every(Boolean)})}}},strict:{simple:function(e,t){return function(r){return D(t)&&r&&"object"==typeof r?Object.keys(t.args[0]).length===Object.keys(r).length&&e(r):e(r)}},async:function(e,t){return function(r){return Promise.resolve(e(r)).then(function(e){return D(t)&&r&&"object"==typeof r?Object.keys(t.args[0]).length===Object.keys(r).length&&e:e}).catch(function(){return!1})}}}};function D(e){return e&&"schema"===e.name&&e.args.length>0&&"object"==typeof e.args[0]}function F(e){return"string"==typeof e?e.split(""):e}var I={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(e){return void 0===e&&(e=!0),function(t){return"number"==typeof t&&(e||isFinite(t))}},integer:function(){return function(e){return(Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return P("string")},boolean:function(){return P("boolean")},undefined:function(){return P("undefined")},null:function(){return P("null")},array:function(){return P("array")},object:function(){return P("object")},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return"boolean"==typeof e||e===e.toLowerCase()&&""!==e.trim()}},uppercase:function(){return function(e){return e===e.toUpperCase()&&""!==e.trim()}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return 0===e.length}},length:function(e,t){return function(r){return r.length>=e&&r.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(r){return r>=e&&r<=t}},range:function(e,t){return function(r){return r>=e&&r<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2==0}},odd:function(){return function(e){return e%2!=0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return{simple:function(t){var r=[];if(Object.keys(e).forEach(function(n){var i=e[n];try{i.check((t||{})[n])}catch(e){e.target=n,r.push(e)}}),r.length>0)throw r;return!0},async:function(t){var r=[];return Promise.all(Object.keys(e).map(function(n){return e[n].testAsync((t||{})[n]).catch(function(e){e.target=n,r.push(e)})})).then(function(){if(r.length>0)throw r;return!0})}}},passesAnyOf:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return e.some(function(e){return e.test(t)})}},optional:function(e,t){return void 0===t&&(t=!1),{simple:function(r){return O(r,t)||void 0===e.check(r)},async:function(r){return O(r,t)||e.testAsync(r)}}}};function P(e){return function(t){return Array.isArray(t)&&"array"===e||null===t&&"null"===e||typeof t===e}}var k="colors",L="sizes",H="space",G={gap:H,gridGap:H,columnGap:H,gridColumnGap:H,rowGap:H,gridRowGap:H,inset:H,insetBlock:H,insetBlockEnd:H,insetBlockStart:H,insetInline:H,insetInlineEnd:H,insetInlineStart:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,marginBlock:H,marginBlockEnd:H,marginBlockStart:H,marginInline:H,marginInlineEnd:H,marginInlineStart:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,paddingBlock:H,paddingBlockEnd:H,paddingBlockStart:H,paddingInline:H,paddingInlineEnd:H,paddingInlineStart:H,top:H,right:H,bottom:H,left:H,scrollMargin:H,scrollMarginTop:H,scrollMarginRight:H,scrollMarginBottom:H,scrollMarginLeft:H,scrollMarginX:H,scrollMarginY:H,scrollMarginBlock:H,scrollMarginBlockEnd:H,scrollMarginBlockStart:H,scrollMarginInline:H,scrollMarginInlineEnd:H,scrollMarginInlineStart:H,scrollPadding:H,scrollPaddingTop:H,scrollPaddingRight:H,scrollPaddingBottom:H,scrollPaddingLeft:H,scrollPaddingX:H,scrollPaddingY:H,scrollPaddingBlock:H,scrollPaddingBlockEnd:H,scrollPaddingBlockStart:H,scrollPaddingInline:H,scrollPaddingInlineEnd:H,scrollPaddingInlineStart:H,fontSize:"fontSizes",background:k,backgroundColor:k,backgroundImage:k,borderImage:k,border:k,borderBlock:k,borderBlockEnd:k,borderBlockStart:k,borderBottom:k,borderBottomColor:k,borderColor:k,borderInline:k,borderInlineEnd:k,borderInlineStart:k,borderLeft:k,borderLeftColor:k,borderRight:k,borderRightColor:k,borderTop:k,borderTopColor:k,caretColor:k,color:k,columnRuleColor:k,fill:k,outline:k,outlineColor:k,stroke:k,textDecorationColor:k,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:L,minBlockSize:L,maxBlockSize:L,inlineSize:L,minInlineSize:L,maxInlineSize:L,width:L,minWidth:L,maxWidth:L,height:L,minHeight:L,maxHeight:L,flexBasis:L,gridTemplateColumns:L,gridTemplateRows:L,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},U=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,j=()=>{let e=Object.create(null);return function(t,r){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];let a=JSON.stringify(t,U);return a in e?e[a]:e[a]=r(t,...i)}},N=Symbol.for("sxs.internal"),J=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),K=e=>{for(let t in e)return!0;return!1},{hasOwnProperty:z}=Object.prototype,W=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),V=/\s+(?![^()]*\))/,Y=e=>t=>e(..."string"==typeof t?String(t).split(V):[t]),Q={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Y((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:Y((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:Y((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:Y((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:Y((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:Y((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},X=/([\d.]+)([^]*)/,Z=(e,t)=>e.length?e.reduce((e,r)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(e)?":is(".concat(r,")"):r):r+" "+e)),e),[]):t,$=(e,t)=>e in q&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,n,i)=>r+("stretch"===n?"-moz-available".concat(i,";").concat(W(e),":").concat(r,"-webkit-fill-available"):"-moz-fit-content".concat(i,";").concat(W(e),":").concat(r,"fit-content"))+i):String(t),q={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},ee=e=>e?e+"-":"",et=(e,t,r)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,n,i,o,a)=>"$"==o==!!i?e:(n||"--"==o?"calc(":"")+"var(--"+("$"===o?ee(t)+(a.includes("$")?"":ee(r))+a.replace(/\$/g,"-"):a)+")"+(n||"--"==o?"*"+(n||"")+(i||"1")+")":"")),er=/\s*,\s*(?![^()]*\))/,en=Object.prototype.toString,ei=(e,t,r,n,i)=>{let o,a,s;let l=(e,t,r)=>{let c,u;let d=e=>{var h;for(c in e){let f=64===c.charCodeAt(0);for(u of f&&Array.isArray(e[c])?e[c]:[e[c]]){let e=/[A-Z]/.test(h=c)?h:h.replace(/-[^]/g,e=>e[1].toUpperCase()),p="object"==typeof u&&u&&u.toString===en&&(!n.utils[e]||!t.length);if(e in n.utils&&!p){let t=n.utils[e];if(t!==a){a=t,d(t(u)),a=null;continue}}else if(e in Q){let t=Q[e];if(t!==s){s=t,d(t(u)),s=null;continue}}if(f&&(c=(c.slice(1) in n.media?"@media "+n.media[c.slice(1)]:c).replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,r,n,i,o)=>{let a=X.test(t),s=.0625*(a?-1:1),[l,c]=a?[n,t]:[t,n];return"("+("="===r[0]?"":">"===r[0]===a?"max-":"min-")+l+":"+("="!==r[0]&&1===r.length?c.replace(X,(e,t,n)=>Number(t)+s*(">"===r?1:-1)+n):c)+(i?") and ("+(">"===i[0]?"min-":"max-")+l+":"+(1===i.length?o.replace(X,(e,t,r)=>Number(t)+s*(">"===i?-1:1)+r):o):"")+")"})),p){let e=f?r.concat(c):[...r],n=f?[...t]:Z(t,c.split(er));void 0!==o&&i(eo(...o)),o=void 0,l(u,n,e)}else void 0===o&&(o=[[],t,r]),c=f||36!==c.charCodeAt(0)?c:"--".concat(ee(n.prefix)).concat(c.slice(1).replace(/\$/g,"-")),u=p?u:"number"==typeof u?u&&e in ea?String(u)+"px":String(u):et($(e,null==u?"":u),n.prefix,n.themeMap[e]),o[0].push("".concat(f?"".concat(c," "):"".concat(W(c),":")).concat(u))}}};d(e),void 0!==o&&i(eo(...o)),o=void 0};l(e,t,r)},eo=(e,t,r)=>"".concat(r.map(e=>"".concat(e,"{")).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(r.length?r.length+1:0).join("}")),ea={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},es=e=>String.fromCharCode(e+(e>25?39:97)),el=e=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=es(t%52)+r;return es(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(e))>>>0),ec=["themed","global","styled","onevar","resonevar","allvar","inline"],eu=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},ed=e=>{let t;let r=()=>{let{cssRules:e}=t.sheet;return[].map.call(e,(r,n)=>{let{cssText:i}=r,o="";if(i.startsWith("--sxs"))return"";if(e[n-1]&&(o=e[n-1].cssText).startsWith("--sxs")){if(!r.cssRules.length)return"";for(let e in t.rules)if(t.rules[e].group===r)return"--sxs{--sxs:".concat([...t.rules[e].cache].join(" "),"}").concat(i);return r.cssRules.length?"".concat(o).concat(i):""}return i}).join("")},n=()=>{if(t){let{rules:e,sheet:r}=t;if(!r.deleteRule){for(;3===Object(Object(r.cssRules)[0]).type;)r.cssRules.splice(0,1);r.cssRules=[]}for(let t in e)delete e[t]}for(let i of Object(e).styleSheets||[])if(eu(i)){for(let e=0,o=i.cssRules;o[e];++e){let a=Object(o[e]);if(1!==a.type)continue;let s=Object(o[e+1]);if(4!==s.type)continue;++e;let{cssText:l}=a;if(!l.startsWith("--sxs"))continue;let c=l.slice(14,-3).trim().split(/\s+/),u=ec[c[0]];u&&(t||(t={sheet:i,reset:n,rules:{},toString:r}),t.rules[u]={group:s,index:e,cache:new Set(c)})}if(t)break}if(!t){let i=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,i(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?"@media{".concat([].map.call(this.cssRules,e=>e.cssText).join(""),"}"):e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:i("","text/css"),rules:{},reset:n,toString:r}}let{sheet:i,rules:o}=t;for(let e=ec.length-1;e>=0;--e){let t=ec[e];if(!o[t]){let r=ec[e+1],n=o[r]?o[r].index:i.cssRules.length;i.insertRule("@media{}",n),i.insertRule("--sxs{--sxs:".concat(e,"}"),n),o[t]={group:i.cssRules[n+1],index:n,cache:new Set([e])}}eh(o[t])}};return n(),t},eh=e=>{let t=e.group,r=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,r),++r}catch(e){}}},ef=Symbol(),ep=j(),em=(e,t)=>ep(e,()=>function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];let o={type:null,composers:new Set};for(let t of n)if(null!=t){if(t[N])for(let e of(null==o.type&&(o.type=t[N].type),t[N].composers))o.composers.add(e);else t.constructor!==Object||t.$$typeof?null==o.type&&(o.type=t):o.composers.add(eg(t,e))}return null==o.type&&(o.type="span"),o.composers.size||o.composers.add(["PJLV",{},[],[],{},[]]),ev(e,o,t)}),eg=(e,t)=>{let{variants:r,compoundVariants:n,defaultVariants:i,...o}=e,a="".concat(ee(t.prefix),"c-").concat(el(o)),s=[],l=[],c=Object.create(null),u=[];for(let e in i)c[e]=String(i[e]);if("object"==typeof r&&r)for(let e in r){z.call(c,e)||(c[e]="undefined");let t=r[e];for(let r in t){let n={[e]:String(r)};"undefined"===String(r)&&u.push(e);let i=t[r],o=[n,i,!K(i)];s.push(o)}}if("object"==typeof n&&n)for(let e of n){let{css:t,...r}=e;for(let e in t="object"==typeof t&&t||{},r)r[e]=String(r[e]);let n=[r,t,!K(t)];l.push(n)}return[a,o,s,l,c,u]},ev=(e,t,r)=>{let[n,i,o,a]=eA(t.composers),s="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let r=0;r<t[ef].length;r++){let[n,i]=t[ef][r];e.rules[n].apply(i)}return t[ef]=[],null}return t[ef]=[],t.rules={},ec.forEach(e=>t.rules[e]={apply:r=>t[ef].push([e,r])}),t})(r):null,l=(s||r).rules,c=".".concat(n).concat(i.length>1?":where(.".concat(i.slice(1).join("."),")"):""),u=u=>{let{css:d,...h}=u="object"==typeof u&&u||eb,f={};for(let e in o)if(delete h[e],e in u){let t=u[e];"object"==typeof t&&t?f[e]={"@initial":o[e],...t}:(t=String(t),f[e]="undefined"!==t||a.has(e)?t:o[e])}else f[e]=o[e];let p=new Set([...i]);for(let[n,i,o,a]of t.composers){r.rules.styled.cache.has(n)||(r.rules.styled.cache.add(n),ei(i,[".".concat(n)],[],e,e=>{l.styled.apply(e)}));let t=ey(o,f,e.media),s=ey(a,f,e.media,!0);for(let i of t)if(void 0!==i)for(let[t,o,a]of i){let i="".concat(n,"-").concat(el(o),"-").concat(t);p.add(i);let s=(a?r.rules.resonevar:r.rules.onevar).cache,c=a?l.resonevar:l.onevar;s.has(i)||(s.add(i),ei(o,[".".concat(i)],[],e,e=>{c.apply(e)}))}for(let t of s)if(void 0!==t)for(let[i,o]of t){let t="".concat(n,"-").concat(el(o),"-").concat(i);p.add(t),r.rules.allvar.cache.has(t)||(r.rules.allvar.cache.add(t),ei(o,[".".concat(t)],[],e,e=>{l.allvar.apply(e)}))}}if("object"==typeof d&&d){let t="".concat(n,"-i").concat(el(d),"-css");p.add(t),r.rules.inline.cache.has(t)||(r.rules.inline.cache.add(t),ei(d,[".".concat(t)],[],e,e=>{l.inline.apply(e)}))}for(let e of String(u.className||"").trim().split(/\s+/))e&&p.add(e);let m=h.className=[...p].join(" ");return{type:t.type,className:m,selector:c,props:h,toString:()=>m,deferredInjector:s}};return J(u,{className:n,selector:c,[N]:t,toString:()=>(r.rules.styled.cache.has(n)||u(),n)})},eA=e=>{let t="",r=[],n={},i=[];for(let[o,,,,a,s]of e)for(let e in""===t&&(t=o),r.push(o),i.push(...s),a){let t=a[e];(void 0===n[e]||"undefined"!==t||s.includes(t))&&(n[e]=t)}return[t,r,n,new Set(i)]},ey=(e,t,r,n)=>{let i=[];e:for(let[o,a,s]of e){if(s)continue;let e,l=0,c=!1;for(e in o){let n=o[e],i=t[e];if(i!==n){if("object"!=typeof i||!i)continue e;{let e,t,o=0;for(let a in i){if(n===String(i[a])){if("@initial"!==a){let e=a.slice(1);(t=t||[]).push(e in r?r[e]:a.replace(/^@media ?/,"")),c=!0}l+=o,e=!0}++o}if(t&&t.length&&(a={["@media "+t.join(", ")]:a}),!e)continue e}}}(i[l]=i[l]||[]).push([n?"cv":"".concat(e,"-").concat(o[e]),a,c])}return i},eb={},eE=j(),eC=(e,t)=>eE(e,()=>function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];let o=()=>{for(let r of n){let n=el(r="object"==typeof r&&r||{});if(!t.rules.global.cache.has(n)){if(t.rules.global.cache.add(n),"@import"in r){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let n of[].concat(r["@import"]))n=n.includes('"')||n.includes("'")?n:'"'.concat(n,'"'),t.sheet.insertRule("@import ".concat(n,";"),e++);delete r["@import"]}ei(r,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return J(o,{toString:o})}),eB=j(),e_=(e,t)=>eB(e,()=>r=>{let n="".concat(ee(e.prefix),"k-").concat(el(r)),i=()=>{if(!t.rules.global.cache.has(n)){t.rules.global.cache.add(n);let i=[];ei(r,[],[],e,e=>i.push(e));let o="@keyframes ".concat(n,"{").concat(i.join(""),"}");t.rules.global.apply(o)}return n};return J(i,{get name(){return i()},toString:i})}),ew=class{get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+ee(this.prefix)+ee(this.scale)+this.token}toString(){return this.computedValue}constructor(e,t,r,n){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==r?"":String(r),this.prefix=null==n?"":String(n)}},ex=j(),eT=(e,t)=>ex(e,()=>(r,n)=>{n="object"==typeof r&&r||Object(n);let i=".".concat(r=(r="string"==typeof r?r:"")||"".concat(ee(e.prefix),"t-").concat(el(n))),o={},a=[];for(let t in n)for(let r in o[t]={},n[t]){let i="--".concat(ee(e.prefix)).concat(t,"-").concat(r),s=et(String(n[t][r]),e.prefix,t);o[t][r]=new ew(r,s,t,e.prefix),a.push("".concat(i,":").concat(s))}let s=()=>{if(a.length&&!t.rules.themed.cache.has(r)){t.rules.themed.cache.add(r);let i="".concat(n===e.theme?":root,":"",".").concat(r,"{").concat(a.join(";"),"}");t.rules.themed.apply(i)}return r};return{...o,get className(){return s()},selector:i,toString:s}}),eO=j(),eR=j();let eM={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function eS(e,t,r){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*r):e*t*r/(t+r*e)}function eD(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===n?Math.max(t,Math.min(e,r)):e<t?-eS(t-e,r-t,n)+t:e>r?+eS(e-r,r-t,n)+r:e}function eF(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(t){eF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let ek={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function eL(e){return e?e[0].toUpperCase()+e.slice(1):""}let eH=["enter","leave"],eG=["gotpointercapture","lostpointercapture"];function eU(e){return"touches"in e}function ej(e){return eU(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function eN(e){return eU(e)?("touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches)[0]:e}function eJ(e){let t=eN(e);return eU(e)?t.identifier:t.pointerId}function eK(e){let t=eN(e);return[t.clientX,t.clientY]}function ez(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"==typeof e?e(...r):e}function eW(){}function eV(e,t){return Object.assign({},t,e||{})}class eY{get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:r,args:n}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?ez(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:r,shared:n}=this;t.args=this.args;let i=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,function(e){let t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){let{shiftKey:r,altKey:n,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:o})}return t}(e)),n.down=n.pressed=n.buttons%2==1||n.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let e=t._delta.map(Math.abs);eM.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);let[o,a]=t._movement,[s,l]=r.threshold,{_step:c,values:u}=t;if(r.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(o)>=s&&u[0]),!1===c[1]&&(c[1]=Math.abs(a)>=l&&u[1])):(!1===c[0]&&(c[0]=Math.abs(o)>=s&&Math.sign(o)*s),!1===c[1]&&(c[1]=Math.abs(a)>=l&&Math.sign(a)*l)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;let d=[0,0];if(r.hasCustomTransform){let[e,t]=u;d[0]=!1!==c[0]?e-c[0]:0,d[1]=!1!==c[1]?t-c[1]:0}else d[0]=!1!==c[0]?o-c[0]:0,d[1]=!1!==c[1]?a-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);let h=t.offset,f=t._active&&!t._blocked||t.active;f&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=ez(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));let[p,m]=t.offset,[[g,v],[A,y]]=t._bounds;t.overflow=[p<g?-1:p>v?1:0,m<A?-1:m>y?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);let b=t._active&&r.rubberband||[0,0];if(t.offset=function(e,t,r){let[n,i]=t,[o,a]=r,[[s,l],[c,u]]=e;return[eD(n,s,l,o),eD(i,c,u,a)]}(t._bounds,t.offset,b),t.delta=eM.sub(t.offset,h),this.computeMovement(),f&&(!t.last||i>32)){t.delta=eM.sub(t.offset,h);let e=t.delta.map(Math.abs);eM.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[e[0]/i,e[1]/i],t.timeDelta=i)}}emit(){let e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;let n=this.handler(eP(eP(eP({},t),e),{},{[this.aliasKey]:e.values}));void 0!==n&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}}class eQ extends eY{reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=eM.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=eM.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let t=this.state,r=this.config;if(!t.axis&&e){let n="object"==typeof r.axisThreshold?r.axisThreshold[ej(e)]:r.axisThreshold;t.axis=function(e,t){let[r,n]=e,i=Math.abs(r),o=Math.abs(n);return i>o&&i>t?"x":o>i&&o>t?"y":void 0}(t._movement,n)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}constructor(...e){super(...e),eF(this,"aliasKey","xy")}}let eX=e=>e,eZ={enabled(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e},eventOptions:(e,t,r)=>eP(eP({},r.shared.eventOptions),e),preventDefault(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return eM.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?eM.toVector(e):void 0,transform(e,t,r){let n=e||r.shared.transform;return this.hasCustomTransform=!!n,n||eX},threshold:e=>eM.toVector(e,0)},e$=eP(eP({},eZ),{},{axis(e,t,r){let{axis:n}=r;if(this.lockDirection="lock"===n,!this.lockDirection)return n},axisThreshold(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},bounds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof e)return t=>e$.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=e;return[[t,r],[n,i]]}}),eq={ArrowRight:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[e*t,0]},ArrowLeft:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[-1*e*t,0]},ArrowUp:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,-1*e*t]},ArrowDown:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[0,e*t]}};class e0 extends eQ{reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),n={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=e$.bounds(n)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let t=this.config,r=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;let n=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),n&&n.size>1&&r._pointerActive||(this.start(e),this.setupPointer(e),r._pointerId=eJ(e),r._pointerActive=!0,this.computeValues(eK(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==ej(e)?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let t=this.state,r=this.config;if(!t._pointerActive)return;let n=eJ(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;let i=eK(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=eM.sub(i,t._values),this.computeValues(i)),eM.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll){if(!t.axis)return;if(t.axis===r.preventScrollAxis||"xy"===r.preventScrollAxis){t._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(e){}let t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;let n=eJ(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[i,o]=t._distance;if(t.tap=i<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{let[e,n]=t._delta,[i,o]=t._movement,[a,s]=r.swipe.velocity,[l,c]=r.swipe.distance,u=r.swipe.duration;if(t.elapsedTime<u){let r=Math.abs(e/t.timeDelta),u=Math.abs(n/t.timeDelta);r>a&&Math.abs(i)>l&&(t.swipe[0]=Math.sign(e)),u>s&&Math.abs(o)>c&&(t.swipe[1]=Math.sign(n))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,"persist"in e&&"function"==typeof e.persist&&e.persist();let t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let t=eq[e.key];if(t){let r=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,n),r._keyboardActive=!0,eM.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in eq&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}constructor(...e){super(...e),eF(this,"ingKey","dragging")}}let e1=window.document&&window.document.createElement;function e2(){return e1&&"ontouchstart"in window}let e9={isBrowser:e1,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:e2(),touchscreen:e2()||e1&&window.navigator.maxTouchPoints>1,pointer:e1&&"onpointerdown"in window,pointerLock:e1&&"exitPointerLock"in window.document},e3={mouse:0,touch:0,pen:8},e8=eP(eP({},e$),{},{device(e,t,r){let{pointer:{touch:n=!1,lock:i=!1,mouse:o=!1}={}}=r;return(this.pointerLock=i&&e9.pointerLock,e9.touch&&n)?"touch":this.pointerLock?"mouse":e9.pointer&&!o?"pointer":e9.touch?"touch":"mouse"},preventScrollAxis(e,t,r){let{preventScroll:n}=r;if(this.preventScrollDelay="number"==typeof n?n:n||void 0===n&&e?250:void 0,e9.touchscreen&&!1!==n)return e||(void 0!==n?"y":void 0)},pointerCapture(e,t,r){let{pointer:{capture:n=!0,buttons:i=1,keys:o=!0}={}}=r;return this.pointerButtons=i,this.keys=o,!this.pointerLock&&"pointer"===this.device&&n},threshold(e,t,r){let{filterTaps:n=!1,tapsThreshold:i=3,axis:o}=r,a=eM.toVector(e,n?i:o?1:0);return this.filterTaps=n,this.tapsThreshold=i,a},swipe(){let{velocity:e=.5,distance:t=50,duration:r=250}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{velocity:this.transform(eM.toVector(e)),distance:this.transform(eM.toVector(t)),duration:r}},delay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?eP(eP({},e3),e):e3,keyboardDisplacement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return e}});eP(eP({},eZ),{},{device(e,t,r){let{shared:n,pointer:{touch:i=!1}={}}=r;if(n.target&&!e9.touch&&e9.gesture)return"gesture";if(e9.touch&&i)return"touch";if(e9.touchscreen){if(e9.pointer)return"pointer";if(e9.touch)return"touch"}},bounds(e,t,r){let{scaleBounds:n={},angleBounds:i={}}=r,o=e=>{let t=eV(ez(n,e),{min:-1/0,max:1/0});return[t.min,t.max]},a=e=>{let t=eV(ez(i,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof n&&"function"!=typeof i?[o(),a()]:e=>[o(e),a(e)]},threshold(e,t,r){return this.lockDirection="lock"===r.axis,eM.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e}}),eP(eP({},e$),{},{mouseOnly:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e}}),eP(eP({},e$),{},{mouseOnly:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e}});let e6=new Map,e4=new Map,e5={key:"drag",engine:e0,resolver:e8},e7={target(e){if(e)return()=>"current"in e?e.current:e},enabled(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e},window(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e9.isBrowser?window:void 0;return e},eventOptions(){let{passive:e=!0,capture:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{passive:e,capture:t}},transform:e=>e},te=["target","eventOptions","window","enabled","transform"];function tt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r={};for(let[n,i]of Object.entries(t))switch(typeof i){case"function":r[n]=i.call(r,e[n],n,e);break;case"object":r[n]=tt(e[n],i);break;case"boolean":i&&(r[n]=e[n])}return r}class tr{add(e,t,r,n,i){let o=this._listeners,a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=ek[e];return e+(r&&r[t]||t)}(t,r),s=eP(eP({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(a,n,s);let l=()=>{e.removeEventListener(a,n,s),o.delete(l)};return o.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}constructor(e,t){eF(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}}class tn{add(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}constructor(){eF(this,"_timeouts",new Map)}}class ti{setEventIds(e){return eU(e)?(this.touchIds=new Set(Array.from(e.touches).filter(t=>{var r,n;return t.target===e.currentTarget||(null===(r=e.currentTarget)||void 0===r||null===(n=r.contains)||void 0===n?void 0:n.call(r,t.target))}).map(e=>e.identifier)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{target:n,eventOptions:i,window:o,enabled:a,transform:s}=e,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,te);if(r.shared=tt({target:n,eventOptions:i,window:o,enabled:a,transform:s},e7),t){let e=e4.get(t);r[t]=tt(eP({shared:r.shared},l),e)}else for(let e in l){let t=e4.get(e);t&&(r[e]=tt(eP({shared:r.shared},l[e]),t))}return r}(e,t,this.config)}clean(){for(let e of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(){let e;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let i=this.config.shared,o={};if(!i.target||(e=i.target())){if(i.enabled){for(let t of this.gestures){let n=this.config[t],i=ta(o,n.eventOptions,!!e);n.enabled&&new(e6.get(t))(this,r,t).bind(i)}let t=ta(o,i.eventOptions,!!e);for(let e in this.nativeHandlers)t(e,"",t=>this.nativeHandlers[e](eP(eP({},this.state.shared),{},{event:t,args:r})),void 0,!0)}for(let e in o)o[e]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?eW:1===t.length?t[0]:function(){let e;for(let r of t)e=r.apply(this,arguments)||e;return e}}(...o[e]);if(!e)return o;for(let t in o){let{device:r,capture:n,passive:i}=function(e){let t=e.substring(2).toLowerCase(),r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));let n=eG.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(n);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:r}}(t);this._targetEventStore.add(e,r,"",o[t],{capture:n,passive:i})}}}constructor(e){eF(this,"gestures",new Set),eF(this,"_targetEventStore",new tr(this)),eF(this,"gestureEventStores",{}),eF(this,"gestureTimeoutStores",{}),eF(this,"handlers",{}),eF(this,"config",{}),eF(this,"pointerIds",new Set),eF(this,"touchIds",new Set),eF(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),e.drag&&to(this,"drag"),e.wheel&&to(this,"wheel"),e.scroll&&to(this,"scroll"),e.move&&to(this,"move"),e.pinch&&to(this,"pinch"),e.hover&&to(this,"hover")}}function to(e,t){e.gestures.add(t),e.gestureEventStores[t]=new tr(e,t),e.gestureTimeoutStores[t]=new tn}let ta=(e,t,r)=>function(n,i,o){var a,s;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=null!==(a=l.capture)&&void 0!==a?a:t.capture,d=null!==(s=l.passive)&&void 0!==s?s:t.passive,h=c?n:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=ek[e],i=n&&n[t]||t;return"on"+eL(e)+eL(i)+(!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e&&!eH.includes(t)}(r,i)?"":"Capture")}(n,i,u);r&&d&&(h+="Passive"),e[h]=e[h]||[],e[h].push(o)};function ts(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function tl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=()=>{let t=r.map(e=>(0,l.createContext)(e));return function(r){let n=(null==r?void 0:r[e])||t;return(0,l.useMemo)(()=>({["__scope".concat(e)]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let i=(0,l.createContext)(n),o=r.length;function a(t){let{scope:r,children:n,...a}=t,s=(null==r?void 0:r[e][o])||i,c=(0,l.useMemo)(()=>a,Object.values(a));return(0,l.createElement)(s.Provider,{value:c},n)}return r=[...r,n],a.displayName=t+"Provider",[a,function(r,a){let s=(null==a?void 0:a[e][o])||i,c=(0,l.useContext)(s);if(c)return c;if(void 0!==n)return n;throw Error("`".concat(r,"` must be used within `").concat(t,"`"))}]},function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=t[0];if(1===t.length)return n;let i=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let r=e.reduce((e,r)=>{let{useScope:n,scopeName:i}=r,o=n(t)["__scope".concat(i)];return{...e,...o}},{});return(0,l.useMemo)(()=>({["__scope".concat(n.scopeName)]:r}),[r])}};return i.scopeName=n.scopeName,i}(n,...t)]}function tc(e){let t=(0,l.useRef)(e);return(0,l.useEffect)(()=>{t.current=e}),(0,l.useMemo)(()=>function(){for(var e,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...n)},[])}let tu="dismissableLayer.update",td=(0,l.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),th=(0,l.forwardRef)((e,t)=>{var r;let{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:d,...f}=e,p=(0,l.useContext)(td),[m,g]=(0,l.useState)(null),A=null!==(r=null==m?void 0:m.ownerDocument)&&void 0!==r?r:null==globalThis?void 0:globalThis.document,[,y]=(0,l.useState)({}),b=h(t,e=>g(e)),E=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),B=E.indexOf(C),_=m?E.indexOf(m):-1,w=p.layersWithOutsidePointerEventsDisabled.size>0,x=_>=B,T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=tc(e),n=(0,l.useRef)(!1),i=(0,l.useRef)(()=>{});return(0,l.useEffect)(()=>{let e=e=>{if(e.target&&!n.current){let n={originalEvent:e};function o(){tp("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=o,t.addEventListener("click",i.current,{once:!0})):o()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...p.branches].some(e=>e.contains(t));!x||r||(null==a||a(e),null==c||c(e),e.defaultPrevented||null==d||d())},A),O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=tc(e),n=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{let e=e=>{e.target&&!n.current&&tp("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;[...p.branches].some(e=>e.contains(t))||(null==s||s(e),null==c||c(e),e.defaultPrevented||null==d||d())},A);return!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=tc(e);(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[r,t])}(e=>{_!==p.layers.size-1||(null==o||o(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},A),(0,l.useEffect)(()=>{if(m)return i&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(n=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),tf(),()=>{i&&1===p.layersWithOutsidePointerEventsDisabled.size&&(A.body.style.pointerEvents=n)}},[m,A,i,p]),(0,l.useEffect)(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),tf())},[m,p]),(0,l.useEffect)(()=>{let e=()=>y({});return document.addEventListener(tu,e),()=>document.removeEventListener(tu,e)},[]),(0,l.createElement)(v.div,(0,u.Z)({},f,{ref:b,style:{pointerEvents:w?x?"auto":"none":void 0,...e.style},onFocusCapture:ts(e.onFocusCapture,O.onFocusCapture),onBlurCapture:ts(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ts(e.onPointerDownCapture,T.onPointerDownCapture)}))});function tf(){let e=new CustomEvent(tu);document.dispatchEvent(e)}function tp(e,t,r,n){let{discrete:i}=n,o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});(t&&o.addEventListener(e,t,{once:!0}),i)?o&&(0,s.flushSync)(()=>o.dispatchEvent(a)):o.dispatchEvent(a)}let tm=(null==globalThis?void 0:globalThis.document)?l.useLayoutEffect:()=>{},tg=c["useId".toString()]||(()=>void 0),tv=0,tA=["top","right","bottom","left"],ty=Math.min,tb=Math.max,tE=Math.round,tC=Math.floor,tB=e=>({x:e,y:e}),t_={left:"right",right:"left",bottom:"top",top:"bottom"},tw={start:"end",end:"start"};function tx(e,t){return"function"==typeof e?e(t):e}function tT(e){return e.split("-")[0]}function tO(e){return e.split("-")[1]}function tR(e){return"x"===e?"y":"x"}function tM(e){return"y"===e?"height":"width"}function tS(e){return["top","bottom"].includes(tT(e))?"y":"x"}function tD(e){return e.replace(/start|end/g,e=>tw[e])}function tF(e){return e.replace(/left|right|bottom|top/g,e=>t_[e])}function tI(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function tP(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function tk(e,t,r){let n,{reference:i,floating:o}=e,a=tS(t),s=tR(tS(t)),l=tM(s),c=tT(t),u="y"===a,d=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,f=i[l]/2-o[l]/2;switch(c){case"top":n={x:d,y:i.y-o.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:h};break;case"left":n={x:i.x-o.width,y:h};break;default:n={x:i.x,y:i.y}}switch(tO(t)){case"start":n[s]-=f*(r&&u?-1:1);break;case"end":n[s]+=f*(r&&u?-1:1)}return n}let tL=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await (null==a.isRTL?void 0:a.isRTL(t)),c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=tk(c,n,l),h=n,f={},p=0;for(let r=0;r<s.length;r++){let{name:o,fn:m}=s[r],{x:g,y:v,data:A,reset:y}=await m({x:u,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,f={...f,[o]:{...f[o],...A}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=tk(c,h,l)),r=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function tH(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=tx(t,e),p=tI(f),m=s[h?"floating"===d?"reference":"floating":d],g=tP(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{...a.floating,x:n,y:i}:a.reference,A=await (null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),y=await (null==o.isElement?void 0:o.isElement(A))&&await (null==o.getScale?void 0:o.getScale(A))||{x:1,y:1},b=tP(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:A,strategy:l}):v);return{top:(g.top-b.top+p.top)/y.y,bottom:(b.bottom-g.bottom+p.bottom)/y.y,left:(g.left-b.left+p.left)/y.x,right:(b.right-g.right+p.right)/y.x}}function tG(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tU(e){return tA.some(t=>e[t]>=0)}async function tj(e,t){let{placement:r,platform:n,elements:i}=e,o=await (null==n.isRTL?void 0:n.isRTL(i.floating)),a=tT(r),s=tO(r),l="y"===tS(r),c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=tx(t,e),{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}function tN(e){return tz(e)?(e.nodeName||"").toLowerCase():"#document"}function tJ(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function tK(e){var t;return null==(t=(tz(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function tz(e){return e instanceof Node||e instanceof tJ(e).Node}function tW(e){return e instanceof Element||e instanceof tJ(e).Element}function tV(e){return e instanceof HTMLElement||e instanceof tJ(e).HTMLElement}function tY(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof tJ(e).ShadowRoot)}function tQ(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=tq(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function tX(e){let t=tZ(),r=tq(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function tZ(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function t$(e){return["html","body","#document"].includes(tN(e))}function tq(e){return tJ(e).getComputedStyle(e)}function t0(e){return tW(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function t1(e){if("html"===tN(e))return e;let t=e.assignedSlot||e.parentNode||tY(e)&&e.host||tK(e);return tY(t)?t.host:t}function t2(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=t1(t);return t$(r)?t.ownerDocument?t.ownerDocument.body:t.body:tV(r)&&tQ(r)?r:e(r)}(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=tJ(i);return o?t.concat(a,a.visualViewport||[],tQ(i)?i:[],a.frameElement&&r?t2(a.frameElement):[]):t.concat(i,t2(i,[],r))}function t9(e){let t=tq(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=tV(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=tE(r)!==o||tE(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function t3(e){return tW(e)?e:e.contextElement}function t8(e){let t=t3(e);if(!tV(t))return tB(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=t9(t),a=(o?tE(r.width):r.width)/n,s=(o?tE(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}let t6=tB(0);function t4(e){let t=tJ(e);return tZ()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:t6}function t5(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),a=t3(e),s=tB(1);t&&(n?tW(n)&&(s=t8(n)):s=t8(e));let l=(void 0===(i=r)&&(i=!1),n&&(!i||n===tJ(a))&&i)?t4(a):tB(0),c=(o.left+l.x)/s.x,u=(o.top+l.y)/s.y,d=o.width/s.x,h=o.height/s.y;if(a){let e=tJ(a),t=n&&tW(n)?tJ(n):n,r=e,i=r.frameElement;for(;i&&n&&t!==r;){let e=t8(i),t=i.getBoundingClientRect(),n=tq(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,u*=e.y,d*=e.x,h*=e.y,c+=o,u+=a,i=(r=tJ(i)).frameElement}}return tP({width:d,height:h,x:c,y:u})}let t7=[":popover-open",":modal"];function re(e){return t7.some(t=>{try{return e.matches(t)}catch(e){return!1}})}function rt(e){return t5(tK(e)).left+t0(e).scrollLeft}function rr(e,t,r){let n;if("viewport"===t)n=function(e,t){let r=tJ(e),n=tK(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;let e=tZ();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}(e,r);else if("document"===t)n=function(e){let t=tK(e),r=t0(e),n=e.ownerDocument.body,i=tb(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=tb(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+rt(e),s=-r.scrollTop;return"rtl"===tq(n).direction&&(a+=tb(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}(tK(e));else if(tW(t))n=function(e,t){let r=t5(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=tV(e)?t8(e):tB(1),a=e.clientWidth*o.x;return{width:a,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}(t,r);else{let r=t4(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return tP(n)}function rn(e,t){return tV(e)&&"fixed"!==tq(e).position?t?t(e):e.offsetParent:null}function ri(e,t){let r=tJ(e);if(!tV(e)||re(e))return r;let n=rn(e,t);for(;n&&["table","td","th"].includes(tN(n))&&"static"===tq(n).position;)n=rn(n,t);return n&&("html"===tN(n)||"body"===tN(n)&&"static"===tq(n).position&&!tX(n))?r:n||function(e){let t=t1(e);for(;tV(t)&&!t$(t);){if(tX(t))return t;t=t1(t)}return null}(e)||r}let ro=async function(e){let t=this.getOffsetParent||ri,r=this.getDimensions;return{reference:function(e,t,r){let n=tV(t),i=tK(t),o="fixed"===r,a=t5(e,!0,o,t),s={scrollLeft:0,scrollTop:0},l=tB(0);if(n||!n&&!o){if(("body"!==tN(t)||tQ(i))&&(s=t0(t)),n){let e=t5(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=rt(i))}return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await r(e.floating)}}},ra={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o="fixed"===i,a=tK(n),s=!!t&&re(t.floating);if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=tB(1),u=tB(0),d=tV(n);if((d||!d&&!o)&&(("body"!==tN(n)||tQ(a))&&(l=t0(n)),tV(n))){let e=t5(n);c=t8(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}},getDocumentElement:tK,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,o=[..."clippingAncestors"===r?function(e,t){let r=t.get(e);if(r)return r;let n=t2(e,[],!1).filter(e=>tW(e)&&"body"!==tN(e)),i=null,o="fixed"===tq(e).position,a=o?t1(e):e;for(;tW(a)&&!t$(a);){let t=tq(a),r=tX(a);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||tQ(a)&&!r&&function e(t,r){let n=t1(t);return!(n===r||!tW(n)||t$(n))&&("fixed"===tq(n).position||e(n,r))}(e,a))?n=n.filter(e=>e!==a):i=t,a=t1(a)}return t.set(e,n),n}(t,this._c):[].concat(r),n],a=o[0],s=o.reduce((e,r)=>{let n=rr(t,r,i);return e.top=tb(n.top,e.top),e.right=ty(n.right,e.right),e.bottom=ty(n.bottom,e.bottom),e.left=tb(n.left,e.left),e},rr(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:ri,getElementRects:ro,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=t9(e);return{width:t,height:r}},getScale:t8,isElement:tW,isRTL:function(e){return"rtl"===tq(e).direction}},rs=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=tx(e,t)||{};if(null==c)return{};let d=tI(u),h={x:r,y:n},f=tR(tS(i)),p=tM(f),m=await a.getDimensions(c),g="y"===f,v=g?"clientHeight":"clientWidth",A=o.reference[p]+o.reference[f]-h[f]-o.floating[p],y=h[f]-o.reference[f],b=await (null==a.getOffsetParent?void 0:a.getOffsetParent(c)),E=b?b[v]:0;E&&await (null==a.isElement?void 0:a.isElement(b))||(E=s.floating[v]||o.floating[p]);let C=E/2-m[p]/2-1,B=ty(d[g?"top":"left"],C),_=ty(d[g?"bottom":"right"],C),w=E-m[p]-_,x=E/2-m[p]/2+(A/2-y/2),T=tb(B,ty(x,w)),O=!l.arrow&&null!=tO(i)&&x!==T&&o.reference[p]/2-(x<B?B:_)-m[p]/2<0,R=O?x<B?x-B:x-w:0;return{[f]:h[f]+R,data:{[f]:T,centerOffset:x-T-R,...O&&{alignmentOffset:R}},reset:O}}}),rl=(e,t,r)=>{let n=new Map,i={platform:ra,...r},o={...i.platform,_c:n};return tL(e,t,{...i,platform:o})},rc=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:n}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?rs({element:r.current,padding:n}).fn(t):{}:r?rs({element:r,padding:n}).fn(t):{}}});var ru="undefined"!=typeof document?l.useLayoutEffect:l.useEffect;function rd(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!rd(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!rd(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function rh(e){return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rf(e,t){let r=rh(e);return Math.round(t*r)/r}function rp(e){let t=l.useRef(e);return ru(()=>{t.current=e}),t}let rm=(0,l.forwardRef)((e,t)=>{let{children:r,width:n=10,height:i=5,...o}=e;return(0,l.createElement)(v.svg,(0,u.Z)({},o,{ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?r:(0,l.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),rg="Popper",[rv,rA]=tl(rg),[ry,rb]=rv(rg),rE=(0,l.forwardRef)((e,t)=>{let{__scopePopper:r,virtualRef:n,...i}=e,o=rb("PopperAnchor",r),a=(0,l.useRef)(null),s=h(t,a);return(0,l.useEffect)(()=>{o.onAnchorChange((null==n?void 0:n.current)||a.current)}),n?null:(0,l.createElement)(v.div,(0,u.Z)({},i,{ref:s}))}),rC="PopperContent",[rB,r_]=rv(rC),rw=(0,l.forwardRef)((e,t)=>{var r,n,i,o,a,c,d,f,p,m,g,A,y,b;let{__scopePopper:E,side:C="bottom",sideOffset:B=0,align:_="center",alignOffset:w=0,arrowPadding:x=0,avoidCollisions:T=!0,collisionBoundary:O=[],collisionPadding:R=0,sticky:M="partial",hideWhenDetached:S=!1,updatePositionStrategy:D="optimized",onPlaced:F,...I}=e,P=rb(rC,E),[k,L]=(0,l.useState)(null),H=h(t,e=>L(e)),[G,U]=(0,l.useState)(null),j=function(e){let[t,r]=(0,l.useState)(void 0);return tm(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(G),N=null!==(r=null==j?void 0:j.width)&&void 0!==r?r:0,J=null!==(n=null==j?void 0:j.height)&&void 0!==n?n:0,K="number"==typeof R?R:{top:0,right:0,bottom:0,left:0,...R},z=Array.isArray(O)?O:[O],W=z.length>0,V={padding:K,boundary:z.filter(rO),altBoundary:W},{refs:Y,floatingStyles:Q,placement:X,isPositioned:Z,middlewareData:$}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,f]=l.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=l.useState(n);rd(p,n)||m(n);let[g,v]=l.useState(null),[A,y]=l.useState(null),b=l.useCallback(e=>{e!==_.current&&(_.current=e,v(e))},[]),E=l.useCallback(e=>{e!==w.current&&(w.current=e,y(e))},[]),C=o||g,B=a||A,_=l.useRef(null),w=l.useRef(null),x=l.useRef(h),T=null!=u,O=rp(u),R=rp(i),M=l.useCallback(()=>{if(!_.current||!w.current)return;let e={placement:t,strategy:r,middleware:p};R.current&&(e.platform=R.current),rl(_.current,w.current,e).then(e=>{let t={...e,isPositioned:!0};S.current&&!rd(x.current,t)&&(x.current=t,s.flushSync(()=>{f(t)}))})},[p,t,r,R]);ru(()=>{!1===d&&x.current.isPositioned&&(x.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[d]);let S=l.useRef(!1);ru(()=>(S.current=!0,()=>{S.current=!1}),[]),ru(()=>{if(C&&(_.current=C),B&&(w.current=B),C&&B){if(O.current)return O.current(C,B,M);M()}},[C,B,M,O,T]);let D=l.useMemo(()=>({reference:_,floating:w,setReference:b,setFloating:E}),[b,E]),F=l.useMemo(()=>({reference:C,floating:B}),[C,B]),I=l.useMemo(()=>{let e={position:r,left:0,top:0};if(!F.floating)return e;let t=rf(F.floating,h.x),n=rf(F.floating,h.y);return c?{...e,transform:"translate("+t+"px, "+n+"px)",...rh(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,c,F.floating,h.x,h.y]);return l.useMemo(()=>({...h,update:M,refs:D,elements:F,floatingStyles:I}),[h,M,D,F,I])}({strategy:"fixed",placement:C+("center"!==_?"-"+_:""),whileElementsMounted:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,u=t3(e),d=o||a?[...u?t2(u):[],...t2(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),a&&e.addEventListener("resize",r)});let h=u&&l?function(e,t){let r,n=null,i=tK(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();let{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(s||t(),!d||!h)return;let f=tC(u),p=tC(i.clientWidth-(c+d)),m={rootMargin:-f+"px "+-p+"px "+-tC(i.clientHeight-(u+h))+"px "+-tC(c)+"px",threshold:tb(0,ty(1,l))||1},g=!0;function v(e){let t=e[0].intersectionRatio;if(t!==l){if(!g)return a();t?a(!1,t):r=setTimeout(()=>{a(!1,1e-7)},100)}g=!1}try{n=new IntersectionObserver(v,{...m,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(v,m)}n.observe(e)}(!0),o}(u,r):null,f=-1,p=null;s&&(p=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m=c?t5(e):null;return c&&function t(){let n=t5(e);m&&(n.x!==m.x||n.y!==m.y||n.width!==m.width||n.height!==m.height)&&r(),m=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",r),a&&e.removeEventListener("resize",r)}),null==h||h(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(i)}}(...t,{animationFrame:"always"===D})},elements:{reference:P.anchor},middleware:[{name:"offset",options:p={mainAxis:B+J,alignmentAxis:w},async fn(e){var t,r;let{x:n,y:i,placement:o,middlewareData:a}=e,s=await tj(e,p);return o===(null==(t=a.offset)?void 0:t.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:n+s.x,y:i+s.y,data:{...s,placement:o}}}},T&&{name:"shift",options:g={mainAxis:!0,crossAxis:!1,limiter:"partial"===M?(void 0===m&&(m={}),{options:m,fn(e){let{x:t,y:r,placement:n,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:s=!0,crossAxis:l=!0}=tx(m,e),c={x:t,y:r},u=tS(n),d=tR(u),h=c[d],f=c[u],p=tx(a,e),g="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(s){let e="y"===d?"height":"width",t=i.reference[d]-i.floating[e]+g.mainAxis,r=i.reference[d]+i.reference[e]-g.mainAxis;h<t?h=t:h>r&&(h=r)}if(l){var v,A;let e="y"===d?"width":"height",t=["top","left"].includes(tT(n)),r=i.reference[u]-i.floating[e]+(t&&(null==(v=o.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),a=i.reference[u]+i.reference[e]+(t?0:(null==(A=o.offset)?void 0:A[u])||0)-(t?g.crossAxis:0);f<r?f=r:f>a&&(f=a)}return{[d]:h,[u]:f}}}):void 0,...V},async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...s}=tx(g,e),l={x:t,y:r},c=await tH(e,s),u=tS(tT(n)),d=tR(u),h=l[d],f=l[u];if(i){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=h+c[e],n=h-c[t];h=tb(r,ty(h,n))}if(o){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=f+c[e],n=f-c[t];f=tb(r,ty(f,n))}let p=a.fn({...e,[d]:h,[u]:f});return{...p,data:{x:p.x-t,y:p.y-r}}}},T&&{name:"flip",options:A={...V},async fn(e){var t,r,n,i,o;let{placement:a,middlewareData:s,rects:l,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=tx(A,e);if(null!=(t=s.arrow)&&t.alignmentOffset)return{};let b=tT(a),E=tT(c)===c,C=await (null==u.isRTL?void 0:u.isRTL(d.floating)),B=p||(E||!v?[tF(c)]:function(e){let t=tF(e);return[tD(e),t,tD(t)]}(c));p||"none"===g||B.push(...function(e,t,r,n){let i=tO(e),o=function(e,t,r){let n=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(tT(e),"start"===r,n);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(tD)))),o}(c,v,g,C));let _=[c,...B],w=await tH(e,y),x=[],T=(null==(r=s.flip)?void 0:r.overflows)||[];if(h&&x.push(w[b]),f){let e=function(e,t,r){void 0===r&&(r=!1);let n=tO(e),i=tR(tS(e)),o=tM(i),a="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=tF(a)),[a,tF(a)]}(a,l,C);x.push(w[e[0]],w[e[1]])}if(T=[...T,{placement:a,overflows:x}],!x.every(e=>e<=0)){let e=((null==(n=s.flip)?void 0:n.index)||0)+1,t=_[e];if(t)return{data:{index:e,overflows:T},reset:{placement:t}};let r=null==(i=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!r)switch(m){case"bestFit":{let e=null==(o=T.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(r=e);break}case"initialPlacement":r=c}if(a!==r)return{reset:{placement:r}}}return{}}},{name:"size",options:y={...V,apply:e=>{let{elements:t,rects:r,availableWidth:n,availableHeight:i}=e,{width:o,height:a}=r.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(n,"px")),s.setProperty("--radix-popper-available-height","".concat(i,"px")),s.setProperty("--radix-popper-anchor-width","".concat(o,"px")),s.setProperty("--radix-popper-anchor-height","".concat(a,"px"))}},async fn(e){let t,r;let{placement:n,rects:i,platform:o,elements:a}=e,{apply:s=()=>{},...l}=tx(y,e),c=await tH(e,l),u=tT(n),d=tO(n),h="y"===tS(n),{width:f,height:p}=i.floating;"top"===u||"bottom"===u?(t=u,r=d===(await (null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(r=u,t="end"===d?"top":"bottom");let m=p-c[t],g=f-c[r],v=!e.middlewareData.shift,A=m,b=g;if(h){let e=f-c.left-c.right;b=d||v?ty(g,e):e}else{let e=p-c.top-c.bottom;A=d||v?ty(m,e):e}if(v&&!d){let e=tb(c.left,0),t=tb(c.right,0),r=tb(c.top,0),n=tb(c.bottom,0);h?b=f-2*(0!==e||0!==t?e+t:tb(c.left,c.right)):A=p-2*(0!==r||0!==n?r+n:tb(c.top,c.bottom))}await s({...e,availableWidth:b,availableHeight:A});let E=await o.getDimensions(a.floating);return f!==E.width||p!==E.height?{reset:{rects:!0}}:{}}},G&&rc({element:G,padding:x}),rR({arrowWidth:N,arrowHeight:J}),S&&{name:"hide",options:b={strategy:"referenceHidden",...V},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...n}=tx(b,e);switch(r){case"referenceHidden":{let r=tG(await tH(e,{...n,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:tU(r)}}}case"escaped":{let r=tG(await tH(e,{...n,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:tU(r)}}}default:return{}}}}]}),[q,ee]=rM(X),et=tc(F);tm(()=>{Z&&(null==et||et())},[Z,et]);let er=null===(i=$.arrow)||void 0===i?void 0:i.x,en=null===(o=$.arrow)||void 0===o?void 0:o.y,ei=(null===(a=$.arrow)||void 0===a?void 0:a.centerOffset)!==0,[eo,ea]=(0,l.useState)();return tm(()=>{k&&ea(window.getComputedStyle(k).zIndex)},[k]),(0,l.createElement)("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:Z?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eo,"--radix-popper-transform-origin":[null===(c=$.transformOrigin)||void 0===c?void 0:c.x,null===(d=$.transformOrigin)||void 0===d?void 0:d.y].join(" ")},dir:e.dir},(0,l.createElement)(rB,{scope:E,placedSide:q,onArrowChange:U,arrowX:er,arrowY:en,shouldHideArrow:ei},(0,l.createElement)(v.div,(0,u.Z)({"data-side":q,"data-align":ee},I,{ref:H,style:{...I.style,animation:Z?void 0:"none",opacity:null!==(f=$.hide)&&void 0!==f&&f.referenceHidden?0:void 0}}))))}),rx={top:"bottom",right:"left",bottom:"top",left:"right"},rT=(0,l.forwardRef)(function(e,t){let{__scopePopper:r,...n}=e,i=r_("PopperArrow",r),o=rx[i.placedSide];return(0,l.createElement)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0}},(0,l.createElement)(rm,(0,u.Z)({},n,{ref:t,style:{...n.style,display:"block"}})))});function rO(e){return null!==e}let rR=e=>({name:"transformOrigin",options:e,fn(t){var r,n,i,o,a;let{placement:s,rects:l,middlewareData:c}=t,u=(null===(r=c.arrow)||void 0===r?void 0:r.centerOffset)!==0,d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=rM(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(n=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==n?n:0)+d/2,v=(null!==(o=null===(a=c.arrow)||void 0===a?void 0:a.y)&&void 0!==o?o:0)+h/2,A="",y="";return"bottom"===f?(A=u?m:"".concat(g,"px"),y="".concat(-h,"px")):"top"===f?(A=u?m:"".concat(g,"px"),y="".concat(l.floating.height+h,"px")):"right"===f?(A="".concat(-h,"px"),y=u?m:"".concat(v,"px")):"left"===f&&(A="".concat(l.floating.width+h,"px"),y=u?m:"".concat(v,"px")),{data:{x:A,y:y}}}});function rM(e){let[t,r="center"]=e.split("-");return[t,r]}let rS=e=>{let{__scopePopper:t,children:r}=e,[n,i]=(0,l.useState)(null);return(0,l.createElement)(ry,{scope:t,anchor:n,onAnchorChange:i},r)},rD=e=>{let{present:t,children:r}=e,n=function(e){var t,r;let[n,i]=(0,l.useState)(),o=(0,l.useRef)({}),a=(0,l.useRef)(e),c=(0,l.useRef)("none"),[u,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,l.useReducer)((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return(0,l.useEffect)(()=>{let e=rF(o.current);c.current="mounted"===u?e:"none"},[u]),tm(()=>{let t=o.current,r=a.current;if(r!==e){let n=c.current,i=rF(t);e?d("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?d("UNMOUNT"):r&&n!==i?d("ANIMATION_OUT"):d("UNMOUNT"),a.current=e}},[e,d]),tm(()=>{if(n){let e=e=>{let t=rF(o.current).includes(e.animationName);e.target===n&&t&&(0,s.flushSync)(()=>d("ANIMATION_END"))},t=e=>{e.target===n&&(c.current=rF(o.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:(0,l.useCallback)(e=>{e&&(o.current=getComputedStyle(e)),i(e)},[])}}(t),i="function"==typeof r?r({present:n.isPresent}):l.Children.only(r),o=h(n.ref,i.ref);return"function"==typeof r||n.isPresent?(0,l.cloneElement)(i,{ref:o}):null};function rF(e){return(null==e?void 0:e.animationName)||"none"}rD.displayName="Presence";let rI=(0,l.forwardRef)((e,t)=>(0,l.createElement)(v.span,(0,u.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),[rP,rk]=tl("Tooltip",[rA]),rL=rA(),rH="tooltip.open",[rG,rU]=rP("TooltipProvider"),rj="Tooltip",[rN,rJ]=rP(rj),rK="TooltipTrigger",rz=(0,l.forwardRef)((e,t)=>{let{__scopeTooltip:r,...n}=e,i=rJ(rK,r),o=rU(rK,r),a=rL(r),s=h(t,(0,l.useRef)(null),i.onTriggerChange),c=(0,l.useRef)(!1),d=(0,l.useRef)(!1),f=(0,l.useCallback)(()=>c.current=!1,[]);return(0,l.useEffect)(()=>()=>document.removeEventListener("pointerup",f),[f]),(0,l.createElement)(rE,(0,u.Z)({asChild:!0},a),(0,l.createElement)(v.button,(0,u.Z)({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},n,{ref:s,onPointerMove:ts(e.onPointerMove,e=>{"touch"===e.pointerType||d.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ts(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ts(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ts(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:ts(e.onBlur,i.onClose),onClick:ts(e.onClick,i.onClose)})))}),[rW,rV]=rP("TooltipPortal",{forceMount:void 0}),rY="TooltipContent",rQ=(0,l.forwardRef)((e,t)=>{let r=rV(rY,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=e,a=rJ(rY,e.__scopeTooltip);return(0,l.createElement)(rD,{present:n||a.open},a.disableHoverableContent?(0,l.createElement)(rq,(0,u.Z)({side:i},o,{ref:t})):(0,l.createElement)(rX,(0,u.Z)({side:i},o,{ref:t})))}),rX=(0,l.forwardRef)((e,t)=>{let r=rJ(rY,e.__scopeTooltip),n=rU(rY,e.__scopeTooltip),i=(0,l.useRef)(null),o=h(t,i),[a,s]=(0,l.useState)(null),{trigger:c,onClose:d}=r,f=i.current,{onPointerInTransitChange:p}=n,m=(0,l.useCallback)(()=>{s(null),p(!1)},[p]),g=(0,l.useCallback)((e,t)=>{let r=e.currentTarget,n={x:e.clientX,y:e.clientY},i=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(n,r.getBoundingClientRect());s(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(t)}([...function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,i),...function(e){let{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())])),p(!0)},[p]);return(0,l.useEffect)(()=>()=>m(),[m]),(0,l.useEffect)(()=>{if(c&&f){let e=e=>g(e,f),t=e=>g(e,c);return c.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[c,f,g,m]),(0,l.useEffect)(()=>{if(a){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=(null==c?void 0:c.contains(t))||(null==f?void 0:f.contains(t)),i=!function(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let a=t[e].x,s=t[e].y,l=t[o].x,c=t[o].y;s>n!=c>n&&r<(l-a)*(n-s)/(c-s)+a&&(i=!i)}return i}(r,a);n?m():i&&(m(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,f,a,d,m]),(0,l.createElement)(rq,(0,u.Z)({},e,{ref:o}))}),[rZ,r$]=rP(rj,{isInside:!1}),rq=(0,l.forwardRef)((e,t)=>{let{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=e,c=rJ(rY,r),d=rL(r),{onClose:h}=c;return(0,l.useEffect)(()=>(document.addEventListener(rH,h),()=>document.removeEventListener(rH,h)),[h]),(0,l.useEffect)(()=>{if(c.trigger){let e=e=>{let t=e.target;null!=t&&t.contains(c.trigger)&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,h]),(0,l.createElement)(th,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:h},(0,l.createElement)(rw,(0,u.Z)({"data-state":c.stateAttribute},d,s,{ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),(0,l.createElement)(m,null,n),(0,l.createElement)(rZ,{scope:r,isInside:!0},(0,l.createElement)(rI,{id:c.contentId,role:"tooltip"},i||n))))}),r0=(0,l.forwardRef)((e,t)=>{let{__scopeTooltip:r,...n}=e,i=rL(r);return r$("TooltipArrow",r).isInside?null:(0,l.createElement)(rT,(0,u.Z)({},i,n,{ref:t}))}),r1=e=>{let{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=e,c=rU(rj,e.__scopeTooltip),u=rL(t),[d,h]=(0,l.useState)(null),f=function(e){let[t,r]=l.useState(tg());return tm(()=>{e||r(e=>null!=e?e:String(tv++))},[e]),e||(t?"radix-".concat(t):"")}(),p=(0,l.useRef)(0),m=null!=a?a:c.disableHoverableContent,g=null!=s?s:c.delayDuration,v=(0,l.useRef)(!1),[A=!1,y]=function(e){let{prop:t,defaultProp:r,onChange:n=()=>{}}=e,[i,o]=function(e){let{defaultProp:t,onChange:r}=e,n=(0,l.useState)(t),[i]=n,o=(0,l.useRef)(i),a=tc(r);return(0,l.useEffect)(()=>{o.current!==i&&(a(i),o.current=i)},[i,o,a]),n}({defaultProp:r,onChange:n}),a=void 0!==t,s=a?t:i,c=tc(n);return[s,(0,l.useCallback)(e=>{if(a){let r="function"==typeof e?e(t):e;r!==t&&c(r)}else o(e)},[a,t,o,c])]}({prop:n,defaultProp:i,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(rH))):c.onClose(),null==o||o(e)}}),b=(0,l.useMemo)(()=>A?v.current?"delayed-open":"instant-open":"closed",[A]),E=(0,l.useCallback)(()=>{window.clearTimeout(p.current),v.current=!1,y(!0)},[y]),C=(0,l.useCallback)(()=>{window.clearTimeout(p.current),y(!1)},[y]),B=(0,l.useCallback)(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,y(!0)},g)},[g,y]);return(0,l.useEffect)(()=>()=>window.clearTimeout(p.current),[]),(0,l.createElement)(rS,u,(0,l.createElement)(rN,{scope:t,contentId:f,open:A,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:(0,l.useCallback)(()=>{c.isOpenDelayed?B():E()},[c.isOpenDelayed,B,E]),onTriggerLeave:(0,l.useCallback)(()=>{m?C():window.clearTimeout(p.current)},[C,m]),onOpen:E,onClose:C,disableHoverableContent:m},r))};function r2(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(oZ=i||(i={}))[oZ.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",oZ[oZ.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",oZ[oZ.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",oZ[oZ.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",oZ[oZ.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",oZ[oZ.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",oZ[oZ.THEME_ERROR=6]="THEME_ERROR",oZ[oZ.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",oZ[oZ.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",oZ[oZ.EMPTY_KEY=9]="EMPTY_KEY";let r9={[i.UNSUPPORTED_INPUT]:(e,t)=>["An input with type `".concat(e,"` input was found at path `").concat(t,"` but it's not supported yet.")],[i.NO_COMPONENT_FOR_TYPE]:(e,t)=>["Type `".concat(e,"` found at path `").concat(t,"` can't be displayed in panel because no component supports it yet.")],[i.UNKNOWN_INPUT]:(e,t)=>["input at path `".concat(e,"` is not recognized."),t],[i.DUPLICATE_KEYS]:(e,t,r)=>["Key `".concat(e,"` of path `").concat(t,"` already exists at path `").concat(r,"`. Even nested keys need to be unique. Rename one of the keys.")],[i.ALREADY_REGISTERED_TYPE]:e=>["Type ".concat(e," has already been registered. You can't register a component with the same type.")],[i.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[i.THEME_ERROR]:(e,t)=>["Error accessing the theme `".concat(e,".").concat(t,"` value.")],[i.PATH_DOESNT_EXIST]:e=>["Error getting the value at path `".concat(e,"`. There is probably an error in your `render` function.")],[i.PATH_DOESNT_EXIST]:e=>["Error accessing the value at path `".concat(e,"`")],[i.INPUT_TYPE_OVERRIDE]:(e,t,r)=>["Input at path `".concat(e,"` already exists with type: `").concat(t,"`. Its type cannot be overridden with type `").concat(r,"`.")],[i.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function r3(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];let[o,...a]=r9[t](...n);console[e]("LEVA: "+o,...a)}let r8=r3.bind(null,"warn"),r6=r3.bind(null,"log"),r4=["value"],r5=["schema"],r7=["value"],ne=[],nt={};function nr(e){let{value:t}=e,r=r2(e,r4);for(let e of ne){let n=e(t,r);if(n)return n}}function nn(e,t){let{schema:r}=t,n=r2(t,r5);if(e in nt){r8(i.ALREADY_REGISTERED_TYPE,e);return}ne.push((t,n)=>r(t,n)&&e),nt[e]=n}function ni(e,t,r,n){let{normalize:i}=nt[e];if(i)return i(t,r,n);if("object"!=typeof t||!("value"in t))return{value:t};let{value:o}=t;return{value:o,settings:r2(t,r7)}}function no(e,t,r){let{format:n}=nt[e];return n?n(t,r):t}function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?na(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let nl=(e,t,r)=>e>r?r:e<t?t:e,nc=e=>{if(""===e||"number"==typeof e)return e;try{let t=function e(t){if(isNaN(Number(t))){if(nm.test(t)){let r=t.replace(nm,(t,r)=>String(e(r)));return e(r)}if(ng.test(t))return e(t.replace(ng,(e,t,r)=>String(Math.pow(Number(t),Number(r)))));if(nv.test(t))return e(t.replace(nv,(e,t,r)=>String(Number(t)*Number(r))));if(nA.test(t))return e(t.replace(nA,(e,t,r)=>{if(0!=r)return String(Number(t)/Number(r));throw Error("Division by zero")}));else if(ny.test(t))return e(t.replace(ny,(e,t,r)=>String(Number(t)+Number(r))));else if(nb.test(t))return e(t.replace(nb,(e,t,r)=>String(Number(t)-Number(r))))}return Number(t)}(e);if(!isNaN(t))return t}catch(e){}return parseFloat(e)},nu=Math.log(10);function nd(e){let t=Math.abs(+String(e).replace(".",""));if(0===t)return .01;for(;0!==t&&t%10==0;)t/=10;return Math.max(Math.pow(10,Math.floor(Math.log10(Math.abs(e)))-(Math.floor(Math.log(t)/nu)+1)),.001)}let nh=(e,t,r)=>r===t?0:(nl(e,t,r)-t)/(r-t),nf=(e,t,r)=>e*(r-t)+t,np=()=>"_"+Math.random().toString(36).substr(2,9),nm=/\(([0-9+\-*/^ .]+)\)/,ng=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,nv=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,nA=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,ny=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,nb=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function nE(e){return"[object Object]"===Object.prototype.toString.call(e)}let nC=e=>nE(e)&&0===Object.keys(e).length;(o$=o||(o={})).BUTTON="BUTTON",o$.BUTTON_GROUP="BUTTON_GROUP",o$.MONITOR="MONITOR",o$.FOLDER="FOLDER",(oq=a||(a={})).SELECT="SELECT",oq.IMAGE="IMAGE",oq.NUMBER="NUMBER",oq.COLOR="COLOR",oq.STRING="STRING",oq.BOOLEAN="BOOLEAN",oq.INTERVAL="INTERVAL",oq.VECTOR3D="VECTOR3D",oq.VECTOR2D="VECTOR2D";let nB=["type","__customInput"],n_=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],nw=["type"];function nx(e,t,r,n,i){let{value:o,type:a,settings:s}=e;e.value=nO({type:a,value:o,settings:s},t,r,n),e.fromPanel=i}let nT=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function nO(e,t,r,n){let i,{type:o,value:a,settings:s}=e,l="SELECT"!==o&&"function"==typeof t?t(a):t;try{i=function(e,t,r,n,i,o){let{sanitize:a}=nt[e];return a?a(t,r,n,i,o):t}(o,l,s,a,r,n)}catch(e){throw new nT("The value `".concat(t,"` did not result in a correct value."),a,e)}return b(i,a)?a:i}let nR=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;return function(){let i=arguments,o=r&&!n,a=()=>e.apply(this,i);window.clearTimeout(n),n=window.setTimeout(a,t),o&&a()}},nM=e=>e.shiftKey?5:e.altKey?.2:1,nS=["value"],nD=["min","max"],nF=(e,t)=>{let{min:r=-1/0,max:n=1/0,suffix:i}=t,o=parseFloat(e);if(""===e||isNaN(o))throw Error("Invalid number");let a=nl(o,r,n);return i?a+i:a},nI=e=>{let{value:t}=e,r=r2(e,nS),{min:n=-1/0,max:i=1/0}=r,o=r2(r,nD),a=parseFloat(t),s="string"==typeof t?t.substring((""+a).length):void 0;a=nl(a,n,i);let l=r.step;!l&&(Number.isFinite(n)?l=Number.isFinite(i)?+(Math.abs(i-n)/100).toPrecision(1):+(Math.abs(a-n)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-a)/100).toPrecision(1)));let c=l?10*nd(l):nd(a);return{value:s?a+s:a,settings:ns({initialValue:a,step:l=l||c/10,pad:Math.round(nl(Math.log10(1/c),0,2)),min:n,max:i,suffix:s},o)}},nP=(e,t)=>{let{step:r,initialValue:n}=t;return n+Math.round((e-n)/r)*r};var nk=Object.freeze({__proto__:null,schema:e=>{if("number"==typeof e)return!0;if("string"==typeof e){let t=parseFloat(e);return!isNaN(t)&&e.substring((""+t).length).trim().length<4}return!1},sanitize:nF,format:(e,t)=>{let{pad:r=0,suffix:n}=t,i=parseFloat(e).toFixed(r);return n?i+n:i},normalize:nI,sanitizeStep:nP});function nL(){return(nL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let nH=(0,l.createContext)({});function nG(){return(0,l.useContext)(nH)}let nU=(0,l.createContext)(null),nj=(0,l.createContext)(null),nN=(0,l.createContext)(null);function nJ(){return(0,l.useContext)(nj)}let nK=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function nz(e,t){let[r,n]=e.split(" "),i={};return"none"!==r&&(i.boxShadow="".concat(t.inset?"inset ":"","0 0 0 $borderWidths").concat([t.key]," $colors").concat("default"!==r&&r||t.borderColor)),n&&(i.backgroundColor=n),i}let nW={$inputStyle:()=>e=>nz(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>nz(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>nz(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>nz(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:nV,css:nY,createTheme:nQ,globalCss:nX,keyframes:nZ}=(e=>{let t=(e=>{let t=!1,r=eO(e,e=>{t=!0;let r="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",n="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},a={prefix:r,media:n,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...G},utils:"object"==typeof e.utils&&e.utils||{}},s=ed(i),l={css:em(a,s),globalCss:eC(a,s),keyframes:e_(a,s),createTheme:eT(a,s),reset(){s.reset(),l.theme.toString()},theme:{},sheet:s,config:a,prefix:r,getCssText:s.toString,toString:s.toString};return String(l.theme=l.createTheme(o)),l});return t||r.reset(),r})(e);return t.styled=(e=>{let{config:t,sheet:r}=e;return eR(t,()=>{let e=em(t,r);return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let i=e(...r),o=i[N].type,a=l.forwardRef((e,t)=>{let r=e&&e.as||o,{props:n,deferredInjector:a}=i(e);return delete n.as,n.ref=t,a?l.createElement(l.Fragment,null,l.createElement(r,n),l.createElement(a,null)):l.createElement(r,n)});return a.className=i.className,a.displayName="Styled.".concat(o.displayName||o.name||o),a.selector=i.selector,a.toString=()=>i.selector,a[N]=i[N],a}})})(t),t})({prefix:"leva",theme:nK(),utils:ns(ns({},nW),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":nW.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":nW.$focusStyle()(e)}),$hover:e=>({"&:hover":nW.$hoverStyle()(e)}),$active:e=>({"&:active":nW.$activeStyle()(e)})})}),n$=nX({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function nq(e,t){let{theme:r}=(0,l.useContext)(nU);if(!(e in r)||!(t in r[e]))return r8(i.THEME_ERROR,e,t),"";let n=t;for(;;){let t=r[e][n];if("string"!=typeof t||"$"!==t.charAt(0))return t;n=t.substr(1)}}let n0=nV("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),n1=nV("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",["& + ".concat(n0)]:{paddingLeft:0}}),n2=nV(n1,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),n9=nV("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),n3=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],n8=["onUpdate"];function n6(e){let{innerLabel:t,value:r,onUpdate:n,onChange:i,onKeyDown:o,type:a,id:s,inputType:c="text",rows:u=0}=e,d=r2(e,n3),{id:h,emitOnEditStart:f,emitOnEditEnd:p,disabled:m}=nG(),g=(0,l.useRef)(null),v=u>0,A=(0,l.useCallback)(e=>t=>{e(t.currentTarget.value)},[]);l.useEffect(()=>{let e=g.current,t=A(e=>{n(e),p()});return null==e||e.addEventListener("blur",t),()=>null==e?void 0:e.removeEventListener("blur",t)},[A,n,p]);let y=(0,l.useCallback)(e=>{"Enter"===e.key&&A(n)(e)},[A,n]),b=Object.assign({as:v?"textarea":"input"},v?{rows:u}:{},d);return l.createElement(n9,{textArea:v},t&&"string"==typeof t?l.createElement(n1,null,t):t,l.createElement(n0,nL({levaType:a,ref:g,id:s||h,type:c,autoComplete:"off",spellCheck:"false",value:r,onChange:A(i),onFocus:()=>f(),onKeyPress:y,onKeyDown:o,disabled:m},b)))}function n4(e){let{onUpdate:t}=e,r=r2(e,n8),n=(0,l.useCallback)(e=>t(nc(e)),[t]),i=(0,l.useCallback)(e=>{let r="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(r){e.preventDefault();let n=e.altKey?.1:e.shiftKey?10:1;t(e=>parseFloat(e)+r*n)}},[t]);return l.createElement(n6,nL({},r,{onUpdate:n,onKeyDown:i,type:"number"}))}let n5=nV("div",{}),n7=nV("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),ie=nV("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},["&:hover + ".concat(n7,"::after")]:{opacity:.6},["".concat(n5,":hover > & + ").concat(n7,"::after")]:{opacity:.6},["".concat(n5,":hover > & > svg")]:{opacity:1}}),it=nV("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},["> ".concat(n5,":not(:first-of-type)")]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),ir=nV("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",["".concat(it," > &")]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),ii=nV(ir,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),io=nV("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),ia=nV("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),is=nV("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),il=nV("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",["& ".concat(is)]:{pointerEvents:"auto"}}}}}),ic=nV("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),iu=nV("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),id=nV(r0,{fill:"$toolTipBackground"});function ih(e){let{children:t}=e,{className:r}=(0,l.useContext)(nU);return l.createElement(A,{className:r},t)}let ip=["align"];function im(){let{id:e,disable:t,disabled:r}=nG();return l.createElement(l.Fragment,null,l.createElement(ia,{id:e+"__disable",type:"checkbox",checked:!r,onChange:()=>t(!r)}),l.createElement("label",{htmlFor:e+"__disable"}))}function ig(e){let{id:t,optional:r,hint:n}=nG(),i=e.htmlFor||(t?{htmlFor:t}:null),o=n||"string"!=typeof e.children?null:{title:e.children};return l.createElement(l.Fragment,null,r&&l.createElement(im,null),void 0!==n?l.createElement(r1,null,l.createElement(rz,{asChild:!0},l.createElement(is,nL({},i,e))),l.createElement(rQ,{side:"top",sideOffset:2},l.createElement(iu,null,n,l.createElement(id,null)))):l.createElement(is,nL({},i,o,e)))}function iv(e){let{align:t}=e,r=r2(e,ip),{value:n,label:o,key:a,disabled:s}=nG(),{hideCopyButton:c}=(0,l.useContext)(nN),u=!c&&void 0!==a,[d,h]=(0,l.useState)(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:null!=n?n:""})),h(!0)}catch(e){r8(i.CLIPBOARD_ERROR,{[a]:n})}};return l.createElement(io,{align:t,onPointerLeave:()=>h(!1)},l.createElement(ig,r),u&&!s&&l.createElement("div",{title:"Click to copy ".concat("string"==typeof o?o:a," value")},d?l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},l.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),l.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):l.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},l.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),l.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}let iA=["toggled"],iy=nV("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function ib(e){let{toggled:t}=e,r=r2(e,iA);return l.createElement(iy,nL({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(".concat(t?0:-90,"deg)")}},r),l.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}let iE=["input"];function iC(e){let{input:t}=e,r=r2(e,iE);return t?l.createElement(ii,r):l.createElement(ir,r)}function iB(e){let{value:t,type:r,settings:n,setValue:i}=e,[o,a]=(0,l.useState)(no(r,t,n)),s=(0,l.useRef)(t),c=(0,l.useRef)(n);c.current=n;let u=(0,l.useCallback)(e=>a(no(r,e,c.current)),[r]),d=(0,l.useCallback)(e=>{try{i(e)}catch(r){let{type:e,previousValue:t}=r;if("LEVA_ERROR"!==e)throw r;u(t)}},[u,i]);return(0,l.useEffect)(()=>{b(t,s.current)||u(t),s.current=t},[t,u]),{displayValue:o,onChange:a,onUpdate:d}}function i_(e,t){let{emitOnEditStart:r,emitOnEditEnd:n}=nG();return e6.set(e5.key,e5.engine),e4.set(e5.key,e5.resolver),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=l.useMemo(()=>new ti(e),[]);if(i.applyHandlers(e,n),i.applyConfig(t,r),l.useEffect(i.effect.bind(i)),l.useEffect(()=>i.clean.bind(i),[]),void 0===t.target)return i.bind.bind(i)}({drag:t=>{t.first&&(document.body.classList.add("leva__panel__dragged"),null==r||r());let i=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null==n||n()),i}},t||{},"drag")}function iw(){let e=(0,l.useRef)(null),t=(0,l.useRef)({x:0,y:0}),r=(0,l.useCallback)(r=>{Object.assign(t.current,r),e.current&&(e.current.style.transform="translate3d(".concat(t.current.x,"px, ").concat(t.current.y,"px, 0)"))},[]);return[e,r]}let ix=["__refCount"],iT=(e,t)=>e[t]?r2(e[t],ix):null,iO=nV("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),iR=nV("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),iM=nV("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),iS=nV("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),iD=nV("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function iF(e){let{value:t,min:r,max:n,onDrag:i,step:o,initialValue:a}=e,s=(0,l.useRef)(null),c=(0,l.useRef)(null),u=(0,l.useRef)(0),d=nq("sizes","scrubberWidth"),h=i_(e=>{let{event:l,first:h,xy:[f],movement:[p],memo:m}=e;if(h){let{width:e,left:i}=s.current.getBoundingClientRect();u.current=e-parseFloat(d),m=(null==l?void 0:l.target)===c.current?t:nf((f-i)/e,r,n)}return i(nP(m+nf(p/u.current,0,n-r),{step:o,initialValue:a})),m}),f=nh(t,r,n);return l.createElement(iS,nL({ref:s},h()),l.createElement(iR,null,l.createElement(iD,{style:{left:0,right:"".concat((1-f)*100,"%")}})),l.createElement(iM,{ref:c,style:{left:"calc(".concat(f," * (100% - ").concat(d,"))")}}))}let iI=l.memo(e=>{let{label:t,onUpdate:r,step:n,innerLabelTrim:i}=e,[o,a]=(0,l.useState)(!1),s=i_(e=>{let{active:t,delta:[i],event:o,memo:s=0}=e;return a(t),Math.abs(s+=i/2)>=1&&(r(e=>parseFloat(e)+Math.floor(s)*n*nM(o)),s=0),s});return l.createElement(n2,nL({dragging:o,title:t.length>1?t:""},s()),t.slice(0,i))});function iP(e){let{label:t,id:r,displayValue:n,onUpdate:i,onChange:o,settings:a,innerLabelTrim:s=1}=e,c=s>0&&l.createElement(iI,{label:t,step:a.step,onUpdate:i,innerLabelTrim:s});return l.createElement(n4,{id:r,value:String(n),onUpdate:i,onChange:o,innerLabel:c})}let{sanitizeStep:ik}=nk;var iL=ns({component:function(){let e=nG(),{label:t,value:r,onUpdate:n,settings:i,id:o}=e,{min:a,max:s}=i,c=s!==1/0&&a!==-1/0;return l.createElement(iC,{input:!0},l.createElement(iv,null,t),l.createElement(iO,{hasRange:c},c&&l.createElement(iF,nL({value:parseFloat(r),onDrag:n},i)),l.createElement(iP,nL({},e,{id:o,label:"value",innerLabelTrim:c?0:1}))))}},r2(nk,["sanitizeStep"])),iH=Object.freeze({__proto__:null,schema:(e,t)=>R().schema({options:R().passesAnyOf(R().object(),R().array())}).test(t),sanitize:(e,t)=>{let{values:r}=t;if(0>r.indexOf(e))throw Error("Selected value doesn't match Select options");return e},format:(e,t)=>{let{values:r}=t;return r.indexOf(e)},normalize:e=>{let t,r,{value:n,options:i}=e;return Array.isArray(i)?(r=i,t=i.map(e=>String(e))):(r=Object.values(i),t=Object.keys(i)),"value"in e?r.includes(n)||(t.unshift(String(n)),r.unshift(n)):n=r[0],Object.values(i).includes(n)||(i[String(n)]=n),{value:n,settings:{keys:t,values:r}}}});let iG=nV("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),iU=nV("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),ij=nV("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",["".concat(iU,":focus + &")]:{$focusStyle:""},["".concat(iU,":hover + &")]:{$hoverStyle:""}});function iN(e){let{displayValue:t,value:r,onUpdate:n,id:i,settings:o,disabled:a}=e,{keys:s,values:c}=o,u=(0,l.useRef)();return r===c[t]&&(u.current=s[t]),l.createElement(iG,null,l.createElement(iU,{id:i,value:t,onChange:e=>n(c[Number(e.currentTarget.value)]),disabled:a},s.map((e,t)=>l.createElement("option",{key:e,value:t},e))),l.createElement(ij,null,u.current),l.createElement(ib,{toggled:!0}))}var iJ=ns({component:function(){let{label:e,value:t,displayValue:r,onUpdate:n,id:i,disabled:o,settings:a}=nG();return l.createElement(iC,{input:!0},l.createElement(iv,null,e),l.createElement(iN,{id:i,value:t,displayValue:r,onUpdate:n,settings:a,disabled:o}))}},iH),iK=Object.freeze({__proto__:null,schema:e=>R().string().test(e),sanitize:e=>{if("string"!=typeof e)throw Error("Invalid string");return e},normalize:e=>{let{value:t,editable:r=!0,rows:n=!1}=e;return{value:t,settings:{editable:r,rows:"number"==typeof n?n:n?5:0}}}});let iz=["displayValue","onUpdate","onChange","editable"],iW=nV("div",{whiteSpace:"pre-wrap"});function iV(e){let{displayValue:t,onUpdate:r,onChange:n,editable:i=!0}=e,o=r2(e,iz);return i?l.createElement(n6,nL({value:t,onUpdate:r,onChange:n},o)):l.createElement(iW,null,t)}var iY=ns({component:function(){let{label:e,settings:t,displayValue:r,onUpdate:n,onChange:i}=nG();return l.createElement(iC,{input:!0},l.createElement(iv,null,e),l.createElement(iV,nL({displayValue:r,onUpdate:n,onChange:i},t)))}},iK),iQ=Object.freeze({__proto__:null,schema:e=>R().boolean().test(e),sanitize:e=>{if("boolean"!=typeof e)throw Error("Invalid boolean");return e}});let iX=nV("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function iZ(e){let{value:t,onUpdate:r,id:n,disabled:i}=e;return l.createElement(iX,null,l.createElement("input",{id:n,type:"checkbox",checked:t,onChange:e=>r(e.currentTarget.checked),disabled:i}),l.createElement("label",{htmlFor:n},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var i$=ns({component:function(){let{label:e,value:t,onUpdate:r,disabled:n,id:i}=nG();return l.createElement(iC,{input:!0},l.createElement(iv,null,e),l.createElement(iZ,{value:t,onUpdate:r,id:i,disabled:n}))}},iQ);let iq=["locked"];function i0(e){let{value:t,id:r,valueKey:n,settings:i,onUpdate:o,innerLabelTrim:a}=e,s=(0,l.useRef)(t[n]);s.current=t[n];let c=(0,l.useCallback)(e=>o({[n]:nO({type:"NUMBER",value:s.current,settings:i},e)}),[o,i,n]),u=iB({type:"NUMBER",value:t[n],settings:i,setValue:c});return l.createElement(iP,{id:r,label:n,value:t[n],displayValue:u.displayValue,onUpdate:u.onUpdate,onChange:u.onChange,settings:i,innerLabelTrim:a})}let i1=nV("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function i2(e){let{locked:t}=e,r=r2(e,iq);return l.createElement("svg",nL({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t?l.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):l.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function i9(e){let{value:t,onUpdate:r,settings:n,innerLabelTrim:i}=e,{id:o,setSettings:a}=nG(),{lock:s,locked:c}=n;return l.createElement(i1,{withLock:s},s&&l.createElement(i2,{locked:c,onClick:()=>a({locked:!c})}),Object.keys(t).map((e,a)=>l.createElement(i0,{id:0===a?o:"".concat(o,".").concat(e),key:e,valueKey:e,value:t,settings:n[e],onUpdate:r,innerLabelTrim:i})))}let i3=(e,t)=>{let r={},n=0,i=1/0;for(let o in Object.entries(e).forEach(e=>{let[o,a]=e;r[o]=nI(ns({value:a},t[o])).settings,n=Math.max(n,r[o].step),i=Math.min(i,r[o].pad)}),r){let{step:e,min:a,max:s}=t[o]||{};isFinite(e)||isFinite(a)&&isFinite(s)||(r[o].step=n,r[o].pad=i)}return r},i8=["lock"],i6=["value"];function i4(e,t,r){return(Array.isArray(e)?"array":"object")===t?e:"array"===t?Object.values(e):e.reduce((e,t,n)=>Object.assign(e,{[r[n]]:t}),{})}let i5=(e,t,r)=>{let n=i4(e,"object",t.keys);for(let e in n)n[e]=nF(n[e],t[e]);let i=Object.keys(n),o={};if(i.length===t.keys.length)o=n;else{let e=i4(r,"object",t.keys);if(1===i.length&&t.locked){let t=i[0],r=n[t],a=e[t],s=0!==a?r/a:1;for(let n in e)n===t?o[t]=r:o[n]=e[n]*s}else o=ns(ns({},e),n)}return i4(o,t.format,t.keys)},i7=(e,t)=>i4(e,"object",t.keys),oe=e=>!!e&&("step"in e||"min"in e||"max"in e);function ot(e){return{schema:function(e){let t=R().array().length(e).every.number(),r=t=>{if(!t||"object"!=typeof t)return!1;let r=Object.values(t);return r.length===e&&r.every(e=>isFinite(e))};return e=>t.test(e)||r(e)}(e.length),normalize:t=>{let{value:r}=t;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{lock:n=!1}=t,i=r2(t,i8),o=Array.isArray(e)?"array":"object",a="object"===o?Object.keys(e):r,s=i4(e,"object",a),l=i3(s,oe(i)?a.reduce((e,t)=>Object.assign(e,{[t]:i}),{}):i);return{value:"array"===o?e:s,settings:ns(ns({},l),{},{format:o,keys:a,lock:n,locked:!1})}}(r,r2(t,i6),e)},format:(e,t)=>i7(e,t),sanitize:(e,t,r)=>i5(e,t,r)}}var or={grad:.9,turn:360,rad:360/(2*Math.PI)},on=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},oi=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},oo=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},oa=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},os=function(e){return{r:oo(e.r,0,255),g:oo(e.g,0,255),b:oo(e.b,0,255),a:oo(e.a)}},ol=function(e){return{r:oi(e.r),g:oi(e.g),b:oi(e.b),a:oi(e.a,3)}},oc=/^#([0-9a-f]{3,8})$/i,ou=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},od=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),a=o-Math.min(t,r,n),s=a?o===t?(r-n)/a:o===r?2+(n-t)/a:4+(t-r)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},oh=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),a=n*(1-r),s=n*(1-(t-o)*r),l=n*(1-(1-t+o)*r),c=o%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c],a:i}},of=function(e){return{h:oa(e.h),s:oo(e.s,0,100),l:oo(e.l,0,100),a:oo(e.a)}},op=function(e){return{h:oi(e.h),s:oi(e.s),l:oi(e.l),a:oi(e.a,3)}},om=function(e){var t,r;return oh((t=e.s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}))},og=function(e){var t,r,n,i;return{h:(t=od(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a}},ov=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ob=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oE={string:[[function(e){var t=oc.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?oi(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?oi(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=oy.exec(e)||ob.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:os({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t,r,n=ov.exec(e)||oA.exec(e);return n?om(of({h:(t=n[1],void 0===(r=n[2])&&(r="deg"),Number(t)*(or[r]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)})):null},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a;return on(t)&&on(r)&&on(n)?os({r:Number(t),g:Number(r),b:Number(n),a:Number(void 0===i?1:i)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a;return on(t)&&on(r)&&on(n)?om(of({h:Number(t),s:Number(r),l:Number(n),a:Number(void 0===i?1:i)})):null},"hsl"],[function(e){var t,r=e.h,n=e.s,i=e.v,o=e.a;return on(r)&&on(n)&&on(i)?oh({h:oa((t={h:Number(r),s:Number(n),v:Number(i),a:Number(void 0===o?1:o)}).h),s:oo(t.s,0,100),v:oo(t.v,0,100),a:oo(t.a)}):null},"hsv"]]},oC=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},oB=function(e){return"string"==typeof e?oC(e.trim(),oE.string):"object"==typeof e&&null!==e?oC(e,oE.object):[null,void 0]},o_=function(e,t){var r=og(e);return{h:r.h,s:oo(r.s+100*t,0,100),l:r.l,a:r.a}},ow=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},ox=function(e,t){var r=og(e);return{h:r.h,s:r.s,l:oo(r.l+100*t,0,100),a:r.a}},oT=function(){function e(e){this.parsed=oB(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return oi(ow(this.rgba),2)},e.prototype.isDark=function(){return .5>ow(this.rgba)},e.prototype.isLight=function(){return ow(this.rgba)>=.5},e.prototype.toHex=function(){var e,t,r,n,i,o;return t=(e=ol(this.rgba)).r,r=e.g,n=e.b,o=(i=e.a)<1?ou(oi(255*i)):"","#"+ou(t)+ou(r)+ou(n)+o},e.prototype.toRgb=function(){return ol(this.rgba)},e.prototype.toRgbString=function(){var e,t,r,n,i;return t=(e=ol(this.rgba)).r,r=e.g,n=e.b,(i=e.a)<1?"rgba("+t+", "+r+", "+n+", "+i+")":"rgb("+t+", "+r+", "+n+")"},e.prototype.toHsl=function(){return op(og(this.rgba))},e.prototype.toHslString=function(){var e,t,r,n,i;return t=(e=op(og(this.rgba))).h,r=e.s,n=e.l,(i=e.a)<1?"hsla("+t+", "+r+"%, "+n+"%, "+i+")":"hsl("+t+", "+r+"%, "+n+"%)"},e.prototype.toHsv=function(){var e;return{h:oi((e=od(this.rgba)).h),s:oi(e.s),v:oi(e.v),a:oi(e.a,3)}},e.prototype.invert=function(){var e;return oO({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a})},e.prototype.saturate=function(e){return void 0===e&&(e=.1),oO(o_(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),oO(o_(this.rgba,-e))},e.prototype.grayscale=function(){return oO(o_(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),oO(ox(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),oO(ox(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){var t;return"number"==typeof e?oO({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):oi(this.rgba.a,3)},e.prototype.hue=function(e){var t=og(this.rgba);return"number"==typeof e?oO({h:e,s:t.s,l:t.l,a:t.a}):oi(t.h)},e.prototype.isEqual=function(e){return this.toHex()===oO(e).toHex()},e}(),oO=function(e){return e instanceof oT?e:new oT(e)},oR=[];function oM(){return(oM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function oS(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i}function oD(e){var t=(0,l.useRef)(e),r=(0,l.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var oF=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},oI=function(e){return"touches"in e},oP=function(e){return e&&e.ownerDocument.defaultView||self},ok=function(e,t,r){var n=e.getBoundingClientRect(),i=oI(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:oF((i.pageX-(n.left+oP(e).pageXOffset))/n.width),top:oF((i.pageY-(n.top+oP(e).pageYOffset))/n.height)}},oL=function(e){oI(e)||e.preventDefault()},oH=l.memo(function(e){var t=e.onMove,r=e.onKey,n=oS(e,["onMove","onKey"]),i=(0,l.useRef)(null),o=oD(t),a=oD(r),s=(0,l.useRef)(null),c=(0,l.useRef)(!1),u=(0,l.useMemo)(function(){var e=function(e){oL(e),(oI(e)?e.touches.length>0:e.buttons>0)&&i.current?o(ok(i.current,e,s.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=c.current,o=oP(i.current),a=r?o.addEventListener:o.removeEventListener;a(n?"touchmove":"mousemove",e),a(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=i.current;if(n&&(oL(t),(!c.current||oI(t))&&n)){if(oI(t)){c.current=!0;var a=t.changedTouches||[];a.length&&(s.current=a[0].identifier)}n.focus(),o(ok(n,t,s.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),a({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[a,o]),d=u[0],h=u[1],f=u[2];return(0,l.useEffect)(function(){return f},[f]),l.createElement("div",oM({},n,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),oG=function(e){return e.filter(Boolean).join(" ")},oU=function(e){var t=e.color,r=e.left,n=e.top,i=oG(["react-colorful__pointer",e.className]);return l.createElement("div",{className:i,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},l.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},oj=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},oN=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:oj(e.h),s:oj(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:oj(i/2),a:oj(n,2)}},oJ=function(e){var t=oN(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},oK=function(e){var t=oN(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},oz=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),a=n*(1-r),s=n*(1-(t-o)*r),l=n*(1-(1-t+o)*r),c=o%6;return{r:oj(255*[n,s,a,a,l,n][c]),g:oj(255*[l,n,n,s,a,a][c]),b:oj(255*[a,a,l,n,n,s][c]),a:oj(i,2)}},oW=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,o=Math.max(t,r,n),a=o-Math.min(t,r,n),s=a?o===t?(r-n)/a:o===r?2+(n-t)/a:4+(t-r)/a:0;return{h:oj(60*(s<0?s+6:s)),s:oj(o?a/o*100:0),v:oj(o/255*100),a:i}},oV=l.memo(function(e){var t=e.hue,r=e.onChange,n=oG(["react-colorful__hue",e.className]);return l.createElement("div",{className:n},l.createElement(oH,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:oF(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":oj(t),"aria-valuemax":"360","aria-valuemin":"0"},l.createElement(oU,{className:"react-colorful__hue-pointer",left:t/360,color:oJ({h:t,s:100,v:100,a:1})})))}),oY=l.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:oJ({h:t.h,s:100,v:100,a:1})};return l.createElement("div",{className:"react-colorful__saturation",style:n},l.createElement(oH,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:oF(t.s+100*e.left,0,100),v:oF(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+oj(t.s)+"%, Brightness "+oj(t.v)+"%"},l.createElement(oU,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:oJ(t)})))}),oQ=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0};function oX(e,t,r){var n=oD(r),i=(0,l.useState)(function(){return e.toHsva(t)}),o=i[0],a=i[1],s=(0,l.useRef)({color:t,hsva:o});return(0,l.useEffect)(function(){if(!e.equal(t,s.current.color)){var r=e.toHsva(t);s.current={hsva:r,color:t},a(r)}},[t,e]),(0,l.useEffect)(function(){var t;oQ(o,s.current.hsva)||e.equal(t=e.fromHsva(o),s.current.color)||(s.current={hsva:o,color:t},n(t))},[o,e,n]),[o,(0,l.useCallback)(function(e){a(function(t){return Object.assign({},t,e)})},[])]}var oZ,o$,oq,o0,o1=l.useLayoutEffect,o2=new Map,o9=function(e){o1(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!o2.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',o2.set(t,n);var i=o0||r.nc;i&&n.setAttribute("nonce",i),t.head.appendChild(n)}},[])},o3=function(e){var t=e.className,r=e.colorModel,n=e.color,i=void 0===n?r.defaultColor:n,o=e.onChange,a=oS(e,["className","colorModel","color","onChange"]),s=(0,l.useRef)(null);o9(s);var c=oX(r,i,o),u=c[0],d=c[1],h=oG(["react-colorful",t]);return l.createElement("div",oM({},a,{ref:s,className:h}),l.createElement(oY,{hsva:u,onChange:d}),l.createElement(oV,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},o8=function(e){var t=e.className,r=e.hsva,n=e.onChange,i={backgroundImage:"linear-gradient(90deg, "+oK(Object.assign({},r,{a:0}))+", "+oK(Object.assign({},r,{a:1}))+")"},o=oG(["react-colorful__alpha",t]),a=oj(100*r.a);return l.createElement("div",{className:o},l.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),l.createElement(oH,{onMove:function(e){n({a:e.left})},onKey:function(e){n({a:oF(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},l.createElement(oU,{className:"react-colorful__alpha-pointer",left:r.a,color:oK(r)})))},o6=function(e){var t=e.className,r=e.colorModel,n=e.color,i=void 0===n?r.defaultColor:n,o=e.onChange,a=oS(e,["className","colorModel","color","onChange"]),s=(0,l.useRef)(null);o9(s);var c=oX(r,i,o),u=c[0],d=c[1],h=oG(["react-colorful",t]);return l.createElement("div",oM({},a,{ref:s,className:h}),l.createElement(oY,{hsva:u,onChange:d}),l.createElement(oV,{hue:u.h,onChange:d}),l.createElement(o8,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},o4={defaultColor:{r:0,g:0,b:0,a:1},toHsva:oW,fromHsva:oz,equal:oQ},o5=function(e){return l.createElement(o6,oM({},e,{colorModel:o4}))},o7={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return oW({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){var t;return{r:(t=oz(e)).r,g:t.g,b:t.b}},equal:oQ},ae=function(e){return l.createElement(o3,oM({},e,{colorModel:o7}))},at=r(4404),ar=r.n(at);function an(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}function ai(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}"function"==typeof SuppressedError&&SuppressedError;var ao=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function aa(e,t){var r=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var r=t.split(".").pop().toLowerCase(),n=ao.get(r);n&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof r.path){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:"string"==typeof t?t:"string"==typeof n&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}var as=[".DS_Store","Thumbs.db"];function al(e){return"object"==typeof e&&null!==e}function ac(e){return e.filter(function(e){return -1===as.indexOf(e.name)})}function au(e){if(null===e)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function ad(e){if("function"!=typeof e.webkitGetAsEntry)return ah(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?ap(t):ah(e)}function ah(e){var t=e.getAsFile();return t?Promise.resolve(aa(t)):Promise.reject(e+" is not a File")}function af(e){return an(this,void 0,void 0,function(){return ai(this,function(t){return[2,e.isDirectory?ap(e):function(e){return an(this,void 0,void 0,function(){return ai(this,function(t){return[2,new Promise(function(t,r){e.file(function(r){t(aa(r,e.fullPath))},function(e){r(e)})})]})})}(e)]})})}function ap(e){var t=e.createReader();return new Promise(function(e,r){var n=[];!function i(){var o=this;t.readEntries(function(t){return an(o,void 0,void 0,function(){var o;return ai(this,function(a){switch(a.label){case 0:if(t.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return e(a.sent()),[3,4];case 3:return r(a.sent()),[3,4];case 4:return[3,6];case 5:o=Promise.all(t.map(af)),n.push(o),i(),a.label=6;case 6:return[2]}})})},function(e){r(e)})}()})}var am=r(5057);function ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ag(Object(r),!0).forEach(function(t){aA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ag(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var aE=function(e){var t=Array.isArray(e=Array.isArray(e)&&1===e.length?e[0]:e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},aC=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},aB=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},a_={code:"too-many-files",message:"Too many files"};function aw(e,t){var r="application/x-moz-file"===e.type||(0,am.Z)(e,t);return[r,r?null:aE(t)]}function ax(e,t,r){if(aT(e.size)){if(aT(t)&&aT(r)){if(e.size>r)return[!1,aC(r)];if(e.size<t)return[!1,aB(t)]}else if(aT(t)&&e.size<t)return[!1,aB(t)];else if(aT(r)&&e.size>r)return[!1,aC(r)]}return[!0,null]}function aT(e){return null!=e}function aO(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function aR(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function aM(e){e.preventDefault()}function aS(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return t.some(function(t){return!aO(e)&&t&&t.apply(void 0,[e].concat(n)),aO(e)})}}var aD=["children"],aF=["open"],aI=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],aP=["refKey","onChange","onClick"];function ak(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(e,t)||aL(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aL(e,t){if(e){if("string"==typeof e)return aH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aH(e,t)}}function aH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aG(Object(r),!0).forEach(function(t){aj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aN(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var aJ=(0,l.forwardRef)(function(e,t){var r=e.children,n=aW(aN(e,aD)),i=n.open,o=aN(n,aF);return(0,l.useImperativeHandle)(t,function(){return{open:i}},[i]),l.createElement(l.Fragment,null,r(aU(aU({},o),{},{open:i})))});aJ.displayName="Dropzone";var aK={disabled:!1,getFilesFromEvent:function(e){return an(this,void 0,void 0,function(){return ai(this,function(t){return al(e)&&al(e.dataTransfer)?[2,function(e,t){return an(this,void 0,void 0,function(){var r;return ai(this,function(n){switch(n.label){case 0:if(null===e)return[2,[]];if(!e.items)return[3,2];if(r=au(e.items).filter(function(e){return"file"===e.kind}),"drop"!==t)return[2,r];return[4,Promise.all(r.map(ad))];case 1:return[2,ac(function e(t){return t.reduce(function(t,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}(t,Array.isArray(r)?e(r):[r])},[])}(n.sent()))];case 2:return[2,ac(au(e.files).map(function(e){return aa(e)}))]}})})}(e.dataTransfer,e.type)]:al(e)&&al(e.target)?[2,au(e.target.files).map(function(e){return aa(e)})]:Array.isArray(e)&&e.every(function(e){return"getFile"in e&&"function"==typeof e.getFile})?[2,function(e){return an(this,void 0,void 0,function(){return ai(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return[2,t.sent().map(function(e){return aa(e)})]}})})}(e)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};aJ.defaultProps=aK,aJ.propTypes={children:ar().func,accept:ar().oneOfType([ar().string,ar().arrayOf(ar().string)]),multiple:ar().bool,preventDropOnDocument:ar().bool,noClick:ar().bool,noKeyboard:ar().bool,noDrag:ar().bool,noDragEventsBubbling:ar().bool,minSize:ar().number,maxSize:ar().number,maxFiles:ar().number,disabled:ar().bool,getFilesFromEvent:ar().func,onFileDialogCancel:ar().func,onFileDialogOpen:ar().func,useFsAccessApi:ar().bool,onDragEnter:ar().func,onDragLeave:ar().func,onDragOver:ar().func,onDrop:ar().func,onDropAccepted:ar().func,onDropRejected:ar().func,validator:ar().func};var az={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function aW(){var e,t,r,n,i,o,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=aU(aU({},aK),s),u=c.accept,d=c.disabled,h=c.getFilesFromEvent,f=c.maxSize,p=c.minSize,m=c.multiple,g=c.maxFiles,v=c.onDragEnter,A=c.onDragLeave,y=c.onDragOver,b=c.onDrop,E=c.onDropAccepted,C=c.onDropRejected,B=c.onFileDialogCancel,_=c.onFileDialogOpen,w=c.useFsAccessApi,x=c.preventDropOnDocument,T=c.noClick,O=c.noKeyboard,R=c.noDrag,M=c.noDragEventsBubbling,S=c.validator,D=(0,l.useMemo)(function(){return"function"==typeof _?_:aY},[_]),F=(0,l.useMemo)(function(){return"function"==typeof B?B:aY},[B]),I=(0,l.useRef)(null),P=(0,l.useRef)(null),k=ak((0,l.useReducer)(aV,az),2),L=k[0],H=k[1],G=L.isFocused,U=L.isFileDialogActive,j=L.draggedFiles,N=(0,l.useRef)(window.isSecureContext&&w&&"showOpenFilePicker"in window),J=function(){!N.current&&U&&setTimeout(function(){P.current&&!P.current.files.length&&(H({type:"closeDialog"}),F())},300)};(0,l.useEffect)(function(){return window.addEventListener("focus",J,!1),function(){window.removeEventListener("focus",J,!1)}},[P,U,F,N]);var K=(0,l.useRef)([]),z=function(e){I.current&&I.current.contains(e.target)||(e.preventDefault(),K.current=[])};(0,l.useEffect)(function(){return x&&(document.addEventListener("dragover",aM,!1),document.addEventListener("drop",z,!1)),function(){x&&(document.removeEventListener("dragover",aM),document.removeEventListener("drop",z))}},[I,x]);var W=(0,l.useCallback)(function(e){var t;e.preventDefault(),e.persist(),eo(e),K.current=[].concat(function(e){if(Array.isArray(e))return aH(e)}(t=K.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||aL(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),aR(e)&&Promise.resolve(h(e)).then(function(t){(!aO(e)||M)&&(H({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),v&&v(e))})},[h,v,M]),V=(0,l.useCallback)(function(e){e.preventDefault(),e.persist(),eo(e);var t=aR(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&y&&y(e),!1},[y,M]),Y=(0,l.useCallback)(function(e){e.preventDefault(),e.persist(),eo(e);var t=K.current.filter(function(e){return I.current&&I.current.contains(e)}),r=t.indexOf(e.target);-1!==r&&t.splice(r,1),K.current=t,!(t.length>0)&&(H({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),aR(e)&&A&&A(e))},[I,A,M]),Q=(0,l.useCallback)(function(e,t){var r=[],n=[];e.forEach(function(e){var t=ak(aw(e,u),2),i=t[0],o=t[1],a=ak(ax(e,p,f),2),s=a[0],l=a[1],c=S?S(e):null;if(i&&s&&!c)r.push(e);else{var d=[o,l];c&&(d=d.concat(c)),n.push({file:e,errors:d.filter(function(e){return e})})}}),(!m&&r.length>1||m&&g>=1&&r.length>g)&&(r.forEach(function(e){n.push({file:e,errors:[a_]})}),r.splice(0)),H({acceptedFiles:r,fileRejections:n,type:"setFiles"}),b&&b(r,n,t),n.length>0&&C&&C(n,t),r.length>0&&E&&E(r,t)},[H,m,u,p,f,g,b,E,C,S]),X=(0,l.useCallback)(function(e){e.preventDefault(),e.persist(),eo(e),K.current=[],aR(e)&&Promise.resolve(h(e)).then(function(t){(!aO(e)||M)&&Q(t,e)}),H({type:"reset"})},[h,Q,M]),Z=(0,l.useCallback)(function(){if(N.current){H({type:"openDialog"}),D();var e,t={multiple:m,types:[{description:"everything",accept:Array.isArray(e="string"==typeof(e=u)?e.split(","):e)?e.filter(function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return av(av({},e),{},aA({},t,[]))},{}):{}}]};window.showOpenFilePicker(t).then(function(e){return h(e)}).then(function(e){Q(e,null),H({type:"closeDialog"})}).catch(function(e){e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)?(F(e),H({type:"closeDialog"})):e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)&&(N.current=!1,P.current&&(P.current.value=null,P.current.click()))});return}P.current&&(H({type:"openDialog"}),D(),P.current.value=null,P.current.click())},[H,D,F,w,Q,u,m]),$=(0,l.useCallback)(function(e){I.current&&I.current.isEqualNode(e.target)&&(" "===e.key||"Enter"===e.key||32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),Z())},[I,Z]),q=(0,l.useCallback)(function(){H({type:"focus"})},[]),ee=(0,l.useCallback)(function(){H({type:"blur"})},[]),et=(0,l.useCallback)(function(){T||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?setTimeout(Z,0):Z())},[T,Z]),er=function(e){return d?null:e},en=function(e){return O?null:er(e)},ei=function(e){return R?null:er(e)},eo=function(e){M&&e.stopPropagation()},ea=(0,l.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.role,n=e.onKeyDown,i=e.onFocus,o=e.onBlur,a=e.onClick,s=e.onDragEnter,l=e.onDragOver,c=e.onDragLeave,u=e.onDrop,h=aN(e,aI);return aU(aU(aj({onKeyDown:en(aS(n,$)),onFocus:en(aS(i,q)),onBlur:en(aS(o,ee)),onClick:er(aS(a,et)),onDragEnter:ei(aS(s,W)),onDragOver:ei(aS(l,V)),onDragLeave:ei(aS(c,Y)),onDrop:ei(aS(u,X)),role:"string"==typeof r&&""!==r?r:"button"},void 0===t?"ref":t,I),d||O?{}:{tabIndex:0}),h)}},[I,$,q,ee,et,W,V,Y,X,O,R,d]),es=(0,l.useCallback)(function(e){e.stopPropagation()},[]),el=(0,l.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.onChange,n=e.onClick,i=aN(e,aP);return aU(aU({},aj({accept:u,multiple:m,type:"file",style:{display:"none"},onChange:er(aS(r,X)),onClick:er(aS(n,es)),tabIndex:-1},void 0===t?"ref":t,P)),i)}},[P,u,m,X,d]),ec=j.length,eu=ec>0&&(t=(e={files:j,accept:u,minSize:p,maxSize:f,multiple:m,maxFiles:g}).files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,(!!o||!(t.length>1))&&(!o||!(a>=1)||!(t.length>a))&&t.every(function(e){var t=ay(aw(e,r),1)[0],o=ay(ax(e,n,i),1)[0];return t&&o}));return aU(aU({},L),{},{isDragAccept:eu,isDragReject:ec>0&&!eu,isFocused:G&&!d,getRootProps:ea,getInputProps:el,rootRef:I,inputRef:P,open:er(Z)})}function aV(e,t){switch(t.type){case"focus":return aU(aU({},e),{},{isFocused:!0});case"blur":return aU(aU({},e),{},{isFocused:!1});case"openDialog":return aU(aU({},az),{},{isFileDialogActive:!0});case"closeDialog":return aU(aU({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var r=t.isDragActive,n=t.draggedFiles;return aU(aU({},e),{},{draggedFiles:n,isDragActive:r});case"setFiles":return aU(aU({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return aU({},az);default:return e}}function aY(){}let aQ=!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?l.useEffect:l.useLayoutEffect;Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let aX=e=>(t,r,n)=>{let i=n.subscribe;return n.subscribe=(e,t,r)=>{let o=e;if(t){let i=(null==r?void 0:r.equalityFn)||Object.is,a=e(n.getState());o=r=>{let n=e(r);if(!i(a,n)){let e=a;t(a=n,e)}},(null==r?void 0:r.fireImmediately)&&t(a,a)}return i(o)},e(t,r,n)};Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var aZ=r(2053),a$=r.n(aZ);let aq=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(".")};function a0(e,t){return(0,l.useMemo)(e,function(e,t){let r=(0,l.useRef)();return(t?b:E)(e,r.current)||(r.current=e),r.current}(t,!0))}let a1=e=>{let[t,r]=(0,l.useState)(e.getVisiblePaths());return(0,l.useEffect)(()=>{r(e.getVisiblePaths());let t=e.useStore.subscribe(e.getVisiblePaths,r,{equalityFn:E});return()=>t()},[e]),t};function a2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=(0,l.useRef)(null),r=(0,l.useRef)(null),[n,i]=(0,l.useState)(!1),o=(0,l.useCallback)(()=>i(!0),[]),a=(0,l.useCallback)(()=>i(!1),[]);return(0,l.useLayoutEffect)(()=>{if(n){let{bottom:n,top:i,left:o}=t.current.getBoundingClientRect(),{height:a}=r.current.getBoundingClientRect(),s=n+a>window.innerHeight-40?"up":"down";r.current.style.position="fixed",r.current.style.zIndex="10000",r.current.style.left=o+"px","down"===s?r.current.style.top=n+e+"px":r.current.style.bottom=window.innerHeight-i+e+"px"}},[e,n]),{popinRef:t,wrapperRef:r,shown:n,show:o,hide:a}}!function(e){e.forEach(function(e){0>oR.indexOf(e)&&(e(oT,oE),oR.push(e))})}([function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var o={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,a=n[this.toHex()];if(a)return a;if(null==t?void 0:t.closest){var s=this.toRgb(),l=1/0,c="black";if(!o.length)for(var u in r)o[u]=new e(r[u]).toRgb();for(var d in r){var h=(i=o[d],Math.pow(s.r-i.r,2)+Math.pow(s.g-i.g,2)+Math.pow(s.b-i.b,2));h<l&&(l=h,c=d)}return c}},t.string.push([function(t){var n=t.toLowerCase(),i="transparent"===n?"#0000":r[n];return i?new e(i).toRgb():null},"name"])}]);let a9={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};function a3(e,t){let{format:r,hasAlpha:n,isString:i}=t,o=e[a9[r]+(i&&"hex"!==r?"String":"")]();return"object"!=typeof o||n?o:function(e,t){let r=ns({},e);return t.forEach(t=>t in e&&delete r[t]),r}(o,["a"])}R.extend({color:()=>e=>oO(e).isValid()});let a8=(e,t)=>{let r=oO(e);if(!r.isValid())throw Error("Invalid color");return a3(r,t)};var a6=Object.freeze({__proto__:null,schema:e=>R().color().test(e),sanitize:a8,format:(e,t)=>a3(oO(e),ns(ns({},t),{},{isString:!0,format:"hex"})),normalize:e=>{let{value:t}=e,r=oB(t)[1],n="object"==typeof t?"a"in t:"hex"===r&&8===t.length||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:"name"===r?"hex":r,hasAlpha:n,isString:"string"==typeof t};return{value:a8(t,i),settings:i}}});let a4=nV("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),a5=nV("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),a7=nV("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function se(e,t){return"rgb"!==t?oO(e).toRgb():e}function st(e){let{value:t,displayValue:r,settings:n,onUpdate:i}=e,{emitOnEditStart:o,emitOnEditEnd:a}=nG(),{format:s,hasAlpha:c}=n,{popinRef:u,wrapperRef:d,shown:h,show:f,hide:p}=a2(),m=(0,l.useRef)(0),[g,v]=(0,l.useState)(()=>se(t,s)),A=()=>{v(se(t,s)),f(),o()},y=()=>{p(),a(),window.clearTimeout(m.current)},b=()=>{m.current=window.setTimeout(y,500)};return(0,l.useEffect)(()=>()=>window.clearTimeout(m.current),[]),l.createElement(l.Fragment,null,l.createElement(a4,{ref:u,active:h,onClick:()=>A(),style:{color:r}}),h&&l.createElement(ih,null,l.createElement(ic,{onPointerUp:y}),l.createElement(a7,{ref:d,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:e=>0===e.buttons&&b()},l.createElement(c?o5:ae,{color:g,onChange:i}))))}var sr=ns({component:function(){let{value:e,displayValue:t,label:r,onChange:n,onUpdate:i,settings:o}=nG();return l.createElement(iC,{input:!0},l.createElement(iv,null,r),l.createElement(a5,null,l.createElement(st,{value:e,displayValue:t,onChange:n,onUpdate:i,settings:o}),l.createElement(n6,{value:t,onChange:n,onUpdate:i})))}},a6),sn=ns({component:function(){let{label:e,displayValue:t,onUpdate:r,settings:n}=nG();return l.createElement(iC,{input:!0},l.createElement(iv,null,e),l.createElement(i9,{value:t,settings:n,onUpdate:r}))}},ot(["x","y","z"]));let si=nV("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),so=nV("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function sa(e){let{value:t,settings:r,onUpdate:n}=e,i=(0,l.useRef)(),o=(0,l.useRef)(0),a=(0,l.useRef)(0),s=(0,l.useRef)(1),[c,u]=(0,l.useState)(!1),[d,h]=(0,l.useState)(!1),[f,p]=iw(),m=(0,l.useRef)(null),g=(0,l.useRef)(null);(0,l.useLayoutEffect)(()=>{if(c){let{top:e,left:t,width:r,height:n}=m.current.getBoundingClientRect();g.current.style.left=t+r/2+"px",g.current.style.top=e+n/2+"px"}},[c]);let{keys:[v,A],joystick:y}=r,b="invertY"===y?1:-1,{[v]:{step:E},[A]:{step:C}}=r,B=nq("sizes","joystickWidth"),_=nq("sizes","joystickHeight"),w=.8*parseFloat(B)/2,x=.8*parseFloat(_)/2,T=(0,l.useCallback)(()=>{i.current||(h(!0),o.current&&p({x:o.current*w}),a.current&&p({y:-(a.current*x)}),i.current=window.setInterval(()=>{n(e=>{let t=E*o.current*s.current,r=b*C*a.current*s.current;return Array.isArray(e)?{[v]:e[0]+t,[A]:e[1]+r}:{[v]:e[v]+t,[A]:e[A]+r}})},16))},[w,x,n,p,E,C,v,A,b]),O=(0,l.useCallback)(()=>{window.clearTimeout(i.current),i.current=void 0,h(!1)},[]);(0,l.useEffect)(()=>{function e(e){s.current=nM(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}},[]);let R=i_(e=>{let{first:r,active:i,delta:[l,c],movement:[d,h]}=e;r&&u(!0);let f=nl(d,-w,w),m=nl(h,-x,x);o.current=Math.abs(d)>Math.abs(f)?Math.sign(d-f):0,a.current=Math.abs(h)>Math.abs(m)?Math.sign(m-h):0;let g=t[v],y=t[A];i?(o.current||(g+=l*E*s.current,p({x:f})),a.current||(y-=b*c*C*s.current,p({y:m})),o.current||a.current?T():O(),n({[v]:g,[A]:y})):(u(!1),o.current=0,a.current=0,p({x:0,y:0}),O())});return l.createElement(si,nL({ref:m},R()),c&&l.createElement(ih,null,l.createElement(so,{ref:g,isOutOfBounds:d},l.createElement("div",null),l.createElement("span",{ref:f}))))}let ss=nV("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),sl=["joystick"],sc=ot(["x","y"]);var su=ns(ns({component:function(){let{label:e,displayValue:t,onUpdate:r,settings:n}=nG();return l.createElement(iC,{input:!0},l.createElement(iv,null,e),l.createElement(ss,{withJoystick:!!n.joystick},n.joystick&&l.createElement(sa,{value:t,settings:n,onUpdate:r}),l.createElement(i9,{value:t,settings:n,onUpdate:r})))}},sc),{},{normalize:e=>{let{joystick:t=!0}=e,r=r2(e,sl),{value:n,settings:i}=sc.normalize(r);return{value:n,settings:ns(ns({},i),{},{joystick:t})}}}),sd=Object.freeze({__proto__:null,sanitize:e=>{if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(e){return}if("string"==typeof e&&0===e.indexOf("blob:"))return e;throw Error("Invalid image format [undefined | blob |\xa0File].")}},schema:(e,t)=>"object"==typeof t&&"image"in t,normalize:e=>{let{image:t}=e;return{value:t}}});let sh=nV("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),sf=nV("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),sp=nV("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),sm=nV("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),sg=nV("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),sv=nV("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var sA=ns({component:function(){let{label:e,value:t,onUpdate:r,disabled:n}=nG(),{popinRef:i,wrapperRef:o,shown:a,show:s,hide:c}=a2(),u=(0,l.useCallback)(e=>{e.length&&r(e[0])},[r]),d=(0,l.useCallback)(e=>{e.stopPropagation(),r(void 0)},[r]),{getRootProps:h,getInputProps:f,isDragAccept:p}=aW({maxFiles:1,accept:"image/*",onDrop:u,disabled:n});return l.createElement(iC,{input:!0},l.createElement(iv,null,e),l.createElement(sh,null,l.createElement(sp,{ref:i,hasImage:!!t,onPointerDown:()=>!!t&&s(),onPointerUp:c,style:{backgroundImage:t?"url(".concat(t,")"):"none"}}),a&&!!t&&l.createElement(ih,null,l.createElement(ic,{onPointerUp:c,style:{cursor:"pointer"}}),l.createElement(sm,{ref:o,style:{backgroundImage:"url(".concat(t,")")}})),l.createElement(sf,h({isDragAccept:p}),l.createElement("input",f()),l.createElement(sg,null,p?"drop image":"click or drop")),l.createElement(sv,{onClick:d,disabled:!t})))}},sd);let sy=R().number(),sb=e=>({min:e[0],max:e[1]}),sE=(e,t,r)=>{let{bounds:[n,i]}=t,o=Array.isArray(e)?sb(e):e,{min:a,max:s}=ns(ns({},{min:r[0],max:r[1]}),o);return[nl(Number(a),n,Math.max(n,s)),nl(Number(s),Math.min(i,a),i)]};var sC=Object.freeze({__proto__:null,schema:(e,t)=>R().array().length(2).every.number().test(e)&&R().schema({min:sy,max:sy}).test(t),format:sb,sanitize:sE,normalize:e=>{let{value:t,min:r,max:n}=e,i={min:r,max:n},o=ns(ns({},i3(sb(t),{min:i,max:i})),{},{bounds:[r,n]});return{value:sE(sb(t),o,t),settings:o}}});let sB=["value","bounds","onDrag"],s_=["bounds"],sw=nV("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function sx(e){let{value:t,bounds:[r,n],onDrag:i}=e,o=r2(e,sB),a=(0,l.useRef)(null),s=(0,l.useRef)(null),c=(0,l.useRef)(null),u=(0,l.useRef)(0),d=nq("sizes","scrubberWidth"),h=i_(e=>{let{event:l,first:h,xy:[f],movement:[p],memo:m={}}=e;if(h){let{width:e,left:i}=a.current.getBoundingClientRect();u.current=e-parseFloat(d);let o=(null==l?void 0:l.target)===s.current||(null==l?void 0:l.target)===c.current;m.pos=nf((f-i)/e,r,n);let h=Math.abs(m.pos-t.min)-Math.abs(m.pos-t.max);m.key=h<0||0===h&&m.pos<=t.min?"min":"max",o&&(m.pos=t[m.key])}let g=m.pos+nf(p/u.current,0,n-r);return i({[m.key]:ik(g,o[m.key])}),m}),f="calc(".concat(nh(t.min,r,n)," * (100% - ").concat(d," - 8px) + 4px)"),p="calc(".concat(1-nh(t.max,r,n)," * (100% - ").concat(d," - 8px) + 4px)");return l.createElement(iS,nL({ref:a},h()),l.createElement(iR,null,l.createElement(iD,{style:{left:f,right:p}})),l.createElement(iM,{position:"left",ref:s,style:{left:f}}),l.createElement(iM,{position:"right",ref:c,style:{right:p}}))}var sT=ns({component:function(){let{label:e,displayValue:t,onUpdate:r,settings:n}=nG(),i=r2(n,s_);return l.createElement(l.Fragment,null,l.createElement(iC,{input:!0},l.createElement(iv,null,e),l.createElement(sw,null,l.createElement(sx,nL({value:t},n,{onDrag:r})),l.createElement(i9,{value:t,settings:i,onUpdate:r,innerLabelTrim:0}))))}},sC);let sO=()=>{let e=new Map;return{on:(t,r)=>{let n=e.get(t);void 0===n&&(n=new Set,e.set(t,n)),n.add(r)},off:(t,r)=>{let n=e.get(t);void 0!==n&&(n.delete(r),0===n.size&&e.delete(t))},emit:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];let o=e.get(t);if(void 0!==o)for(let e of o)e(...n)}}},sR=["type","value"],sM=["onChange","transient","onEditStart","onEditEnd"],sS=new function(){let e=function(e){let t="function"==typeof e?function(e){let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=n?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=n(t);function s(){let r=n(t);if(!o(a,r)){let t=a;e(a=r,t)}}return r.add(s),()=>r.delete(s)},a={setState:n,getState:i,subscribe:(e,t,n)=>t||n?o(e,t,n):(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(n,i,a),a}(e):e,r=function(){let e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,i]=(0,l.useReducer)(e=>e+1,0),o=t.getState(),a=(0,l.useRef)(o),s=(0,l.useRef)(r),c=(0,l.useRef)(n),u=(0,l.useRef)(!1),d=(0,l.useRef)();void 0===d.current&&(d.current=r(o));let h=!1;(a.current!==o||s.current!==r||c.current!==n||u.current)&&(e=r(o),h=!n(d.current,e)),aQ(()=>{h&&(d.current=e),a.current=o,s.current=r,c.current=n,u.current=!1});let f=(0,l.useRef)(o);aQ(()=>{let e=()=>{try{let e=t.getState(),r=s.current(e);c.current(d.current,r)||(a.current=e,d.current=r,i())}catch(e){u.current=!0,i()}},r=t.subscribe(e);return t.getState()!==f.current&&e(),r},[]);let p=h?e:d.current;return(0,l.useDebugValue)(p),p};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[r,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},r}(aX(()=>({data:{}}))),t=sO();this.storeId=np(),this.useStore=e;let r={},n=new Set;this.getVisiblePaths=()=>{let e=this.getData(),t=Object.keys(e),i=[];Object.entries(r).forEach(e=>{let[r,n]=e;n.render&&t.some(e=>0===e.indexOf(r))&&!n.render(this.get)&&i.push(r+".")});let o=[];return n.forEach(t=>{t in e&&e[t].__refCount>0&&i.every(e=>-1===t.indexOf(e))&&(!e[t].render||e[t].render(this.get))&&o.push(t)}),o},this.setOrderedPaths=e=>{e.forEach(e=>n.add(e))},this.orderPaths=e=>(this.setOrderedPaths(e),e),this.disposePaths=t=>{e.setState(e=>{let r=e.data;return t.forEach(e=>{if(e in r){let t=r[e];t.__refCount--,0===t.__refCount&&t.type in o&&delete r[e]}}),{data:r}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=e=>r[e]||{},this.getData=()=>e.getState().data,this.addData=(t,r)=>{e.setState(e=>{let n=e.data;return Object.entries(t).forEach(e=>{let[t,o]=e,a=n[t];if(a){let{type:e,value:t}=o,n=r2(o,sR);e!==a.type?r8(i.INPUT_TYPE_OVERRIDE,e):((0===a.__refCount||r)&&Object.assign(a,n),a.__refCount++)}else n[t]=ns(ns({},o),{},{__refCount:1})}),{data:n}})},this.setValueAtPath=(t,r,n)=>{e.setState(e=>{let i=e.data;return nx(i[t],r,t,this,n),{data:i}})},this.setSettingsAtPath=(t,r)=>{e.setState(e=>{let n=e.data;return n[t].settings=ns(ns({},n[t].settings),r),{data:n}})},this.disableInputAtPath=(t,r)=>{e.setState(e=>{let n=e.data;return n[t].disabled=r,{data:n}})},this.set=(t,r)=>{e.setState(e=>{let n=e.data;return Object.entries(t).forEach(e=>{let[t,i]=e;try{nx(n[t],i,void 0,void 0,r)}catch(e){}}),{data:n}})},this.getInput=e=>{try{return this.getData()[e]}catch(t){r8(i.PATH_DOESNT_EXIST,e)}},this.get=e=>{var t;return null===(t=this.getInput(e))||void 0===t?void 0:t.value},this.emitOnEditStart=e=>{t.emit("onEditStart:".concat(e),this.get(e),e,ns(ns({},this.getInput(e)),{},{get:this.get}))},this.emitOnEditEnd=e=>{t.emit("onEditEnd:".concat(e),this.get(e),e,ns(ns({},this.getInput(e)),{},{get:this.get}))},this.subscribeToEditStart=(e,r)=>{let n="onEditStart:".concat(e);return t.on(n,r),()=>t.off(n,r)},this.subscribeToEditEnd=(e,r)=>{let n="onEditEnd:".concat(e);return t.on(n,r),()=>t.off(n,r)};let a=(e,t,n)=>{let s={};return Object.entries(e).forEach(e=>{let[l,c]=e;if(""===l)return r8(i.EMPTY_KEY);let u=aq(t,l);if(c.type===o.FOLDER)Object.assign(s,a(c.schema,u,n)),u in r||(r[u]=c.settings);else if(l in n)r8(i.DUPLICATE_KEYS,l,u,n[l].path);else{let e=function(e,t,r,n){let i=function e(t,r){var n,i;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if("object"!=typeof t||Array.isArray(t))return{type:s,input:t,options:ns({key:r,label:r,optional:!1,disabled:!1,order:0},a)};if("__customInput"in t){let{type:n,__customInput:i}=t;return e(i,r,r2(t,nB),n)}let{render:l,label:c,optional:u,order:d=0,disabled:h,hint:f,onChange:p,onEditStart:m,onEditEnd:g,transient:v}=t,A=r2(t,n_),y=ns({render:l,key:r,label:null!=c?c:r,hint:f,transient:null!=v?v:!!p,onEditStart:m,onEditEnd:g,disabled:h,optional:u,order:d},a),{type:b}=A,E=r2(A,nw);return(b=null!=s?s:b)in o?{type:b,input:E,options:y}:{type:b,input:s&&nE(E)&&"value"in E?E.value:nC(E)?void 0:E,options:ns(ns({},y),{},{onChange:p,optional:null!==(n=y.optional)&&void 0!==n&&n,disabled:null!==(i=y.disabled)&&void 0!==i&&i})}}(e,t),{type:a,input:s,options:l}=i;if(a)return a in o?i:{type:a,input:ni(a,s,r,n),options:l};let c=nr(s);return c?{type:c,input:ni(c,s,r,n),options:l}:!!(c=nr({value:s}))&&{type:c,input:ni(c,{value:s},r,n),options:l}}(c,l,u,s);if(e){let{type:t,options:r,input:i}=e,{onChange:o,transient:a,onEditStart:c,onEditEnd:d}=r,h=r2(r,sM);s[u]=ns(ns(ns({type:t},h),i),{},{fromPanel:!0}),n[l]={path:u,onChange:o,transient:a,onEditStart:c,onEditEnd:d}}else r8(i.UNKNOWN_INPUT,u,c)}}),s};this.getDataFromSchema=e=>{let t={};return[a(e,"",t),t]}},sD={collapsed:!1},sF={disabled:!1};function sI(e,t){return{type:o.BUTTON,onClick:e,settings:ns(ns({},sF),t)}}let sP=e=>"__levaInput"in e,sk=(e,t)=>{let r={},n=t?t.toLowerCase():null;return e.forEach(e=>{let[t,i]=function(e){let t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e);(!n||t.toLowerCase().indexOf(n)>-1)&&a$()(r,i,{[t]:{__levaInput:!0,path:e}})}),r},sL=["type","label","path","valueKey","value","settings","setValue","disabled"];function sH(e){let{type:t,label:r,path:n,valueKey:o,value:a,settings:s,setValue:c,disabled:u}=e,d=r2(e,sL),{displayValue:h,onChange:f,onUpdate:p}=iB({type:t,value:a,settings:s,setValue:c}),m=nt[t].component;return m?l.createElement(nH.Provider,{value:ns({key:o,path:n,id:""+n,label:r,displayValue:h,value:a,onChange:f,onUpdate:p,settings:s,setValue:c,disabled:u},d)},l.createElement(il,{disabled:u},l.createElement(m,null))):(r8(i.NO_COMPONENT_FOR_TYPE,t,n),null)}let sG=nV("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),sU=nV("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),sj=nV("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),sN=e=>{let{label:t,opts:r}=e,n="string"==typeof t&&""===t.trim()?null:t,i=r;return"object"==typeof r.opts&&(void 0!==i.label&&(n=r.label),i=r.opts),{label:n,opts:i}},sJ=nV("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),sK=(0,l.forwardRef)(function(e,t){let{initialValue:r}=e,n=nq("colors","highlight3"),i=nq("colors","elevation2"),o=nq("colors","highlight1"),[a,s]=(0,l.useMemo)(()=>[oO(o).alpha(.4).toRgbString(),oO(o).alpha(.1).toRgbString()],[o]),c=(0,l.useRef)([r]),u=(0,l.useRef)(r),d=(0,l.useRef)(r),h=(0,l.useRef)(),f=(0,l.useCallback)((e,t)=>{if(!e)return;let{width:r,height:o}=e,l=new Path2D,h=r/100,f=.05*o;for(let e=0;e<c.current.length;e++){let t=nh(c.current[e],u.current,d.current),r=h*e,n=o-t*(o-2*f)-f;l.lineTo(r,n)}t.clearRect(0,0,r,o);let p=new Path2D(l);p.lineTo(h*(c.current.length+1),o),p.lineTo(0,o),p.lineTo(0,0);let m=t.createLinearGradient(0,0,0,o);m.addColorStop(0,a),m.addColorStop(1,s),t.fillStyle=m,t.fill(p),t.strokeStyle=i,t.lineJoin="round",t.lineWidth=14,t.stroke(l),t.strokeStyle=n,t.lineWidth=2,t.stroke(l)},[n,i,a,s]),[p,m]=function(e){let t=(0,l.useRef)(null),r=(0,l.useRef)(null),n=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{let i=nR(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,r.current)},250);return window.addEventListener("resize",i),n.current||(i(),n.current=!0),()=>window.removeEventListener("resize",i)},[e]),(0,l.useEffect)(()=>{r.current=t.current.getContext("2d")},[]),[t,r]}(f);return(0,l.useImperativeHandle)(t,()=>({frame:e=>{var t;(void 0===u.current||e<u.current)&&(u.current=e),(void 0===d.current||e>d.current)&&(d.current=e),(t=c.current).push(e),t.length>100&&t.shift(),h.current=requestAnimationFrame(()=>f(p.current,m.current))}}),[p,m,f]),(0,l.useEffect)(()=>()=>cancelAnimationFrame(h.current),[]),l.createElement(sJ,{ref:p})}),sz=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),sW=(0,l.forwardRef)(function(e,t){let{initialValue:r}=e,[n,i]=(0,l.useState)(sz(r));return(0,l.useImperativeHandle)(t,()=>({frame:e=>i(sz(e))}),[]),l.createElement("div",null,n)});function sV(e){return"function"==typeof e?e():e.current}let sY=["type","label","key"],sQ={[o.BUTTON]:function(e){let{onClick:t,settings:r,label:n}=e,i=nJ();return l.createElement(iC,null,l.createElement(sG,{disabled:r.disabled,onClick:()=>t(i.get)},n))},[o.BUTTON_GROUP]:function(e){let{label:t,opts:r}=sN(e),n=nJ();return l.createElement(iC,{input:!!t},t&&l.createElement(iv,null,t),l.createElement(sU,null,Object.entries(r).map(e=>{let[t,r]=e;return l.createElement(sj,{key:t,onClick:()=>r(n.get)},t)})))},[o.MONITOR]:function(e){let{label:t,objectOrFn:r,settings:n}=e,i=(0,l.useRef)(),o=(0,l.useRef)(sV(r));return(0,l.useEffect)(()=>{let e=window.setInterval(()=>{var e;document.hidden||null===(e=i.current)||void 0===e||e.frame(sV(r))},n.interval);return()=>window.clearInterval(e)},[r,n.interval]),l.createElement(iC,{input:!0},l.createElement(iv,{align:"top"},t),n.graph?l.createElement(sK,{ref:i,initialValue:o.current}):l.createElement(sW,{ref:i,initialValue:o.current}))}},sX=l.memo(e=>{let{path:t}=e,[r,{set:n,setSettings:a,disable:s,storeId:c,emitOnEditStart:u,emitOnEditEnd:d}]=function(e){let t=nJ(),[r,n]=(0,l.useState)(iT(t.getData(),e)),i=(0,l.useCallback)(r=>t.setValueAtPath(e,r,!0),[e,t]),o=(0,l.useCallback)(r=>t.setSettingsAtPath(e,r),[e,t]),a=(0,l.useCallback)(r=>t.disableInputAtPath(e,r),[e,t]),s=(0,l.useCallback)(()=>t.emitOnEditStart(e),[e,t]),c=(0,l.useCallback)(()=>t.emitOnEditEnd(e),[e,t]);return(0,l.useEffect)(()=>{n(iT(t.getData(),e));let r=t.useStore.subscribe(t=>iT(t.data,e),n,{equalityFn:E});return()=>r()},[t,e]),[r,{set:i,setSettings:o,disable:a,storeId:t.storeId,emitOnEditStart:s,emitOnEditEnd:c}]}(t);if(!r)return null;let{type:h,label:f,key:p}=r,m=r2(r,sY);if(h in o){let e=sQ[h];return l.createElement(e,nL({label:f,path:t},m))}return h in nt?l.createElement(sH,nL({key:c+t,type:h,label:f,storeId:c,path:t,valueKey:p,setValue:n,setSettings:a,disable:s,emitOnEditStart:u,emitOnEditEnd:d},m)):(r6(i.UNSUPPORTED_INPUT,h,t),null)});function sZ(e){let{toggle:t,toggled:r,name:n}=e;return l.createElement(ie,{onClick:()=>t()},l.createElement(ib,{toggled:r}),l.createElement("div",null,n))}let s$=e=>{let{name:t,path:r,tree:n}=e,i=nJ(),o=aq(r,t),{collapsed:a,color:s}=i.getFolderSettings(o),[c,u]=(0,l.useState)(!a),d=(0,l.useRef)(null),h=nq("colors","folderWidgetColor"),f=nq("colors","folderTextColor");return(0,l.useLayoutEffect)(()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",s||h),d.current.style.setProperty("--leva-colors-folderTextColor",s||f)},[s,h,f]),l.createElement(n5,{ref:d},l.createElement(sZ,{name:t,toggled:c,toggle:()=>u(e=>!e)}),l.createElement(sq,{parent:o,tree:n,toggled:c}))},sq=l.memo(e=>{let{isRoot:t=!1,fill:r=!1,flat:n=!1,parent:i,tree:o,toggled:a}=e,{wrapperRef:s,contentRef:c}=function(e){let t=(0,l.useRef)(null),r=(0,l.useRef)(null),n=(0,l.useRef)(!0);return(0,l.useLayoutEffect)(()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")},[]),(0,l.useEffect)(()=>{let i;if(n.current){n.current=!1;return}let o=t.current,a=()=>{e&&(o.style.removeProperty("height"),o.style.removeProperty("overflow"),r.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};o.addEventListener("transitionend",a,{once:!0});let{height:s}=r.current.getBoundingClientRect();return o.style.height=s+"px",e||(o.style.overflow="hidden",i=window.setTimeout(()=>o.style.height="0px",50)),()=>{o.removeEventListener("transitionend",a),clearTimeout(i)}},[e]),{wrapperRef:t,contentRef:r}}(a),u=nJ(),d=e=>{var t;let[r,n]=e;return(sP(n)?null===(t=u.getInput(n.path))||void 0===t?void 0:t.order:u.getFolderSettings(aq(i,r)).order)||0},h=Object.entries(o).sort((e,t)=>d(e)-d(t));return l.createElement(n7,{ref:s,isRoot:t,fill:r,flat:n},l.createElement(it,{ref:c,isRoot:t,toggled:a},h.map(e=>{let[t,r]=e;return sP(r)?l.createElement(sX,{key:r.path,valueKey:r.valueKey,path:r.path}):l.createElement(s$,{key:t,name:t,path:i,tree:r})})))}),s0=nV("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{["".concat(ii)]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),s1=nV("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),s2=nV("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),s9=nV("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",["> ".concat(s1)]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),s3=nV("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),s8=nV("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),s6=l.forwardRef((e,t)=>{let{setFilter:r,toggle:n}=e,[i,o]=(0,l.useState)(""),a=(0,l.useMemo)(()=>nR(r,250),[r]),s=()=>{r(""),o("")};return(0,l.useEffect)(()=>{a(i)},[i,a]),l.createElement(l.Fragment,null,l.createElement(s3,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:e=>e.stopPropagation(),onChange:e=>{let t=e.currentTarget.value;n(!0),o(t)}}),l.createElement(s1,{onClick:()=>s(),style:{visibility:i?"visible":"hidden"}},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function s4(e){let{setFilter:t,onDrag:r,onDragStart:n,onDragEnd:i,toggle:o,toggled:a,title:s,drag:c,filterEnabled:u,from:d}=e,[h,f]=(0,l.useState)(!1),p=(0,l.useRef)(null);(0,l.useEffect)(()=>{var e,t;h?null===(e=p.current)||void 0===e||e.focus():null===(t=p.current)||void 0===t||t.blur()},[h]);let m=i_(e=>{let{offset:[t,o],first:a,last:s}=e;r({x:t,y:o}),a&&n({x:t,y:o}),s&&i({x:t,y:o})},{filterTaps:!0,from:e=>{let{offset:[t,r]}=e;return[(null==d?void 0:d.x)||t,(null==d?void 0:d.y)||r]}});return(0,l.useEffect)(()=>{let e=e=>{"L"===e.key&&e.shiftKey&&e.metaKey&&f(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),l.createElement(l.Fragment,null,l.createElement(s2,{mode:c?"drag":void 0},l.createElement(s1,{active:!a,onClick:()=>o()},l.createElement(ib,{toggled:a,width:12,height:8})),l.createElement(s8,nL({},c?m():{},{drag:c,filterEnabled:u}),void 0===s&&c?l.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},l.createElement("circle",{cx:"2",cy:"2",r:"2"}),l.createElement("circle",{cx:"14",cy:"2",r:"2"}),l.createElement("circle",{cx:"26",cy:"2",r:"2"}),l.createElement("circle",{cx:"2",cy:"12",r:"2"}),l.createElement("circle",{cx:"14",cy:"12",r:"2"}),l.createElement("circle",{cx:"26",cy:"12",r:"2"})):s),u&&l.createElement(s1,{active:h,onClick:()=>f(e=>!e)},l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},l.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),l.createElement(s9,{toggled:h},l.createElement(s6,{ref:p,setFilter:t,toggle:o})))}let s5=["store","hidden","theme","collapsed"];function s7(e){let{store:t,hidden:r=!1,theme:n,collapsed:i=!1}=e,o=r2(e,s5),a=a0(()=>(function(e){let t=nK();if(!e)return{theme:t,className:""};Object.keys(e).forEach(r=>{Object.assign(t[r],e[r])});let r=nQ(t);return{theme:t,className:r.className}})(n),[n]),[s,c]=(0,l.useState)(!i),u="object"==typeof i?!i.collapsed:s,d=(0,l.useMemo)(()=>"object"==typeof i?e=>{"function"==typeof e?i.onChange(!e(!i.collapsed)):i.onChange(!e)}:c,[i]);return!t||r?null:l.createElement(nU.Provider,{value:a},l.createElement(le,nL({store:t},o,{toggled:u,setToggle:d,rootClass:a.className})))}let le=l.memo(e=>{var t,r;let{store:n,rootClass:i,fill:o=!1,flat:a=!1,neverHide:s=!1,oneLineLabels:c=!1,titleBar:u={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:d=!1,toggled:h,setToggle:f}=e,p=a1(n),[m,g]=(0,l.useState)(""),v=(0,l.useMemo)(()=>sk(p,m),[p,m]),[A,y]=iw(),b=s||p.length>0,E="object"==typeof u&&u.title||void 0,C="object"!=typeof u||null===(t=u.drag)||void 0===t||t,B="object"!=typeof u||null===(r=u.filter)||void 0===r||r,_="object"==typeof u&&u.position||void 0,w="object"==typeof u&&u.onDrag||void 0,x="object"==typeof u&&u.onDragStart||void 0,T="object"==typeof u&&u.onDragEnd||void 0;return l.useEffect(()=>{y({x:null==_?void 0:_.x,y:null==_?void 0:_.y})},[_,y]),n$(),l.createElement(nN.Provider,{value:{hideCopyButton:d}},l.createElement(s0,{ref:A,className:i,fill:o,flat:a,oneLineLabels:c,hideTitleBar:!u,style:{display:b?"block":"none"}},u&&l.createElement(s4,{onDrag:e=>{y(e),null==w||w(e)},onDragStart:e=>null==x?void 0:x(e),onDragEnd:e=>null==T?void 0:T(e),setFilter:g,toggle:e=>f(t=>null!=e?e:!t),toggled:h,title:E,drag:C,filterEnabled:B,from:_}),b&&l.createElement(nj.Provider,{value:n},l.createElement(sq,{isRoot:!0,fill:o,flat:a,tree:v,toggled:h}))))}),lt=["isRoot"],lr=!1,ln=null;function li(e){let{isRoot:t=!1}=e,r=r2(e,lt);return(0,l.useEffect)(()=>(lr=!0,!t&&ln&&(ln.remove(),ln=null),()=>{t||(lr=!1)}),[t]),l.createElement(s7,nL({store:sS},r))}function lo(e,t,r,n,i){var a;let c,u,d,h,f;let{folderName:p,schema:m,folderSettings:g,hookSettings:v,deps:A}=("string"==typeof e?(f=e,c=t,Array.isArray(r)?h=r:r&&("store"in r?(d=r,h=n):(u=r,Array.isArray(n)?h=n:(d=n,h=i)))):(c=e,Array.isArray(t)?h=t:(d=t,h=r)),{schema:c,folderName:f,folderSettings:u,hookSettings:d,deps:h||[]}),y="function"==typeof m,b=(0,l.useRef)(!1),C=(0,l.useRef)(!0),B=a0(()=>{b.current=!0;let e="function"==typeof m?m():m;return p?{[p]:{type:o.FOLDER,schema:e,settings:ns(ns({},sD),g)}}:e},A);a=!(null!=v&&v.store),(0,l.useEffect)(()=>{a&&!lr&&(!ln&&(ln=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(ln),function(e,t){let r=console.error;console.error=()=>{},s.render(e,t),console.error=r}(l.createElement(li,{isRoot:!0}),ln))),lr=!0)},[a]);let[_]=(0,l.useState)(()=>(null==v?void 0:v.store)||sS),[w,x]=(0,l.useMemo)(()=>_.getDataFromSchema(B),[_,B]),[T,O,R,M,S]=(0,l.useMemo)(()=>{let e=[],t=[],r={},n={},i={};return Object.values(x).forEach(o=>{let{path:a,onChange:s,onEditStart:l,onEditEnd:c,transient:u}=o;e.push(a),s?(r[a]=s,u||t.push(a)):t.push(a),l&&(n[a]=l),c&&(i[a]=c)}),[e,t,r,n,i]},[x]),D=(0,l.useMemo)(()=>_.orderPaths(T),[T,_]),F=_.useStore(e=>{var t;return t=ns(ns({},w),e.data),Object.entries(O.reduce((e,r)=>(t&&t.hasOwnProperty(r)&&(e[r]=t[r]),e),{})).reduce((e,t)=>{let[,{value:r,disabled:n,key:i}]=t;return e[i]=n?void 0:r,e},{})},E),I=(0,l.useCallback)(e=>{let t=Object.entries(e).reduce((e,t)=>{let[r,n]=t;return Object.assign(e,{[x[r].path]:n})},{});_.set(t,!1)},[_,x]),P=(0,l.useCallback)(e=>_.get(x[e].path),[_,x]);return((0,l.useEffect)(()=>{let e=!C.current&&b.current;return _.addData(w,e),C.current=!1,b.current=!1,()=>_.disposePaths(D)},[_,D,w]),(0,l.useEffect)(()=>{let e=[];return Object.entries(R).forEach(t=>{let[r,n]=t;n(_.get(r),r,ns({initial:!0,get:_.get},_.getInput(r)));let i=_.useStore.subscribe(e=>{let t=e.data[r];return[t.disabled?void 0:t.value,t]},e=>{let[t,i]=e;return n(t,r,ns({initial:!1,get:_.get},i))},{equalityFn:E});e.push(i)}),()=>e.forEach(e=>e())},[_,R]),(0,l.useEffect)(()=>{let e=[];return Object.entries(M).forEach(t=>{let[r,n]=t;return e.push(_.subscribeToEditStart(r,n))}),Object.entries(S).forEach(t=>{let[r,n]=t;return e.push(_.subscribeToEditEnd(r,n))}),()=>e.forEach(e=>e())},[M,S,_]),y)?[F,I,P]:F}nn(a.SELECT,iJ),nn(a.IMAGE,sA),nn(a.NUMBER,iL),nn(a.COLOR,sr),nn(a.STRING,iY),nn(a.BOOLEAN,i$),nn(a.INTERVAL,sT),nn(a.VECTOR3D,sn),nn(a.VECTOR2D,su)},2053:function(e,t,r){var n=r(397),i=r(2190),o=r(2709),a=r(5872);e.exports=function(e,t,r){if(!n(e))throw TypeError("expected an object");if("string"!=typeof t||null==r)return i.apply(null,arguments);if("string"==typeof r)return a(e,t,r),e;var s=o(e,t);return n(r)&&n(s)&&(r=i({},s,r)),a(e,t,r),e}},2190:function(e,t,r){var n=r(397),i=r(3022);function o(e,t){for(var r=arguments.length,n=0;++n<r;){var o=arguments[n];s(o)&&i(o,a,e)}return e}function a(e,t){if("__proto__"!==t&&"constructor"!==t&&"prototype"!==t){var r=this[t];s(e)&&s(r)?o(r,e):this[t]=e}}function s(e){return n(e)&&!Array.isArray(e)}e.exports=o},9079:function(e,t,r){var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(3127)},3127:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var i=n(229);e.exports=i}()},8314:function(e,t,r){var n=r(1811);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},4404:function(e,t,r){e.exports=r(8314)()},1811:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8025:function(e,t){/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},7777:function(e,t,r){e.exports=r(8025)},4812:function(e,t,r){e.exports=r(5224)},1803:function(e,t){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,i=e[n];if(0<o(i,t))e[n]=t,e[r]=i,r=n;else break}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,i=e.length,a=i>>>1;n<a;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,r))c<i&&0>o(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else if(c<i&&0>o(u,r))e[n]=u,e[c]=r,n=c;else break}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a,s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],d=[],h=1,f=null,p=3,m=!1,g=!1,v=!1,A="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=n(d);null!==t;){if(null===t.callback)i(d);else if(t.startTime<=e)i(d),t.sortIndex=t.expirationTime,r(u,t);else break;t=n(d)}}function C(e){if(v=!1,E(e),!g){if(null!==n(u))g=!0,F(B);else{var t=n(d);null!==t&&I(C,t.startTime-e)}}}function B(e,r){g=!1,v&&(v=!1,y(x),x=-1),m=!0;var o=p;try{for(E(r),f=n(u);null!==f&&(!(f.expirationTime>r)||e&&!R());){var a=f.callback;if("function"==typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?f.callback=s:f===n(u)&&i(u),E(r)}else i(u);f=n(u)}if(null!==f)var l=!0;else{var c=n(d);null!==c&&I(C,c.startTime-r),l=!1}return l}finally{f=null,p=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _=!1,w=null,x=-1,T=5,O=-1;function R(){return!(t.unstable_now()-O<T)}function M(){if(null!==w){var e=t.unstable_now();O=e;var r=!0;try{r=w(!0,e)}finally{r?a():(_=!1,w=null)}}else _=!1}if("function"==typeof b)a=function(){b(M)};else if("undefined"!=typeof MessageChannel){var S=new MessageChannel,D=S.port2;S.port1.onmessage=M,a=function(){D.postMessage(null)}}else a=function(){A(M,0)};function F(e){w=e,_||(_=!0,a())}function I(e,r){x=A(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,F(B))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=o+s,e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s,sortIndex:-1},o>a?(e.sortIndex=o,r(d,e),null===n(u)&&e===n(d)&&(v?(y(x),x=-1):v=!0,I(C,o-a))):(e.sortIndex=s,r(u,e),g||m||(g=!0,F(B))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},9514:function(e,t,r){e.exports=r(1803)},5872:function(e,t,r){/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(6267),i=r(1389),o=r(9350),a=r(6203);function s(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}e.exports=function(e,t,r){if(!a(e)||(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t))return e;for(var l=n(t,{sep:".",brackets:!0}).filter(s),c=l.length,u=-1,d=e;++u<c;){var h=l[u];if(u!==c-1){a(d[h])||(d[h]={}),d=d[h];continue}o(d[h])&&o(r)?d[h]=i({},d[h],r):d[h]=r}return e}},6203:function(e){/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},6267:function(e,t,r){/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(6998);function i(e,t,r,n){var o=e.indexOf(t,r);return"\\"===e.charAt(o-1)?i(e,t,o+1):o}e.exports=function(e,t,r){if("string"!=typeof e)throw TypeError("expected a string");"function"==typeof t&&(r=t,t=null),"string"==typeof t&&(t={sep:t});var o,a,s=n({sep:"."},t),l=s.quotes||['"',"'","`"];!0===s.brackets?o={"<":">","(":")","[":"]","{":"}"}:s.brackets&&(o=s.brackets);var c=[],u=[],d=[""],h=s.sep,f=e.length,p=-1;function m(){if(o&&u.length)return o[u[u.length-1]]}for(;++p<f;){var g,v,A=e[p],y=e[p+1],b={val:A,idx:p,arr:d,str:e};if(c.push(b),"\\"===A){b.val=!0===(g=p,"function"==typeof s.keepEscaping?s.keepEscaping(e,g):!0===s.keepEscaping||"\\"===e[g+1])?A+y:y,b.escaped=!0,"function"==typeof r&&r(b),d[d.length-1]+=b.val,p++;continue}if(o&&o[A]){u.push(A);var E=m(),C=p+1;if(-1!==e.indexOf(E,C+1))for(;u.length&&C<f;){var B=e[++C];if("\\"===B){B++;continue}if(-1!==l.indexOf(B)){C=i(e,B,C+1);continue}if(E=m(),u.length&&-1===e.indexOf(E,C+1))break;if(o[B]){u.push(B);continue}E===B&&u.pop()}if(-1===(a=C)){d[d.length-1]+=A;continue}A=e.slice(p,a+1),b.val=A,b.idx=p=a}if(-1!==l.indexOf(A)){if(-1===(a=i(e,A,p+1))){d[d.length-1]+=A;continue}A=!0===(v=A,!0===s.keepDoubleQuotes&&'"'===v||!0===s.keepSingleQuotes&&"'"===v||s.keepQuotes)?e.slice(p,a+1):e.slice(p+1,a),b.val=A,b.idx=p=a}if("function"==typeof r&&(r(b,c),A=b.val,p=b.idx),b.val===h&&!1!==b.split){d.push("");continue}d[d.length-1]+=b.val}return d}},6998:function(e,t,r){var n=r(397),i=r(4478);function o(e){return e&&"object"==typeof e||n(e)}e.exports=Object.assign||function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");o(e)||(e={});for(var t=1;t<arguments.length;t++){var r,n=arguments[t];(r=n)&&"string"==typeof r&&(n=function(e){var t={};for(var r in e)t[r]=e[r];return t}(n)),o(n)&&(function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}(e,n),i(e,n))}return e}},699:function(e,t,r){/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(4090),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u=void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),a(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},220:function(e,t,r){/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(4090),i=r(2362),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=a(e,(d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(a=e,s=r)}var a,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},2362:function(e,t,r){e.exports=r(699)},9292:function(e,t,r){e.exports=r(220)},2110:function(e,t,r){r.d(t,{Z:function(){return n}});function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},5511:function(e,t,r){r.d(t,{Id:function(){return o},rO:function(){return i}});let n=Math.PI/180;function i(e,t){return e+Math.floor(Math.random()*(t-e+1))}function o(e){return e*n}},2020:function(e,t,r){r.d(t,{Ue:function(){return h}});let n=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=t=e(n,i,o);return o},i=e=>e?n(e):n;var o=r(4090),a=r(9292);let{useDebugValue:s}=o,{useSyncExternalStoreWithSelector:l}=a,c=!1,u=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?i(e):e,r=(e,r)=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=arguments.length>2?arguments[2]:void 0;r&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let n=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return s(n),n})(t,e,r);return Object.assign(r,t),r},h=e=>e?d(e):d}}]);