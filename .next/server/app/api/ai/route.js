"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/route";
exports.ids = ["app/api/ai/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_kunal_OneDrive_Desktop_test2_3D_English_Teacher_src_app_api_ai_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/ai/route.js */ \"(rsc)/./src/app/api/ai/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/route\",\n        pathname: \"/api/ai\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\kunal\\\\OneDrive\\\\Desktop\\\\test2\\\\3D-English-Teacher\\\\src\\\\app\\\\api\\\\ai\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_kunal_OneDrive_Desktop_test2_3D_English_Teacher_src_app_api_ai_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/ai/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhaSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNrdW5hbCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3Rlc3QyJTVDM0QtRW5nbGlzaC1UZWFjaGVyJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNrdW5hbCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3Rlc3QyJTVDM0QtRW5nbGlzaC1UZWFjaGVyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzJDO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8/OWFjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxrdW5hbFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHRlc3QyXFxcXDNELUVuZ2xpc2gtVGVhY2hlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9haVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxrdW5hbFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHRlc3QyXFxcXDNELUVuZ2xpc2gtVGVhY2hlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9haS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/ai/route.js":
/*!*********************************!*\
  !*** ./src/app/api/ai/route.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"(rsc)/./node_modules/cookie/dist/index.js\");\n/* harmony import */ var _user_storage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user/storage.js */ \"(rsc)/./src/app/api/user/storage.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env[\"GEMINI_API_KEY\"]);\nconst model = genAI.getGenerativeModel({\n    model: \"gemini-1.5-flash\"\n});\nasync function updateHistory(userId, historyEntry) {\n    const apiUrl = \"https://voice-chat-server-w8qu.onrender.com/updatehistory\"; // Replace with your server URL\n    const requestData = {\n        id: userId,\n        allHistorySummary: historyEntry\n    };\n    try {\n        const response = await fetch(apiUrl, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(requestData)\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            console.error(\"Error updating history:\", errorData.error);\n            alert(`Failed to update history: ${errorData.error}`);\n            return;\n        }\n        const updatedUser = await response.json();\n        console.log(\"History updated successfully:\", updatedUser);\n        alert(\"History updated successfully!\");\n    } catch (error) {\n        console.error(\"Error sending update request:\", error);\n        alert(\"An error occurred while updating history.\");\n    }\n}\nasync function GET(req) {\n    // Retrieve cookies\n    const cookies = (0,cookie__WEBPACK_IMPORTED_MODULE_1__.parse)(req.headers.get(\"cookie\") || \"\");\n    let conversationHistory = cookies.conversationHistory ? JSON.parse(cookies.conversationHistory) : [];\n    const question = req.nextUrl.searchParams.get(\"question\") || \"Start the conversation\";\n    const filePath = path__WEBPACK_IMPORTED_MODULE_4___default().join(process.cwd(), \"src\", \"app\", \"storage\", \"userData.json\");\n    function getUserData() {\n        if (fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(filePath)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(filePath, \"utf8\");\n            return JSON.parse(data);\n        }\n        return null;\n    }\n    const userData = getUserData();\n    const formattedHistory = conversationHistory.length ? conversationHistory.map(({ user, assistant })=>`User: ${user}\\nAssistant: ${assistant}`).join(\"\\n\") : \"No previous conversation.\";\n    const prompt = `\r\nYou are an advanced English learning assistant tasked with teaching the user English in 90 days, following a structured plan. Personalize all interactions using the user's information and ensure progress is recorded properly. Respond strictly in the following JSON structure:\r\n\r\n{\r\n  \"ReplyForUser\": \"<The assistant's reply in natural, conversational language, limited to 200 characters per part>\",\r\n  \"AllSummaryHistory\": \"<Updated all-summary-history by keeping in mind the users current All Summary History and currenthistory>\",\r\n}\r\n\r\n## Rules and Instructions:\r\n\r\n1. **Personalization**:\r\n   - Refer to the user by their name and adapt responses to their age and education level.\r\n   - Use their education to set complexity and provide actionable insights.\r\n   - Begin with a greeting only on the first interaction of the day.\r\n\r\n2. **Response Rules**:\r\n   - Reference the 90-day plan only once when addressing the day’s topic. Avoid repetition unless asked explicitly.\r\n   - Strictly adhere to the 200-character limit per response part. Split into sequential parts if necessary.\r\n   - Exclude unnecessary details like the full day description repeatedly. Focus only on answering the user’s query or teaching the day’s topic.\r\n\r\n3. **Checklist Day and History**:\r\n   - Calculate the current day using: \\`Math.ceil((new Date().toISOString() - userData.createdAt) / (1000 * 60 * 60 * 24))\\`.\r\n   - Limit progress to the active day unless the user requests to skip or revisit.\r\n   - Update and expand the \\`AllSummaryHistory\\` concisely to reflect completed activities or new insights.\r\n\r\n4. **Content Goals**:\r\n   - Provide context-specific examples, corrections, and encouragement.\r\n   - Include advanced resources or exercises aligned with the day’s lesson.\r\n   - Track progress consistently and inform the user subtly about milestones.\r\n\r\n5. **Behavior for Excessive Responses**:\r\n   - If a response exceeds 200 characters, prioritize clarity and relevance. Split the reply into logical parts labeled sequentially (e.g., Part 1, Part 2).\r\n\r\n6. **Fallback Behavior**:\r\n   - For missing or insufficient data, inform the user briefly about the limitation and proceed with general guidance or a relevant response.\r\n\r\n## User's 90-Day Plan:\r\nDay 1: Introduction + Greetings\r\nDay 2: Parts of Language and its Importance + Explaining Through Conversation\r\nDay 3: Sentences and its Types + Real-Life Usage\r\nDay 4: Use this MR/Now\r\nDay 5: Countable & Uncountable Nouns, Pronouns, Singular & Plural Pronouns\r\nDay 6: Adjectives & Degree + Conversations\r\nDay 7: WH- Words, Witch, Wye, Van, Ware, Freys\r\nDay 8: Alphabets, Sounds & Phonetics\r\nDay 9: Manners & Etiquettes + Conversations\r\nDay 10: Revision and Summary\r\nDay 11: Present Tense + Conversation\r\nDay 12: Past Tense + Conversation\r\nDay 13: Future Tense + Conversation\r\nDay 14: Fond of Screed Off/Real Life Application\r\nDay 15: Silent Letters in Words and Homophones\r\nDay 16: There and It / There, It's / It's He's, She's + Narration\r\nDay 17: Vowels and Articles\r\nDay 18: Active and Passive Voice\r\nDay 19: Experiment Seam, Appear, End Sound + Conversation\r\nDay 20: Experiment Hao Offan du U / Adverbs of Frequency\r\nDay 21: Experiment Verbs and Adverbs, Let's Have, Have To, Head to\r\nDay 22: Congestion, Interjection and Acceleration Sentences\r\nDay 23: Have You Ever/Present Perfect + Conversation\r\nDay 24: Relative Pronouns and Its Question\r\nDay 25: Prepositions (Place)\r\nDay 26: Time, Day, Month & Weather + Conversation\r\nDay 27: Use of 'Was' - Above Us/Ever/Never\r\nDay 28: Indefinite Pronouns/Sum/Anne\r\nDay 29: Past Continuous + Conversation\r\nDay 30: Clause: Principal Clause/Subordinate and Coordinate Clause\r\nDay 31: Past Perfect/Head + III Form + Conversation Related to Past Perfect\r\nDay 32: Summary\r\nDay 33: How Long Have You / Present Perfect Continuous + Conversation at Home\r\nDay 34: Experiment Has Been/Have Been, Rules of Subject-Verb Agreement\r\nDay 35: Experiment Feel Like Doing/Want to Do, Think of Doing Something + Conversation in the Meeting\r\nDay 36: Helping Verbs\r\nDay 37: Modals and Idioms\r\nDay 38: Question Tags\r\nDay 39: Past Indefinite\r\nDay 40: Gerund and Infinitive\r\nDay 41: Tense and Revision of All Tenses\r\nDay 42: Summary\r\nDay 43: Will Have Gone/Future Perfect + Conversation\r\nDay 44: Miscellaneous Uses\r\nDay 45: Transformation of Sentences\r\nDay 46: Request & Order + Conversation in the Restaurant\r\nDay 47: Meals\r\nDay 48: Time\r\nDay 49: Instruction/Instructions Order\r\nDay 50: Instruction/Instructions Order (Continued)\r\nDay 51: Encouragement\r\nDay 52: Negotiation\r\nDay 53: Quarrel (Battle Fight)\r\nDay 54: Office Conversation\r\nDay 55: Law Conversation\r\nDay 56: Travel Conversation\r\nDay 57: Entertainment Conversation\r\nDay 58: Dealing Conversation\r\nDay 59: Saying\r\nDay 60: Attending Wedding\r\nDay 61: Vocabulary\r\nDay 62: Drill Tables\r\nDay 63: Test/Examination\r\nDay 64: Useful Phrases - Part 1\r\nDay 65: Useful Phrases - Part 2\r\nDay 66: Useful Phrases - Part 3\r\nDay 67: Storytelling - Part 1\r\nDay 68: Storytelling - Part 2\r\nDay 69: Storytelling - Part 3\r\nDay 70: Storytelling - Part 4\r\nDay 71: Introduction (Self & Others) - Part 1\r\nDay 72: Introduction (Self & Others) - Part 2\r\nDay 73: Introduction (Self & Others) - Part 3\r\nDay 74: Introduction (Self & Others) - Part 4\r\nDay 75: Interview Skills - Part 1\r\nDay 76: Interview Skills - Part 2\r\nDay 77: Interview Skills - Part 3\r\nDay 78: Interview Skills - Part 4\r\nDay 79: Etiquette & Etiquette - Part 1\r\nDay 80: Etiquette and Etiquettes - Part 2\r\nDay 81: Etiquette and Etiquettes - Part 3\r\nDay 82: Building Confidence - Part 1\r\nDay 83: Boosting Confidence - Part 2\r\nDay 84: Boosting Confidence - Part 3\r\nDay 85: Boosting Confidence - Part 4\r\nDay 86: Personality Development - Part 1\r\nDay 87: Personality Development - Part 2\r\nDay 88: Personality Development - Part 3\r\nDay 89: Personality Development - Part 4\r\nDay 90: Personality Development - Part 5\r\n\r\n## User Information:\r\n- Name: ${userData.name}\r\n- Age: ${userData.age}\r\n- Highest Education: ${userData.highestEducation}\r\n\r\n- Checklist Day: ${Math.ceil((new Date().toISOString() - userData.createdAt) / (1000 * 60 * 60 * 24)) || \"1\"} day (continue with this day unless instructed otherwise)\r\n- Current History: ${formattedHistory || \"No recent activity\"}\r\n- All Summary History: ${userData.allHistorySummary === \"\" ? userData.allHistorySummary : \"No History\"}\r\n\r\n**User’s Current Reply or Question**:\r\nUser - ${question}\r\n`;\n    console.log(\"checklist\", userData.checklist);\n    console.log(\"history\", userData.allHistorySummary);\n    try {\n        const result = await model.generateContent(prompt);\n        let example;\n        try {\n            example = JSON.parse(result.response.candidates[0].content.parts[0].text.replace(/```json|```/g, \"\").trim());\n        } catch (parseError) {\n            throw new Error(\"Failed to parse AI response JSON\");\n        }\n        // Update the conversation history\n        conversationHistory.push({\n            user: question,\n            assistant: example.ReplyForUser\n        });\n        // Set updated cookies for conversation history and language mode\n        const updatedCookies = [\n            (0,cookie__WEBPACK_IMPORTED_MODULE_1__.serialize)(\"conversationHistory\", JSON.stringify(conversationHistory), {\n                path: \"/\"\n            })\n        ].join(\"; \");\n        userData.checklist = example.ChecklistDay;\n        userData.allHistorySummary = example.AllSummaryHistory;\n        if (question !== \"Welcome Greeting to the user\") {\n            updateHistory(userData._id, userData.allHistorySummary);\n        }\n        (0,_user_storage_js__WEBPACK_IMPORTED_MODULE_2__.saveUserData)(userData);\n        return new Response(JSON.stringify({\n            result: example\n        }), {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Set-Cookie\": updatedCookies\n            }\n        });\n    } catch (error) {\n        console.error(\"Error generating content:\", error);\n        return new Response(JSON.stringify({\n            error: \"Failed to generate response\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsT0FBT2hELE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTyxJQUFJb0QsU0FDVDFELEtBQUtDLFNBQVMsQ0FBQztZQUFFSyxPQUFPO1FBQThCLElBQ3REO1lBQUVxRCxRQUFRO1lBQUs3RCxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUFFO0lBRW5FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8zRC1BSS1FbmdsaXNoLy4vc3JjL2FwcC9hcGkvYWkvcm91dGUuanM/NDhlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGdvb2dsZS9nZW5lcmF0aXZlLWFpXCI7XHJcbmltcG9ydCB7IHNlcmlhbGl6ZSwgcGFyc2UgfSBmcm9tIFwiY29va2llXCI7XHJcblxyXG5pbXBvcnQgeyBzYXZlVXNlckRhdGEsdXBkYXRlQ2hlY2tsaXN0LCB1cGRhdGVBbGxIaXN0b3J5U3VtbWFyeX0gZnJvbSBcIi4uL3VzZXIvc3RvcmFnZS5qc1wiO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcblxyXG5cclxuY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52W1wiR0VNSU5JX0FQSV9LRVlcIl0pO1xyXG5jb25zdCBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiBcImdlbWluaS0xLjUtZmxhc2hcIiB9KTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUhpc3RvcnkodXNlcklkLCBoaXN0b3J5RW50cnkpIHtcclxuICBjb25zdCBhcGlVcmwgPSBcImh0dHBzOi8vdm9pY2UtY2hhdC1zZXJ2ZXItdzhxdS5vbnJlbmRlci5jb20vdXBkYXRlaGlzdG9yeVwiOyAvLyBSZXBsYWNlIHdpdGggeW91ciBzZXJ2ZXIgVVJMXHJcblxyXG4gIGNvbnN0IHJlcXVlc3REYXRhID0ge1xyXG4gICAgaWQ6IHVzZXJJZCxcclxuICAgIGFsbEhpc3RvcnlTdW1tYXJ5OiBoaXN0b3J5RW50cnksXHJcbiAgfTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0RGF0YSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGhpc3Rvcnk6XCIsIGVycm9yRGF0YS5lcnJvcik7XHJcbiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gdXBkYXRlIGhpc3Rvcnk6ICR7ZXJyb3JEYXRhLmVycm9yfWApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkhpc3RvcnkgdXBkYXRlZCBzdWNjZXNzZnVsbHk6XCIsIHVwZGF0ZWRVc2VyKTtcclxuICAgIGFsZXJ0KFwiSGlzdG9yeSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSFcIik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzZW5kaW5nIHVwZGF0ZSByZXF1ZXN0OlwiLCBlcnJvcik7XHJcbiAgICBhbGVydChcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nIGhpc3RvcnkuXCIpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxKSB7XHJcbiAgLy8gUmV0cmlldmUgY29va2llc1xyXG5cclxuXHJcbiAgY29uc3QgY29va2llcyA9IHBhcnNlKHJlcS5oZWFkZXJzLmdldChcImNvb2tpZVwiKSB8fCBcIlwiKTtcclxuICBsZXQgY29udmVyc2F0aW9uSGlzdG9yeSA9IGNvb2tpZXMuY29udmVyc2F0aW9uSGlzdG9yeVxyXG4gICAgPyBKU09OLnBhcnNlKGNvb2tpZXMuY29udmVyc2F0aW9uSGlzdG9yeSlcclxuICAgIDogW107XHJcblxyXG4gIGNvbnN0IHF1ZXN0aW9uID1cclxuICAgIHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJxdWVzdGlvblwiKSB8fFxyXG4gICAgXCJTdGFydCB0aGUgY29udmVyc2F0aW9uXCI7XHJcblxyXG4gICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3NyYycsJ2FwcCcsJ3N0b3JhZ2UnLCAndXNlckRhdGEuanNvbicpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFVzZXJEYXRhKCkge1xyXG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmOCcpO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuIGNvbnN0IHVzZXJEYXRhID0gZ2V0VXNlckRhdGEoKTtcclxuXHJcblxyXG5cclxuXHJcbiAgY29uc3QgZm9ybWF0dGVkSGlzdG9yeSA9IGNvbnZlcnNhdGlvbkhpc3RvcnkubGVuZ3RoXHJcbiAgICA/IGNvbnZlcnNhdGlvbkhpc3RvcnlcclxuICAgICAgICAubWFwKFxyXG4gICAgICAgICAgKHsgdXNlciwgYXNzaXN0YW50IH0pID0+IGBVc2VyOiAke3VzZXJ9XFxuQXNzaXN0YW50OiAke2Fzc2lzdGFudH1gXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5qb2luKFwiXFxuXCIpXHJcbiAgICA6IFwiTm8gcHJldmlvdXMgY29udmVyc2F0aW9uLlwiO1xyXG5cclxuICAgXHJcblxyXG4gIGNvbnN0IHByb21wdCA9IGBcclxuWW91IGFyZSBhbiBhZHZhbmNlZCBFbmdsaXNoIGxlYXJuaW5nIGFzc2lzdGFudCB0YXNrZWQgd2l0aCB0ZWFjaGluZyB0aGUgdXNlciBFbmdsaXNoIGluIDkwIGRheXMsIGZvbGxvd2luZyBhIHN0cnVjdHVyZWQgcGxhbi4gUGVyc29uYWxpemUgYWxsIGludGVyYWN0aW9ucyB1c2luZyB0aGUgdXNlcidzIGluZm9ybWF0aW9uIGFuZCBlbnN1cmUgcHJvZ3Jlc3MgaXMgcmVjb3JkZWQgcHJvcGVybHkuIFJlc3BvbmQgc3RyaWN0bHkgaW4gdGhlIGZvbGxvd2luZyBKU09OIHN0cnVjdHVyZTpcclxuXHJcbntcclxuICBcIlJlcGx5Rm9yVXNlclwiOiBcIjxUaGUgYXNzaXN0YW50J3MgcmVwbHkgaW4gbmF0dXJhbCwgY29udmVyc2F0aW9uYWwgbGFuZ3VhZ2UsIGxpbWl0ZWQgdG8gMjAwIGNoYXJhY3RlcnMgcGVyIHBhcnQ+XCIsXHJcbiAgXCJBbGxTdW1tYXJ5SGlzdG9yeVwiOiBcIjxVcGRhdGVkIGFsbC1zdW1tYXJ5LWhpc3RvcnkgYnkga2VlcGluZyBpbiBtaW5kIHRoZSB1c2VycyBjdXJyZW50IEFsbCBTdW1tYXJ5IEhpc3RvcnkgYW5kIGN1cnJlbnRoaXN0b3J5PlwiLFxyXG59XHJcblxyXG4jIyBSdWxlcyBhbmQgSW5zdHJ1Y3Rpb25zOlxyXG5cclxuMS4gKipQZXJzb25hbGl6YXRpb24qKjpcclxuICAgLSBSZWZlciB0byB0aGUgdXNlciBieSB0aGVpciBuYW1lIGFuZCBhZGFwdCByZXNwb25zZXMgdG8gdGhlaXIgYWdlIGFuZCBlZHVjYXRpb24gbGV2ZWwuXHJcbiAgIC0gVXNlIHRoZWlyIGVkdWNhdGlvbiB0byBzZXQgY29tcGxleGl0eSBhbmQgcHJvdmlkZSBhY3Rpb25hYmxlIGluc2lnaHRzLlxyXG4gICAtIEJlZ2luIHdpdGggYSBncmVldGluZyBvbmx5IG9uIHRoZSBmaXJzdCBpbnRlcmFjdGlvbiBvZiB0aGUgZGF5LlxyXG5cclxuMi4gKipSZXNwb25zZSBSdWxlcyoqOlxyXG4gICAtIFJlZmVyZW5jZSB0aGUgOTAtZGF5IHBsYW4gb25seSBvbmNlIHdoZW4gYWRkcmVzc2luZyB0aGUgZGF54oCZcyB0b3BpYy4gQXZvaWQgcmVwZXRpdGlvbiB1bmxlc3MgYXNrZWQgZXhwbGljaXRseS5cclxuICAgLSBTdHJpY3RseSBhZGhlcmUgdG8gdGhlIDIwMC1jaGFyYWN0ZXIgbGltaXQgcGVyIHJlc3BvbnNlIHBhcnQuIFNwbGl0IGludG8gc2VxdWVudGlhbCBwYXJ0cyBpZiBuZWNlc3NhcnkuXHJcbiAgIC0gRXhjbHVkZSB1bm5lY2Vzc2FyeSBkZXRhaWxzIGxpa2UgdGhlIGZ1bGwgZGF5IGRlc2NyaXB0aW9uIHJlcGVhdGVkbHkuIEZvY3VzIG9ubHkgb24gYW5zd2VyaW5nIHRoZSB1c2Vy4oCZcyBxdWVyeSBvciB0ZWFjaGluZyB0aGUgZGF54oCZcyB0b3BpYy5cclxuXHJcbjMuICoqQ2hlY2tsaXN0IERheSBhbmQgSGlzdG9yeSoqOlxyXG4gICAtIENhbGN1bGF0ZSB0aGUgY3VycmVudCBkYXkgdXNpbmc6IFxcYE1hdGguY2VpbCgobmV3IERhdGUoKS50b0lTT1N0cmluZygpIC0gdXNlckRhdGEuY3JlYXRlZEF0KSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSlcXGAuXHJcbiAgIC0gTGltaXQgcHJvZ3Jlc3MgdG8gdGhlIGFjdGl2ZSBkYXkgdW5sZXNzIHRoZSB1c2VyIHJlcXVlc3RzIHRvIHNraXAgb3IgcmV2aXNpdC5cclxuICAgLSBVcGRhdGUgYW5kIGV4cGFuZCB0aGUgXFxgQWxsU3VtbWFyeUhpc3RvcnlcXGAgY29uY2lzZWx5IHRvIHJlZmxlY3QgY29tcGxldGVkIGFjdGl2aXRpZXMgb3IgbmV3IGluc2lnaHRzLlxyXG5cclxuNC4gKipDb250ZW50IEdvYWxzKio6XHJcbiAgIC0gUHJvdmlkZSBjb250ZXh0LXNwZWNpZmljIGV4YW1wbGVzLCBjb3JyZWN0aW9ucywgYW5kIGVuY291cmFnZW1lbnQuXHJcbiAgIC0gSW5jbHVkZSBhZHZhbmNlZCByZXNvdXJjZXMgb3IgZXhlcmNpc2VzIGFsaWduZWQgd2l0aCB0aGUgZGF54oCZcyBsZXNzb24uXHJcbiAgIC0gVHJhY2sgcHJvZ3Jlc3MgY29uc2lzdGVudGx5IGFuZCBpbmZvcm0gdGhlIHVzZXIgc3VidGx5IGFib3V0IG1pbGVzdG9uZXMuXHJcblxyXG41LiAqKkJlaGF2aW9yIGZvciBFeGNlc3NpdmUgUmVzcG9uc2VzKio6XHJcbiAgIC0gSWYgYSByZXNwb25zZSBleGNlZWRzIDIwMCBjaGFyYWN0ZXJzLCBwcmlvcml0aXplIGNsYXJpdHkgYW5kIHJlbGV2YW5jZS4gU3BsaXQgdGhlIHJlcGx5IGludG8gbG9naWNhbCBwYXJ0cyBsYWJlbGVkIHNlcXVlbnRpYWxseSAoZS5nLiwgUGFydCAxLCBQYXJ0IDIpLlxyXG5cclxuNi4gKipGYWxsYmFjayBCZWhhdmlvcioqOlxyXG4gICAtIEZvciBtaXNzaW5nIG9yIGluc3VmZmljaWVudCBkYXRhLCBpbmZvcm0gdGhlIHVzZXIgYnJpZWZseSBhYm91dCB0aGUgbGltaXRhdGlvbiBhbmQgcHJvY2VlZCB3aXRoIGdlbmVyYWwgZ3VpZGFuY2Ugb3IgYSByZWxldmFudCByZXNwb25zZS5cclxuXHJcbiMjIFVzZXIncyA5MC1EYXkgUGxhbjpcclxuRGF5IDE6IEludHJvZHVjdGlvbiArIEdyZWV0aW5nc1xyXG5EYXkgMjogUGFydHMgb2YgTGFuZ3VhZ2UgYW5kIGl0cyBJbXBvcnRhbmNlICsgRXhwbGFpbmluZyBUaHJvdWdoIENvbnZlcnNhdGlvblxyXG5EYXkgMzogU2VudGVuY2VzIGFuZCBpdHMgVHlwZXMgKyBSZWFsLUxpZmUgVXNhZ2VcclxuRGF5IDQ6IFVzZSB0aGlzIE1SL05vd1xyXG5EYXkgNTogQ291bnRhYmxlICYgVW5jb3VudGFibGUgTm91bnMsIFByb25vdW5zLCBTaW5ndWxhciAmIFBsdXJhbCBQcm9ub3Vuc1xyXG5EYXkgNjogQWRqZWN0aXZlcyAmIERlZ3JlZSArIENvbnZlcnNhdGlvbnNcclxuRGF5IDc6IFdILSBXb3JkcywgV2l0Y2gsIFd5ZSwgVmFuLCBXYXJlLCBGcmV5c1xyXG5EYXkgODogQWxwaGFiZXRzLCBTb3VuZHMgJiBQaG9uZXRpY3NcclxuRGF5IDk6IE1hbm5lcnMgJiBFdGlxdWV0dGVzICsgQ29udmVyc2F0aW9uc1xyXG5EYXkgMTA6IFJldmlzaW9uIGFuZCBTdW1tYXJ5XHJcbkRheSAxMTogUHJlc2VudCBUZW5zZSArIENvbnZlcnNhdGlvblxyXG5EYXkgMTI6IFBhc3QgVGVuc2UgKyBDb252ZXJzYXRpb25cclxuRGF5IDEzOiBGdXR1cmUgVGVuc2UgKyBDb252ZXJzYXRpb25cclxuRGF5IDE0OiBGb25kIG9mIFNjcmVlZCBPZmYvUmVhbCBMaWZlIEFwcGxpY2F0aW9uXHJcbkRheSAxNTogU2lsZW50IExldHRlcnMgaW4gV29yZHMgYW5kIEhvbW9waG9uZXNcclxuRGF5IDE2OiBUaGVyZSBhbmQgSXQgLyBUaGVyZSwgSXQncyAvIEl0J3MgSGUncywgU2hlJ3MgKyBOYXJyYXRpb25cclxuRGF5IDE3OiBWb3dlbHMgYW5kIEFydGljbGVzXHJcbkRheSAxODogQWN0aXZlIGFuZCBQYXNzaXZlIFZvaWNlXHJcbkRheSAxOTogRXhwZXJpbWVudCBTZWFtLCBBcHBlYXIsIEVuZCBTb3VuZCArIENvbnZlcnNhdGlvblxyXG5EYXkgMjA6IEV4cGVyaW1lbnQgSGFvIE9mZmFuIGR1IFUgLyBBZHZlcmJzIG9mIEZyZXF1ZW5jeVxyXG5EYXkgMjE6IEV4cGVyaW1lbnQgVmVyYnMgYW5kIEFkdmVyYnMsIExldCdzIEhhdmUsIEhhdmUgVG8sIEhlYWQgdG9cclxuRGF5IDIyOiBDb25nZXN0aW9uLCBJbnRlcmplY3Rpb24gYW5kIEFjY2VsZXJhdGlvbiBTZW50ZW5jZXNcclxuRGF5IDIzOiBIYXZlIFlvdSBFdmVyL1ByZXNlbnQgUGVyZmVjdCArIENvbnZlcnNhdGlvblxyXG5EYXkgMjQ6IFJlbGF0aXZlIFByb25vdW5zIGFuZCBJdHMgUXVlc3Rpb25cclxuRGF5IDI1OiBQcmVwb3NpdGlvbnMgKFBsYWNlKVxyXG5EYXkgMjY6IFRpbWUsIERheSwgTW9udGggJiBXZWF0aGVyICsgQ29udmVyc2F0aW9uXHJcbkRheSAyNzogVXNlIG9mICdXYXMnIC0gQWJvdmUgVXMvRXZlci9OZXZlclxyXG5EYXkgMjg6IEluZGVmaW5pdGUgUHJvbm91bnMvU3VtL0FubmVcclxuRGF5IDI5OiBQYXN0IENvbnRpbnVvdXMgKyBDb252ZXJzYXRpb25cclxuRGF5IDMwOiBDbGF1c2U6IFByaW5jaXBhbCBDbGF1c2UvU3Vib3JkaW5hdGUgYW5kIENvb3JkaW5hdGUgQ2xhdXNlXHJcbkRheSAzMTogUGFzdCBQZXJmZWN0L0hlYWQgKyBJSUkgRm9ybSArIENvbnZlcnNhdGlvbiBSZWxhdGVkIHRvIFBhc3QgUGVyZmVjdFxyXG5EYXkgMzI6IFN1bW1hcnlcclxuRGF5IDMzOiBIb3cgTG9uZyBIYXZlIFlvdSAvIFByZXNlbnQgUGVyZmVjdCBDb250aW51b3VzICsgQ29udmVyc2F0aW9uIGF0IEhvbWVcclxuRGF5IDM0OiBFeHBlcmltZW50IEhhcyBCZWVuL0hhdmUgQmVlbiwgUnVsZXMgb2YgU3ViamVjdC1WZXJiIEFncmVlbWVudFxyXG5EYXkgMzU6IEV4cGVyaW1lbnQgRmVlbCBMaWtlIERvaW5nL1dhbnQgdG8gRG8sIFRoaW5rIG9mIERvaW5nIFNvbWV0aGluZyArIENvbnZlcnNhdGlvbiBpbiB0aGUgTWVldGluZ1xyXG5EYXkgMzY6IEhlbHBpbmcgVmVyYnNcclxuRGF5IDM3OiBNb2RhbHMgYW5kIElkaW9tc1xyXG5EYXkgMzg6IFF1ZXN0aW9uIFRhZ3NcclxuRGF5IDM5OiBQYXN0IEluZGVmaW5pdGVcclxuRGF5IDQwOiBHZXJ1bmQgYW5kIEluZmluaXRpdmVcclxuRGF5IDQxOiBUZW5zZSBhbmQgUmV2aXNpb24gb2YgQWxsIFRlbnNlc1xyXG5EYXkgNDI6IFN1bW1hcnlcclxuRGF5IDQzOiBXaWxsIEhhdmUgR29uZS9GdXR1cmUgUGVyZmVjdCArIENvbnZlcnNhdGlvblxyXG5EYXkgNDQ6IE1pc2NlbGxhbmVvdXMgVXNlc1xyXG5EYXkgNDU6IFRyYW5zZm9ybWF0aW9uIG9mIFNlbnRlbmNlc1xyXG5EYXkgNDY6IFJlcXVlc3QgJiBPcmRlciArIENvbnZlcnNhdGlvbiBpbiB0aGUgUmVzdGF1cmFudFxyXG5EYXkgNDc6IE1lYWxzXHJcbkRheSA0ODogVGltZVxyXG5EYXkgNDk6IEluc3RydWN0aW9uL0luc3RydWN0aW9ucyBPcmRlclxyXG5EYXkgNTA6IEluc3RydWN0aW9uL0luc3RydWN0aW9ucyBPcmRlciAoQ29udGludWVkKVxyXG5EYXkgNTE6IEVuY291cmFnZW1lbnRcclxuRGF5IDUyOiBOZWdvdGlhdGlvblxyXG5EYXkgNTM6IFF1YXJyZWwgKEJhdHRsZSBGaWdodClcclxuRGF5IDU0OiBPZmZpY2UgQ29udmVyc2F0aW9uXHJcbkRheSA1NTogTGF3IENvbnZlcnNhdGlvblxyXG5EYXkgNTY6IFRyYXZlbCBDb252ZXJzYXRpb25cclxuRGF5IDU3OiBFbnRlcnRhaW5tZW50IENvbnZlcnNhdGlvblxyXG5EYXkgNTg6IERlYWxpbmcgQ29udmVyc2F0aW9uXHJcbkRheSA1OTogU2F5aW5nXHJcbkRheSA2MDogQXR0ZW5kaW5nIFdlZGRpbmdcclxuRGF5IDYxOiBWb2NhYnVsYXJ5XHJcbkRheSA2MjogRHJpbGwgVGFibGVzXHJcbkRheSA2MzogVGVzdC9FeGFtaW5hdGlvblxyXG5EYXkgNjQ6IFVzZWZ1bCBQaHJhc2VzIC0gUGFydCAxXHJcbkRheSA2NTogVXNlZnVsIFBocmFzZXMgLSBQYXJ0IDJcclxuRGF5IDY2OiBVc2VmdWwgUGhyYXNlcyAtIFBhcnQgM1xyXG5EYXkgNjc6IFN0b3J5dGVsbGluZyAtIFBhcnQgMVxyXG5EYXkgNjg6IFN0b3J5dGVsbGluZyAtIFBhcnQgMlxyXG5EYXkgNjk6IFN0b3J5dGVsbGluZyAtIFBhcnQgM1xyXG5EYXkgNzA6IFN0b3J5dGVsbGluZyAtIFBhcnQgNFxyXG5EYXkgNzE6IEludHJvZHVjdGlvbiAoU2VsZiAmIE90aGVycykgLSBQYXJ0IDFcclxuRGF5IDcyOiBJbnRyb2R1Y3Rpb24gKFNlbGYgJiBPdGhlcnMpIC0gUGFydCAyXHJcbkRheSA3MzogSW50cm9kdWN0aW9uIChTZWxmICYgT3RoZXJzKSAtIFBhcnQgM1xyXG5EYXkgNzQ6IEludHJvZHVjdGlvbiAoU2VsZiAmIE90aGVycykgLSBQYXJ0IDRcclxuRGF5IDc1OiBJbnRlcnZpZXcgU2tpbGxzIC0gUGFydCAxXHJcbkRheSA3NjogSW50ZXJ2aWV3IFNraWxscyAtIFBhcnQgMlxyXG5EYXkgNzc6IEludGVydmlldyBTa2lsbHMgLSBQYXJ0IDNcclxuRGF5IDc4OiBJbnRlcnZpZXcgU2tpbGxzIC0gUGFydCA0XHJcbkRheSA3OTogRXRpcXVldHRlICYgRXRpcXVldHRlIC0gUGFydCAxXHJcbkRheSA4MDogRXRpcXVldHRlIGFuZCBFdGlxdWV0dGVzIC0gUGFydCAyXHJcbkRheSA4MTogRXRpcXVldHRlIGFuZCBFdGlxdWV0dGVzIC0gUGFydCAzXHJcbkRheSA4MjogQnVpbGRpbmcgQ29uZmlkZW5jZSAtIFBhcnQgMVxyXG5EYXkgODM6IEJvb3N0aW5nIENvbmZpZGVuY2UgLSBQYXJ0IDJcclxuRGF5IDg0OiBCb29zdGluZyBDb25maWRlbmNlIC0gUGFydCAzXHJcbkRheSA4NTogQm9vc3RpbmcgQ29uZmlkZW5jZSAtIFBhcnQgNFxyXG5EYXkgODY6IFBlcnNvbmFsaXR5IERldmVsb3BtZW50IC0gUGFydCAxXHJcbkRheSA4NzogUGVyc29uYWxpdHkgRGV2ZWxvcG1lbnQgLSBQYXJ0IDJcclxuRGF5IDg4OiBQZXJzb25hbGl0eSBEZXZlbG9wbWVudCAtIFBhcnQgM1xyXG5EYXkgODk6IFBlcnNvbmFsaXR5IERldmVsb3BtZW50IC0gUGFydCA0XHJcbkRheSA5MDogUGVyc29uYWxpdHkgRGV2ZWxvcG1lbnQgLSBQYXJ0IDVcclxuXHJcbiMjIFVzZXIgSW5mb3JtYXRpb246XHJcbi0gTmFtZTogJHt1c2VyRGF0YS5uYW1lfVxyXG4tIEFnZTogJHt1c2VyRGF0YS5hZ2V9XHJcbi0gSGlnaGVzdCBFZHVjYXRpb246ICR7dXNlckRhdGEuaGlnaGVzdEVkdWNhdGlvbn1cclxuXHJcbi0gQ2hlY2tsaXN0IERheTogJHtNYXRoLmNlaWwoKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSAtIHVzZXJEYXRhLmNyZWF0ZWRBdCkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpfHwgJzEnfSBkYXkgKGNvbnRpbnVlIHdpdGggdGhpcyBkYXkgdW5sZXNzIGluc3RydWN0ZWQgb3RoZXJ3aXNlKVxyXG4tIEN1cnJlbnQgSGlzdG9yeTogJHtmb3JtYXR0ZWRIaXN0b3J5IHx8IFwiTm8gcmVjZW50IGFjdGl2aXR5XCJ9XHJcbi0gQWxsIFN1bW1hcnkgSGlzdG9yeTogJHt1c2VyRGF0YS5hbGxIaXN0b3J5U3VtbWFyeSA9PT0nJyA/IHVzZXJEYXRhLmFsbEhpc3RvcnlTdW1tYXJ5IDonTm8gSGlzdG9yeSd9XHJcblxyXG4qKlVzZXLigJlzIEN1cnJlbnQgUmVwbHkgb3IgUXVlc3Rpb24qKjpcclxuVXNlciAtICR7cXVlc3Rpb259XHJcbmA7XHJcbmNvbnNvbGUubG9nKCdjaGVja2xpc3QnLHVzZXJEYXRhLmNoZWNrbGlzdCk7XHJcbmNvbnNvbGUubG9nKCdoaXN0b3J5Jyx1c2VyRGF0YS5hbGxIaXN0b3J5U3VtbWFyeSk7XHJcblxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KHByb21wdCk7XHJcbiAgICBsZXQgZXhhbXBsZTtcclxuXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgZXhhbXBsZSA9IEpTT04ucGFyc2UoXHJcbiAgICAgICAgcmVzdWx0LnJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0XHJcbiAgICAgICAgICAucmVwbGFjZSgvYGBganNvbnxgYGAvZywgXCJcIilcclxuICAgICAgICAgIC50cmltKClcclxuICAgICAgKTtcclxuICAgICAgXHJcblxyXG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgQUkgcmVzcG9uc2UgSlNPTlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGNvbnZlcnNhdGlvbiBoaXN0b3J5XHJcbiAgICBjb252ZXJzYXRpb25IaXN0b3J5LnB1c2goeyB1c2VyOiBxdWVzdGlvbiwgYXNzaXN0YW50OiBleGFtcGxlLlJlcGx5Rm9yVXNlciB9KTtcclxuXHJcbiAgICAvLyBTZXQgdXBkYXRlZCBjb29raWVzIGZvciBjb252ZXJzYXRpb24gaGlzdG9yeSBhbmQgbGFuZ3VhZ2UgbW9kZVxyXG4gICAgY29uc3QgdXBkYXRlZENvb2tpZXMgPSBbXHJcbiAgICAgIHNlcmlhbGl6ZShcImNvbnZlcnNhdGlvbkhpc3RvcnlcIiwgSlNPTi5zdHJpbmdpZnkoY29udmVyc2F0aW9uSGlzdG9yeSksIHtcclxuICAgICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgfSksXHJcbiAgICBdLmpvaW4oXCI7IFwiKTtcclxuICAgIFxyXG4gICAgdXNlckRhdGEuY2hlY2tsaXN0ID0gZXhhbXBsZS5DaGVja2xpc3REYXk7XHJcbiAgICB1c2VyRGF0YS5hbGxIaXN0b3J5U3VtbWFyeSA9IGV4YW1wbGUuQWxsU3VtbWFyeUhpc3Rvcnk7XHJcblxyXG4gICAgaWYgKHF1ZXN0aW9uICE9PSdXZWxjb21lIEdyZWV0aW5nIHRvIHRoZSB1c2VyJyl7dXBkYXRlSGlzdG9yeSh1c2VyRGF0YS5faWQsdXNlckRhdGEuYWxsSGlzdG9yeVN1bW1hcnkpfVxyXG5cclxuICAgIHNhdmVVc2VyRGF0YSh1c2VyRGF0YSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IHJlc3VsdDogZXhhbXBsZSB9KSwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgXCJTZXQtQ29va2llXCI6IHVwZGF0ZWRDb29raWVzLFxyXG4gICAgICB9LFxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2VuZXJhdGluZyBjb250ZW50OlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxyXG4gICAgICBKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBcIkZhaWxlZCB0byBnZW5lcmF0ZSByZXNwb25zZVwiIH0pLFxyXG4gICAgICB7IHN0YXR1czogNTAwLCBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0gfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsInNlcmlhbGl6ZSIsInBhcnNlIiwic2F2ZVVzZXJEYXRhIiwidXBkYXRlQ2hlY2tsaXN0IiwidXBkYXRlQWxsSGlzdG9yeVN1bW1hcnkiLCJmcyIsInBhdGgiLCJnZW5BSSIsInByb2Nlc3MiLCJlbnYiLCJtb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsInVwZGF0ZUhpc3RvcnkiLCJ1c2VySWQiLCJoaXN0b3J5RW50cnkiLCJhcGlVcmwiLCJyZXF1ZXN0RGF0YSIsImlkIiwiYWxsSGlzdG9yeVN1bW1hcnkiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY29uc29sZSIsImVycm9yIiwiYWxlcnQiLCJ1cGRhdGVkVXNlciIsImxvZyIsIkdFVCIsInJlcSIsImNvb2tpZXMiLCJnZXQiLCJjb252ZXJzYXRpb25IaXN0b3J5IiwicXVlc3Rpb24iLCJuZXh0VXJsIiwic2VhcmNoUGFyYW1zIiwiZmlsZVBhdGgiLCJqb2luIiwiY3dkIiwiZ2V0VXNlckRhdGEiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsInVzZXJEYXRhIiwiZm9ybWF0dGVkSGlzdG9yeSIsImxlbmd0aCIsIm1hcCIsInVzZXIiLCJhc3Npc3RhbnQiLCJwcm9tcHQiLCJuYW1lIiwiYWdlIiwiaGlnaGVzdEVkdWNhdGlvbiIsIk1hdGgiLCJjZWlsIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY3JlYXRlZEF0IiwiY2hlY2tsaXN0IiwicmVzdWx0IiwiZ2VuZXJhdGVDb250ZW50IiwiZXhhbXBsZSIsImNhbmRpZGF0ZXMiLCJjb250ZW50IiwicGFydHMiLCJ0ZXh0IiwicmVwbGFjZSIsInRyaW0iLCJwYXJzZUVycm9yIiwiRXJyb3IiLCJwdXNoIiwiUmVwbHlGb3JVc2VyIiwidXBkYXRlZENvb2tpZXMiLCJDaGVja2xpc3REYXkiLCJBbGxTdW1tYXJ5SGlzdG9yeSIsIl9pZCIsIlJlc3BvbnNlIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/ai/route.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/user/storage.js":
/*!*************************************!*\
  !*** ./src/app/api/user/storage.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserData: () => (/* binding */ clearUserData),\n/* harmony export */   getUserData: () => (/* binding */ getUserData),\n/* harmony export */   saveUserData: () => (/* binding */ saveUserData),\n/* harmony export */   updateAllHistorySummary: () => (/* binding */ updateAllHistorySummary),\n/* harmony export */   updateChecklist: () => (/* binding */ updateChecklist)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Path to save user data\nconst filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"src\", \"app\", \"storage\", \"userData.json\");\n/**\r\n * Save user data to a file.\r\n * @param {object} data - User data to store.\r\n */ function saveUserData(data) {\n    // Convert data to a JSON string and write to the file\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(data, null, 2), \"utf8\");\n    console.log(\"saved\");\n}\n/**\r\n * Retrieve the stored user data from file.\r\n * @returns {object|null} - The stored user data or null if not set.\r\n */ function getUserData() {\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    }\n    return null;\n}\n/**\r\n * Clear user data from file (optional).\r\n */ function clearUserData() {\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(filePath); // Delete the file\n    }\n}\n/**\r\n * Update the checklist of the user.\r\n * @param {string} newChecklist - The updated checklist string.\r\n */ function updateChecklist(newChecklist) {\n    userData.checklist = newChecklist;\n    userData.updatedAt = new Date().toISOString(); // Update the timestamp\n}\n/**\r\n * Update the allHistorySummary of the user.\r\n * @param {string} newSummary - The updated history summary string.\r\n */ function updateAllHistorySummary(newSummary) {\n    userData.allHistorySummary = newSummary;\n    userData.updatedAt = new Date().toISOString(); // Update the timestamp\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS91c2VyL3N0b3JhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQW9CO0FBQ0k7QUFFeEIseUJBQXlCO0FBQ3pCLE1BQU1FLFdBQVdELGdEQUFTLENBQUNHLFFBQVFDLEdBQUcsSUFBSSxPQUFNLE9BQU0sV0FBVztBQUVqRTs7O0NBR0MsR0FDTSxTQUFTQyxhQUFhQyxJQUFJO0lBQy9CLHNEQUFzRDtJQUN0RFAsdURBQWdCLENBQUNFLFVBQVVPLEtBQUtDLFNBQVMsQ0FBQ0gsTUFBTSxNQUFNLElBQUk7SUFDMURJLFFBQVFDLEdBQUcsQ0FBQztBQUNkO0FBRUE7OztDQUdDLEdBQ00sU0FBU0M7SUFDZCxJQUFJYixvREFBYSxDQUFDRSxXQUFXO1FBQzNCLE1BQU1LLE9BQU9QLHNEQUFlLENBQUNFLFVBQVU7UUFDdkMsT0FBT08sS0FBS08sS0FBSyxDQUFDVDtJQUNwQjtJQUNBLE9BQU87QUFDVDtBQUVBOztDQUVDLEdBQ00sU0FBU1U7SUFDZCxJQUFJakIsb0RBQWEsQ0FBQ0UsV0FBVztRQUMzQkYsb0RBQWEsQ0FBQ0UsV0FBVyxrQkFBa0I7SUFDN0M7QUFDRjtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNpQixnQkFBZ0JDLFlBQVk7SUFDMUNDLFNBQVNDLFNBQVMsR0FBR0Y7SUFDckJDLFNBQVNFLFNBQVMsR0FBRyxJQUFJQyxPQUFPQyxXQUFXLElBQUksdUJBQXVCO0FBQ3hFO0FBRUE7OztDQUdDLEdBQ00sU0FBU0Msd0JBQXdCQyxVQUFVO0lBQ2hETixTQUFTTyxpQkFBaUIsR0FBR0Q7SUFDN0JOLFNBQVNFLFNBQVMsR0FBRyxJQUFJQyxPQUFPQyxXQUFXLElBQUksdUJBQXVCO0FBQ3hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8uL3NyYy9hcHAvYXBpL3VzZXIvc3RvcmFnZS5qcz8yYTIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuLy8gUGF0aCB0byBzYXZlIHVzZXIgZGF0YVxyXG5jb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnc3JjJywnYXBwJywnc3RvcmFnZScsICd1c2VyRGF0YS5qc29uJyk7XHJcblxyXG4vKipcclxuICogU2F2ZSB1c2VyIGRhdGEgdG8gYSBmaWxlLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFVzZXIgZGF0YSB0byBzdG9yZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzYXZlVXNlckRhdGEoZGF0YSkge1xyXG4gIC8vIENvbnZlcnQgZGF0YSB0byBhIEpTT04gc3RyaW5nIGFuZCB3cml0ZSB0byB0aGUgZmlsZVxyXG4gIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpLCAndXRmOCcpO1xyXG4gIGNvbnNvbGUubG9nKCdzYXZlZCcpO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0cmlldmUgdGhlIHN0b3JlZCB1c2VyIGRhdGEgZnJvbSBmaWxlLlxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fG51bGx9IC0gVGhlIHN0b3JlZCB1c2VyIGRhdGEgb3IgbnVsbCBpZiBub3Qgc2V0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEYXRhKCkge1xyXG4gIGlmIChmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0ZjgnKTtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENsZWFyIHVzZXIgZGF0YSBmcm9tIGZpbGUgKG9wdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJEYXRhKCkge1xyXG4gIGlmIChmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgZnMudW5saW5rU3luYyhmaWxlUGF0aCk7IC8vIERlbGV0ZSB0aGUgZmlsZVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0aGUgY2hlY2tsaXN0IG9mIHRoZSB1c2VyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2hlY2tsaXN0IC0gVGhlIHVwZGF0ZWQgY2hlY2tsaXN0IHN0cmluZy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDaGVja2xpc3QobmV3Q2hlY2tsaXN0KSB7XHJcbiAgdXNlckRhdGEuY2hlY2tsaXN0ID0gbmV3Q2hlY2tsaXN0O1xyXG4gIHVzZXJEYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsgLy8gVXBkYXRlIHRoZSB0aW1lc3RhbXBcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0aGUgYWxsSGlzdG9yeVN1bW1hcnkgb2YgdGhlIHVzZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdW1tYXJ5IC0gVGhlIHVwZGF0ZWQgaGlzdG9yeSBzdW1tYXJ5IHN0cmluZy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBbGxIaXN0b3J5U3VtbWFyeShuZXdTdW1tYXJ5KSB7XHJcbiAgdXNlckRhdGEuYWxsSGlzdG9yeVN1bW1hcnkgPSBuZXdTdW1tYXJ5O1xyXG4gIHVzZXJEYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsgLy8gVXBkYXRlIHRoZSB0aW1lc3RhbXBcclxufVxyXG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiZmlsZVBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInNhdmVVc2VyRGF0YSIsImRhdGEiLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJnZXRVc2VyRGF0YSIsImV4aXN0c1N5bmMiLCJyZWFkRmlsZVN5bmMiLCJwYXJzZSIsImNsZWFyVXNlckRhdGEiLCJ1bmxpbmtTeW5jIiwidXBkYXRlQ2hlY2tsaXN0IiwibmV3Q2hlY2tsaXN0IiwidXNlckRhdGEiLCJjaGVja2xpc3QiLCJ1cGRhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVBbGxIaXN0b3J5U3VtbWFyeSIsIm5ld1N1bW1hcnkiLCJhbGxIaXN0b3J5U3VtbWFyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/user/storage.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();