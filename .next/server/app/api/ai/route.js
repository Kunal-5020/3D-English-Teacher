"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/route";
exports.ids = ["app/api/ai/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_kunal_OneDrive_Desktop_test2_3D_English_Teacher_src_app_api_ai_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/ai/route.js */ \"(rsc)/./src/app/api/ai/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/route\",\n        pathname: \"/api/ai\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\kunal\\\\OneDrive\\\\Desktop\\\\test2\\\\3D-English-Teacher\\\\src\\\\app\\\\api\\\\ai\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_kunal_OneDrive_Desktop_test2_3D_English_Teacher_src_app_api_ai_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/ai/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhaSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNrdW5hbCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3Rlc3QyJTVDM0QtRW5nbGlzaC1UZWFjaGVyJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNrdW5hbCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3Rlc3QyJTVDM0QtRW5nbGlzaC1UZWFjaGVyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzJDO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8/OWFjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxrdW5hbFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHRlc3QyXFxcXDNELUVuZ2xpc2gtVGVhY2hlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9haVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxrdW5hbFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHRlc3QyXFxcXDNELUVuZ2xpc2gtVGVhY2hlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9haS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/ai/route.js":
/*!*********************************!*\
  !*** ./src/app/api/ai/route.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"(rsc)/./node_modules/cookie/dist/index.js\");\n/* harmony import */ var _auth_updatehistory_route_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth/updatehistory/route.js */ \"(rsc)/./src/app/api/auth/updatehistory/route.js\");\n/* harmony import */ var _auth_login_storage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth/login/storage.js */ \"(rsc)/./src/app/api/auth/login/storage.js\");\n\n\n\n\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env[\"GEMINI_API_KEY\"]);\nconst model = genAI.getGenerativeModel({\n    model: \"gemini-1.5-flash\"\n});\nasync function GET(req) {\n    // Retrieve cookies\n    const cookies = (0,cookie__WEBPACK_IMPORTED_MODULE_1__.parse)(req.headers.get(\"cookie\") || \"\");\n    let conversationHistory = cookies.conversationHistory ? JSON.parse(cookies.conversationHistory) : [];\n    const question = req.nextUrl.searchParams.get(\"question\") || \"Start the conversation\";\n    const userData = (0,_auth_login_storage_js__WEBPACK_IMPORTED_MODULE_3__.getUserData)();\n    const formattedHistory = conversationHistory.length ? conversationHistory.map(({ user, assistant })=>`User: ${user}\\nAssistant: ${assistant}`).join(\"\\n\") : \"No previous conversation.\";\n    const prompt = `\r\nYou are an advanced English learning assistant tasked with teaching the user English in 90 days, following a structured plan. Personalize all interactions using the user's information and ensure progress is recorded properly. Respond strictly in the following JSON structure:\r\n\r\n{\r\n  \"ReplyForUser\": \"<The assistant's reply in natural, conversational language, limited to 50-200(200 max) characters per part>\",\r\n  \"AllSummaryHistory\": \"<Updated all-summary-history by keeping in mind the users current All Summary History and currenthistory>\",\r\n}\r\n\r\n## Rules and Instructions:\r\n\r\n### 1. **Personalization**:\r\n   - Address the user by name and adapt responses to their age and education level.\r\n   - Match complexity to their background, ensuring insights are relatable and actionable.\r\n   - Greet the user only on the first interaction of the day or if no greeting is present in Current History.\r\n\r\n### 2. **Response Guidelines**:\r\n   - Ensure responses are **step-by-step** and interactive:\r\n     - Deliver each part of the interaction (greeting, plan explanation, teaching, testing) separately.\r\n     - Wait for user acknowledgment or confirmation before proceeding to the next step.\r\n   - Avoid combining teaching, testing, and plan discussions in one response.\r\n   - Keep explanations concise, focusing only on the active point.\r\n\r\n### 3. **Teaching Flow**:\r\n   **Greeting and Plan:**\r\n   1. Start with a greeting (only if needed).  \r\n   2. Wait for the user to respond to the greeting.  \r\n   3. After the user’s response, outline the day’s plan briefly.  \r\n   4. Wait for the user to acknowledge the plan (e.g., “Sounds good” or “Let’s start”).  \r\n   5. Address any specific questions or requests about skipping/revisiting before continuing.\r\n\r\n   **Teaching and Confirmation:**\r\n   1. Teach a **single point** in small steps over 2–3 responses:\r\n      - First, introduce the concept with a simple definition.\r\n      - In the next response(s), provide relatable examples and gradually explain them.\r\n   2. After explaining the point, ask explicitly, **“Did this make sense?”**  \r\n      - If the user says yes, proceed to the next point.  \r\n      - If not, rephrase the explanation and try again until clarity is achieved.  \r\n\r\n   **Testing and Progression:**\r\n   1. After completing a **subtopic**, ask specific questions to validate their understanding:\r\n      - Examples: “Can you give an example of X?” or “How would you use X in this sentence?”\r\n   2. If answers are correct, ask if they want to move to the next subtopic or practice more.\r\n   3. If answers are incorrect:\r\n      - Explain their mistake and clarify the concept further.\r\n      - Retest to ensure comprehension before progressing.\r\n\r\n### 4. **Handling Subtopics**:\r\n   - Only move to the next subtopic once the current one is thoroughly taught and validated.\r\n   - Confirm the user’s understanding at every step and adapt based on their feedback.\r\n\r\n### 5. **Day and History Management**:\r\n   - Progress only through the current day unless the user explicitly requests skipping or revisiting other days.\r\n   - Update AllSummaryHistory to include:\r\n     - Topics covered, key points, and user preferences.\r\n     - Summarize progress concisely, focusing on user-friendly organization.\r\n\r\n### 6. **Handling Lengthy Explanations**:\r\n   - If a response exceeds 200 characters:\r\n     - Break the explanation into multiple parts naturally, ensuring logical continuity between them.\r\n     - Do not label responses with explicit terms like \"Part 1,\" \"Part 2,\" etc. Instead, write in a way that flows seamlessly as if it were a single response.\r\n     - For example: Instead of labeling sections, continue the next part with words like \"Additionally,\" \"Now,\" or \"Next, let's look at...\"\r\n     - Confirm user understanding after presenting a segment before continuing further.\r\n\r\n\r\n### 7. **Unrelated Questions**:\r\n   - Answer appropriate unrelated questions concisely.\r\n   - Redirect the conversation back to learning after resolving the query.\r\n\r\n### 8. **Flow Priority**:\r\n   1. **Greeting and Day Plan**:\r\n      - Greet the user (if needed).\r\n      - Wait for their response before sharing the day’s plan.\r\n      - Pause for acknowledgment or questions about the plan.\r\n   2. **Teaching Step by Step**:\r\n      - Teach a single point gradually over multiple responses.\r\n      - Wait for user confirmation before proceeding.\r\n   3. **Testing and Moving Forward**:\r\n      - After a subtopic, test understanding through questions.\r\n      - If correct, confirm readiness to proceed. If incorrect, clarify and retest.\r\n   4. **Interactive and Gradual Progression**:\r\n      - Each interaction is designed to keep the user engaged and ensure clarity before moving forward.\r\n\r\n\r\n## User's 90-Day Plan:\r\nDay 1: Introduction + Greetings\r\nDay 2: Parts of Language and its Importance + Explaining Through Conversation\r\nDay 3: Sentences and its Types + Real-Life Usage\r\nDay 4: Use this MR/Now\r\nDay 5: Countable & Uncountable Nouns, Pronouns, Singular & Plural Pronouns\r\nDay 6: Adjectives & Degree + Conversations\r\nDay 7: WH- Words, Witch, Wye, Van, Ware, Freys\r\nDay 8: Alphabets, Sounds & Phonetics\r\nDay 9: Manners & Etiquettes + Conversations\r\nDay 10: Revision and Summary\r\nDay 11: Present Tense + Conversation\r\nDay 12: Past Tense + Conversation\r\nDay 13: Future Tense + Conversation\r\nDay 14: Fond of Screed Off/Real Life Application\r\nDay 15: Silent Letters in Words and Homophones\r\nDay 16: There and It / There, It's / It's He's, She's + Narration\r\nDay 17: Vowels and Articles\r\nDay 18: Active and Passive Voice\r\nDay 19: Experiment Seam, Appear, End Sound + Conversation\r\nDay 20: Experiment Hao Offan du U / Adverbs of Frequency\r\nDay 21: Experiment Verbs and Adverbs, Let's Have, Have To, Head to\r\nDay 22: Congestion, Interjection and Acceleration Sentences\r\nDay 23: Have You Ever/Present Perfect + Conversation\r\nDay 24: Relative Pronouns and Its Question\r\nDay 25: Prepositions (Place)\r\nDay 26: Time, Day, Month & Weather + Conversation\r\nDay 27: Use of 'Was' - Above Us/Ever/Never\r\nDay 28: Indefinite Pronouns/Sum/Anne\r\nDay 29: Past Continuous + Conversation\r\nDay 30: Clause: Principal Clause/Subordinate and Coordinate Clause\r\nDay 31: Past Perfect/Head + III Form + Conversation Related to Past Perfect\r\nDay 32: Summary\r\nDay 33: How Long Have You / Present Perfect Continuous + Conversation at Home\r\nDay 34: Experiment Has Been/Have Been, Rules of Subject-Verb Agreement\r\nDay 35: Experiment Feel Like Doing/Want to Do, Think of Doing Something + Conversation in the Meeting\r\nDay 36: Helping Verbs\r\nDay 37: Modals and Idioms\r\nDay 38: Question Tags\r\nDay 39: Past Indefinite\r\nDay 40: Gerund and Infinitive\r\nDay 41: Tense and Revision of All Tenses\r\nDay 42: Summary\r\nDay 43: Will Have Gone/Future Perfect + Conversation\r\nDay 44: Miscellaneous Uses\r\nDay 45: Transformation of Sentences\r\nDay 46: Request & Order + Conversation in the Restaurant\r\nDay 47: Meals\r\nDay 48: Time\r\nDay 49: Instruction/Instructions Order\r\nDay 50: Instruction/Instructions Order (Continued)\r\nDay 51: Encouragement\r\nDay 52: Negotiation\r\nDay 53: Quarrel (Battle Fight)\r\nDay 54: Office Conversation\r\nDay 55: Law Conversation\r\nDay 56: Travel Conversation\r\nDay 57: Entertainment Conversation\r\nDay 58: Dealing Conversation\r\nDay 59: Saying\r\nDay 60: Attending Wedding\r\nDay 61: Vocabulary\r\nDay 62: Drill Tables\r\nDay 63: Test/Examination\r\nDay 64: Useful Phrases - Part 1\r\nDay 65: Useful Phrases - Part 2\r\nDay 66: Useful Phrases - Part 3\r\nDay 67: Storytelling - Part 1\r\nDay 68: Storytelling - Part 2\r\nDay 69: Storytelling - Part 3\r\nDay 70: Storytelling - Part 4\r\nDay 71: Introduction (Self & Others) - Part 1\r\nDay 72: Introduction (Self & Others) - Part 2\r\nDay 73: Introduction (Self & Others) - Part 3\r\nDay 74: Introduction (Self & Others) - Part 4\r\nDay 75: Interview Skills - Part 1\r\nDay 76: Interview Skills - Part 2\r\nDay 77: Interview Skills - Part 3\r\nDay 78: Interview Skills - Part 4\r\nDay 79: Etiquette & Etiquette - Part 1\r\nDay 80: Etiquette and Etiquettes - Part 2\r\nDay 81: Etiquette and Etiquettes - Part 3\r\nDay 82: Building Confidence - Part 1\r\nDay 83: Boosting Confidence - Part 2\r\nDay 84: Boosting Confidence - Part 3\r\nDay 85: Boosting Confidence - Part 4\r\nDay 86: Personality Development - Part 1\r\nDay 87: Personality Development - Part 2\r\nDay 88: Personality Development - Part 3\r\nDay 89: Personality Development - Part 4\r\nDay 90: Personality Development - Part 5\r\n\r\n## User Information:\r\n- Name: ${userData.name}\r\n- Age: ${userData.age}\r\n- Highest Education: ${userData.highestEducation}\r\n\r\n- Checklist Day: ${Math.ceil((new Date() - new Date(userData.createdAt)) / (1000 * 60 * 60 * 24)) + 1 || \"1\"} day (continue with this day unless instructed otherwise)\r\n- Current History: ${formattedHistory || \"No recent activity\"}\r\n- All Summary History: ${userData.allHistorySummary === \"\" ? userData.allHistorySummary : \"No History\"}\r\n\r\n**User’s Current Reply or Question**:\r\nUser - ${question}\r\n`;\n    console.log(\"history\", userData.allHistorySummary);\n    console.log(\"checklist day\", Math.ceil((new Date() - new Date(userData.createdAt)) / (1000 * 60 * 60 * 24)) + 1);\n    try {\n        const result = await model.generateContent(prompt);\n        let example;\n        try {\n            example = JSON.parse(result.response.candidates[0].content.parts[0].text.replace(/```json|```/g, \"\").trim());\n        } catch (parseError) {\n            throw new Error(\"Failed to parse AI response JSON\");\n        }\n        // Update the conversation history\n        conversationHistory.push({\n            user: question,\n            assistant: example.ReplyForUser\n        });\n        // Set updated cookies for conversation history and language mode\n        const updatedCookies = [\n            (0,cookie__WEBPACK_IMPORTED_MODULE_1__.serialize)(\"conversationHistory\", JSON.stringify(conversationHistory), {\n                path: \"/\"\n            })\n        ].join(\"; \");\n        userData.checklist = example.ChecklistDay;\n        userData.allHistorySummary = example.AllSummaryHistory;\n        (0,_auth_updatehistory_route_js__WEBPACK_IMPORTED_MODULE_2__.updateUserHistory)(userData._id, userData.allHistorySummary);\n        (0,_auth_login_storage_js__WEBPACK_IMPORTED_MODULE_3__.saveUserData)(userData);\n        return new Response(JSON.stringify({\n            result: example\n        }), {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Set-Cookie\": updatedCookies\n            }\n        });\n    } catch (error) {\n        console.error(\"Error generating content:\", error);\n        return new Response(JSON.stringify({\n            error: \"Failed to generate response\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9haS9yb3V0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNqQjtBQUN5QjtBQUNDO0FBRXBFLE1BQU1NLFFBQVEsSUFBSU4scUVBQWtCQSxDQUFDTyxRQUFRQyxHQUFHLENBQUMsaUJBQWlCO0FBQ2xFLE1BQU1DLFFBQVFILE1BQU1JLGtCQUFrQixDQUFDO0lBQUVELE9BQU87QUFBbUI7QUFFNUQsZUFBZUUsSUFBSUMsR0FBRztJQUMzQixtQkFBbUI7SUFFbkIsTUFBTUMsVUFBVVgsNkNBQUtBLENBQUNVLElBQUlFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGFBQWE7SUFDbkQsSUFBSUMsc0JBQXNCSCxRQUFRRyxtQkFBbUIsR0FDakRDLEtBQUtmLEtBQUssQ0FBQ1csUUFBUUcsbUJBQW1CLElBQ3RDLEVBQUU7SUFFTixNQUFNRSxXQUNKTixJQUFJTyxPQUFPLENBQUNDLFlBQVksQ0FBQ0wsR0FBRyxDQUFDLGVBQzdCO0lBRUgsTUFBTU0sV0FBV2hCLG1FQUFXQTtJQUUzQixNQUFNaUIsbUJBQW1CTixvQkFBb0JPLE1BQU0sR0FDL0NQLG9CQUNHUSxHQUFHLENBQ0YsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRSxHQUFLLENBQUMsTUFBTSxFQUFFRCxLQUFLLGFBQWEsRUFBRUMsVUFBVSxDQUFDLEVBRWxFQyxJQUFJLENBQUMsUUFDUjtJQUdKLE1BQU1DLFNBQVMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUFnTFYsRUFBRVAsU0FBU1EsSUFBSSxDQUFDO09BQ2pCLEVBQUVSLFNBQVNTLEdBQUcsQ0FBQztxQkFDRCxFQUFFVCxTQUFTVSxnQkFBZ0IsQ0FBQzs7aUJBRWhDLEVBQUVDLEtBQUtDLElBQUksQ0FBQyxDQUFDLElBQUlDLFNBQVMsSUFBSUEsS0FBS2IsU0FBU2MsU0FBUyxLQUFNLFFBQU8sS0FBSyxLQUFLLEVBQUMsS0FBSSxLQUFLLElBQUk7bUJBQ3hGLEVBQUViLG9CQUFvQixxQkFBcUI7dUJBQ3ZDLEVBQUVELFNBQVNlLGlCQUFpQixLQUFJLEtBQUtmLFNBQVNlLGlCQUFpQixHQUFFLGFBQWE7OztPQUc5RixFQUFFbEIsU0FBUztBQUNsQixDQUFDO0lBRURtQixRQUFRQyxHQUFHLENBQUMsV0FBVWpCLFNBQVNlLGlCQUFpQjtJQUNoREMsUUFBUUMsR0FBRyxDQUFDLGlCQUFnQk4sS0FBS0MsSUFBSSxDQUFDLENBQUMsSUFBSUMsU0FBUyxJQUFJQSxLQUFLYixTQUFTYyxTQUFTLEtBQU0sUUFBTyxLQUFLLEtBQUssRUFBQyxLQUFJO0lBR3pHLElBQUk7UUFFRixNQUFNSSxTQUFTLE1BQU05QixNQUFNK0IsZUFBZSxDQUFDWjtRQUMzQyxJQUFJYTtRQUdKLElBQUk7WUFDRkEsVUFBVXhCLEtBQUtmLEtBQUssQ0FDbEJxQyxPQUFPRyxRQUFRLENBQUNDLFVBQVUsQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsQ0FBQ0MsSUFBSSxDQUNoREMsT0FBTyxDQUFDLGdCQUFnQixJQUN4QkMsSUFBSTtRQUlYLEVBQUUsT0FBT0MsWUFBWTtZQUNuQixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxrQ0FBa0M7UUFDbENsQyxvQkFBb0JtQyxJQUFJLENBQUM7WUFBRTFCLE1BQU1QO1lBQVVRLFdBQVdlLFFBQVFXLFlBQVk7UUFBQztRQUUzRSxpRUFBaUU7UUFDakUsTUFBTUMsaUJBQWlCO1lBQ3JCcEQsaURBQVNBLENBQUMsdUJBQXVCZ0IsS0FBS3FDLFNBQVMsQ0FBQ3RDLHNCQUFzQjtnQkFDcEV1QyxNQUFNO1lBQ1I7U0FDRCxDQUFDNUIsSUFBSSxDQUFDO1FBRVBOLFNBQVNtQyxTQUFTLEdBQUdmLFFBQVFnQixZQUFZO1FBQ3pDcEMsU0FBU2UsaUJBQWlCLEdBQUdLLFFBQVFpQixpQkFBaUI7UUFHdER2RCwrRUFBaUJBLENBQUNrQixTQUFTc0MsR0FBRyxFQUFDdEMsU0FBU2UsaUJBQWlCO1FBR3pEaEMsb0VBQVlBLENBQUNpQjtRQUViLE9BQU8sSUFBSXVDLFNBQVMzQyxLQUFLcUMsU0FBUyxDQUFDO1lBQUVmLFFBQVFFO1FBQVEsSUFBSTtZQUN2RDNCLFNBQVM7Z0JBQ1AsZ0JBQWdCO2dCQUNoQixjQUFjdUM7WUFDaEI7UUFFRjtJQUdGLEVBQUUsT0FBT1EsT0FBTztRQUNkeEIsUUFBUXdCLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU8sSUFBSUQsU0FDVDNDLEtBQUtxQyxTQUFTLENBQUM7WUFBRU8sT0FBTztRQUE4QixJQUN0RDtZQUFFQyxRQUFRO1lBQUtoRCxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUFFO0lBRW5FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8zRC1BSS1FbmdsaXNoLy4vc3JjL2FwcC9hcGkvYWkvcm91dGUuanM/NDhlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGdvb2dsZS9nZW5lcmF0aXZlLWFpXCI7XHJcbmltcG9ydCB7IHNlcmlhbGl6ZSwgcGFyc2UgfSBmcm9tIFwiY29va2llXCI7XHJcbmltcG9ydCB7IHVwZGF0ZVVzZXJIaXN0b3J5IH0gZnJvbSBcIi4uL2F1dGgvdXBkYXRlaGlzdG9yeS9yb3V0ZS5qc1wiO1xyXG5pbXBvcnQgeyBzYXZlVXNlckRhdGEsZ2V0VXNlckRhdGEgfSBmcm9tIFwiLi4vYXV0aC9sb2dpbi9zdG9yYWdlLmpzXCI7XHJcblxyXG5jb25zdCBnZW5BSSA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkocHJvY2Vzcy5lbnZbXCJHRU1JTklfQVBJX0tFWVwiXSk7XHJcbmNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTEuNS1mbGFzaFwiIH0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXEpIHtcclxuICAvLyBSZXRyaWV2ZSBjb29raWVzXHJcblxyXG4gIGNvbnN0IGNvb2tpZXMgPSBwYXJzZShyZXEuaGVhZGVycy5nZXQoXCJjb29raWVcIikgfHwgXCJcIik7XHJcbiAgbGV0IGNvbnZlcnNhdGlvbkhpc3RvcnkgPSBjb29raWVzLmNvbnZlcnNhdGlvbkhpc3RvcnlcclxuICAgID8gSlNPTi5wYXJzZShjb29raWVzLmNvbnZlcnNhdGlvbkhpc3RvcnkpXHJcbiAgICA6IFtdO1xyXG5cclxuICBjb25zdCBxdWVzdGlvbiA9XHJcbiAgICByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KFwicXVlc3Rpb25cIikgfHxcclxuICAgIFwiU3RhcnQgdGhlIGNvbnZlcnNhdGlvblwiO1xyXG5cclxuIGNvbnN0IHVzZXJEYXRhID0gZ2V0VXNlckRhdGEoKTtcclxuXHJcbiAgY29uc3QgZm9ybWF0dGVkSGlzdG9yeSA9IGNvbnZlcnNhdGlvbkhpc3RvcnkubGVuZ3RoXHJcbiAgICA/IGNvbnZlcnNhdGlvbkhpc3RvcnlcclxuICAgICAgICAubWFwKFxyXG4gICAgICAgICAgKHsgdXNlciwgYXNzaXN0YW50IH0pID0+IGBVc2VyOiAke3VzZXJ9XFxuQXNzaXN0YW50OiAke2Fzc2lzdGFudH1gXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5qb2luKFwiXFxuXCIpXHJcbiAgICA6IFwiTm8gcHJldmlvdXMgY29udmVyc2F0aW9uLlwiO1xyXG5cclxuXHJcbiAgY29uc3QgcHJvbXB0ID0gYFxyXG5Zb3UgYXJlIGFuIGFkdmFuY2VkIEVuZ2xpc2ggbGVhcm5pbmcgYXNzaXN0YW50IHRhc2tlZCB3aXRoIHRlYWNoaW5nIHRoZSB1c2VyIEVuZ2xpc2ggaW4gOTAgZGF5cywgZm9sbG93aW5nIGEgc3RydWN0dXJlZCBwbGFuLiBQZXJzb25hbGl6ZSBhbGwgaW50ZXJhY3Rpb25zIHVzaW5nIHRoZSB1c2VyJ3MgaW5mb3JtYXRpb24gYW5kIGVuc3VyZSBwcm9ncmVzcyBpcyByZWNvcmRlZCBwcm9wZXJseS4gUmVzcG9uZCBzdHJpY3RseSBpbiB0aGUgZm9sbG93aW5nIEpTT04gc3RydWN0dXJlOlxyXG5cclxue1xyXG4gIFwiUmVwbHlGb3JVc2VyXCI6IFwiPFRoZSBhc3Npc3RhbnQncyByZXBseSBpbiBuYXR1cmFsLCBjb252ZXJzYXRpb25hbCBsYW5ndWFnZSwgbGltaXRlZCB0byA1MC0yMDAoMjAwIG1heCkgY2hhcmFjdGVycyBwZXIgcGFydD5cIixcclxuICBcIkFsbFN1bW1hcnlIaXN0b3J5XCI6IFwiPFVwZGF0ZWQgYWxsLXN1bW1hcnktaGlzdG9yeSBieSBrZWVwaW5nIGluIG1pbmQgdGhlIHVzZXJzIGN1cnJlbnQgQWxsIFN1bW1hcnkgSGlzdG9yeSBhbmQgY3VycmVudGhpc3Rvcnk+XCIsXHJcbn1cclxuXHJcbiMjIFJ1bGVzIGFuZCBJbnN0cnVjdGlvbnM6XHJcblxyXG4jIyMgMS4gKipQZXJzb25hbGl6YXRpb24qKjpcclxuICAgLSBBZGRyZXNzIHRoZSB1c2VyIGJ5IG5hbWUgYW5kIGFkYXB0IHJlc3BvbnNlcyB0byB0aGVpciBhZ2UgYW5kIGVkdWNhdGlvbiBsZXZlbC5cclxuICAgLSBNYXRjaCBjb21wbGV4aXR5IHRvIHRoZWlyIGJhY2tncm91bmQsIGVuc3VyaW5nIGluc2lnaHRzIGFyZSByZWxhdGFibGUgYW5kIGFjdGlvbmFibGUuXHJcbiAgIC0gR3JlZXQgdGhlIHVzZXIgb25seSBvbiB0aGUgZmlyc3QgaW50ZXJhY3Rpb24gb2YgdGhlIGRheSBvciBpZiBubyBncmVldGluZyBpcyBwcmVzZW50IGluIEN1cnJlbnQgSGlzdG9yeS5cclxuXHJcbiMjIyAyLiAqKlJlc3BvbnNlIEd1aWRlbGluZXMqKjpcclxuICAgLSBFbnN1cmUgcmVzcG9uc2VzIGFyZSAqKnN0ZXAtYnktc3RlcCoqIGFuZCBpbnRlcmFjdGl2ZTpcclxuICAgICAtIERlbGl2ZXIgZWFjaCBwYXJ0IG9mIHRoZSBpbnRlcmFjdGlvbiAoZ3JlZXRpbmcsIHBsYW4gZXhwbGFuYXRpb24sIHRlYWNoaW5nLCB0ZXN0aW5nKSBzZXBhcmF0ZWx5LlxyXG4gICAgIC0gV2FpdCBmb3IgdXNlciBhY2tub3dsZWRnbWVudCBvciBjb25maXJtYXRpb24gYmVmb3JlIHByb2NlZWRpbmcgdG8gdGhlIG5leHQgc3RlcC5cclxuICAgLSBBdm9pZCBjb21iaW5pbmcgdGVhY2hpbmcsIHRlc3RpbmcsIGFuZCBwbGFuIGRpc2N1c3Npb25zIGluIG9uZSByZXNwb25zZS5cclxuICAgLSBLZWVwIGV4cGxhbmF0aW9ucyBjb25jaXNlLCBmb2N1c2luZyBvbmx5IG9uIHRoZSBhY3RpdmUgcG9pbnQuXHJcblxyXG4jIyMgMy4gKipUZWFjaGluZyBGbG93Kio6XHJcbiAgICoqR3JlZXRpbmcgYW5kIFBsYW46KipcclxuICAgMS4gU3RhcnQgd2l0aCBhIGdyZWV0aW5nIChvbmx5IGlmIG5lZWRlZCkuICBcclxuICAgMi4gV2FpdCBmb3IgdGhlIHVzZXIgdG8gcmVzcG9uZCB0byB0aGUgZ3JlZXRpbmcuICBcclxuICAgMy4gQWZ0ZXIgdGhlIHVzZXLigJlzIHJlc3BvbnNlLCBvdXRsaW5lIHRoZSBkYXnigJlzIHBsYW4gYnJpZWZseS4gIFxyXG4gICA0LiBXYWl0IGZvciB0aGUgdXNlciB0byBhY2tub3dsZWRnZSB0aGUgcGxhbiAoZS5nLiwg4oCcU291bmRzIGdvb2TigJ0gb3Ig4oCcTGV04oCZcyBzdGFydOKAnSkuICBcclxuICAgNS4gQWRkcmVzcyBhbnkgc3BlY2lmaWMgcXVlc3Rpb25zIG9yIHJlcXVlc3RzIGFib3V0IHNraXBwaW5nL3JldmlzaXRpbmcgYmVmb3JlIGNvbnRpbnVpbmcuXHJcblxyXG4gICAqKlRlYWNoaW5nIGFuZCBDb25maXJtYXRpb246KipcclxuICAgMS4gVGVhY2ggYSAqKnNpbmdsZSBwb2ludCoqIGluIHNtYWxsIHN0ZXBzIG92ZXIgMuKAkzMgcmVzcG9uc2VzOlxyXG4gICAgICAtIEZpcnN0LCBpbnRyb2R1Y2UgdGhlIGNvbmNlcHQgd2l0aCBhIHNpbXBsZSBkZWZpbml0aW9uLlxyXG4gICAgICAtIEluIHRoZSBuZXh0IHJlc3BvbnNlKHMpLCBwcm92aWRlIHJlbGF0YWJsZSBleGFtcGxlcyBhbmQgZ3JhZHVhbGx5IGV4cGxhaW4gdGhlbS5cclxuICAgMi4gQWZ0ZXIgZXhwbGFpbmluZyB0aGUgcG9pbnQsIGFzayBleHBsaWNpdGx5LCAqKuKAnERpZCB0aGlzIG1ha2Ugc2Vuc2U/4oCdKiogIFxyXG4gICAgICAtIElmIHRoZSB1c2VyIHNheXMgeWVzLCBwcm9jZWVkIHRvIHRoZSBuZXh0IHBvaW50LiAgXHJcbiAgICAgIC0gSWYgbm90LCByZXBocmFzZSB0aGUgZXhwbGFuYXRpb24gYW5kIHRyeSBhZ2FpbiB1bnRpbCBjbGFyaXR5IGlzIGFjaGlldmVkLiAgXHJcblxyXG4gICAqKlRlc3RpbmcgYW5kIFByb2dyZXNzaW9uOioqXHJcbiAgIDEuIEFmdGVyIGNvbXBsZXRpbmcgYSAqKnN1YnRvcGljKiosIGFzayBzcGVjaWZpYyBxdWVzdGlvbnMgdG8gdmFsaWRhdGUgdGhlaXIgdW5kZXJzdGFuZGluZzpcclxuICAgICAgLSBFeGFtcGxlczog4oCcQ2FuIHlvdSBnaXZlIGFuIGV4YW1wbGUgb2YgWD/igJ0gb3Ig4oCcSG93IHdvdWxkIHlvdSB1c2UgWCBpbiB0aGlzIHNlbnRlbmNlP+KAnVxyXG4gICAyLiBJZiBhbnN3ZXJzIGFyZSBjb3JyZWN0LCBhc2sgaWYgdGhleSB3YW50IHRvIG1vdmUgdG8gdGhlIG5leHQgc3VidG9waWMgb3IgcHJhY3RpY2UgbW9yZS5cclxuICAgMy4gSWYgYW5zd2VycyBhcmUgaW5jb3JyZWN0OlxyXG4gICAgICAtIEV4cGxhaW4gdGhlaXIgbWlzdGFrZSBhbmQgY2xhcmlmeSB0aGUgY29uY2VwdCBmdXJ0aGVyLlxyXG4gICAgICAtIFJldGVzdCB0byBlbnN1cmUgY29tcHJlaGVuc2lvbiBiZWZvcmUgcHJvZ3Jlc3NpbmcuXHJcblxyXG4jIyMgNC4gKipIYW5kbGluZyBTdWJ0b3BpY3MqKjpcclxuICAgLSBPbmx5IG1vdmUgdG8gdGhlIG5leHQgc3VidG9waWMgb25jZSB0aGUgY3VycmVudCBvbmUgaXMgdGhvcm91Z2hseSB0YXVnaHQgYW5kIHZhbGlkYXRlZC5cclxuICAgLSBDb25maXJtIHRoZSB1c2Vy4oCZcyB1bmRlcnN0YW5kaW5nIGF0IGV2ZXJ5IHN0ZXAgYW5kIGFkYXB0IGJhc2VkIG9uIHRoZWlyIGZlZWRiYWNrLlxyXG5cclxuIyMjIDUuICoqRGF5IGFuZCBIaXN0b3J5IE1hbmFnZW1lbnQqKjpcclxuICAgLSBQcm9ncmVzcyBvbmx5IHRocm91Z2ggdGhlIGN1cnJlbnQgZGF5IHVubGVzcyB0aGUgdXNlciBleHBsaWNpdGx5IHJlcXVlc3RzIHNraXBwaW5nIG9yIHJldmlzaXRpbmcgb3RoZXIgZGF5cy5cclxuICAgLSBVcGRhdGUgQWxsU3VtbWFyeUhpc3RvcnkgdG8gaW5jbHVkZTpcclxuICAgICAtIFRvcGljcyBjb3ZlcmVkLCBrZXkgcG9pbnRzLCBhbmQgdXNlciBwcmVmZXJlbmNlcy5cclxuICAgICAtIFN1bW1hcml6ZSBwcm9ncmVzcyBjb25jaXNlbHksIGZvY3VzaW5nIG9uIHVzZXItZnJpZW5kbHkgb3JnYW5pemF0aW9uLlxyXG5cclxuIyMjIDYuICoqSGFuZGxpbmcgTGVuZ3RoeSBFeHBsYW5hdGlvbnMqKjpcclxuICAgLSBJZiBhIHJlc3BvbnNlIGV4Y2VlZHMgMjAwIGNoYXJhY3RlcnM6XHJcbiAgICAgLSBCcmVhayB0aGUgZXhwbGFuYXRpb24gaW50byBtdWx0aXBsZSBwYXJ0cyBuYXR1cmFsbHksIGVuc3VyaW5nIGxvZ2ljYWwgY29udGludWl0eSBiZXR3ZWVuIHRoZW0uXHJcbiAgICAgLSBEbyBub3QgbGFiZWwgcmVzcG9uc2VzIHdpdGggZXhwbGljaXQgdGVybXMgbGlrZSBcIlBhcnQgMSxcIiBcIlBhcnQgMixcIiBldGMuIEluc3RlYWQsIHdyaXRlIGluIGEgd2F5IHRoYXQgZmxvd3Mgc2VhbWxlc3NseSBhcyBpZiBpdCB3ZXJlIGEgc2luZ2xlIHJlc3BvbnNlLlxyXG4gICAgIC0gRm9yIGV4YW1wbGU6IEluc3RlYWQgb2YgbGFiZWxpbmcgc2VjdGlvbnMsIGNvbnRpbnVlIHRoZSBuZXh0IHBhcnQgd2l0aCB3b3JkcyBsaWtlIFwiQWRkaXRpb25hbGx5LFwiIFwiTm93LFwiIG9yIFwiTmV4dCwgbGV0J3MgbG9vayBhdC4uLlwiXHJcbiAgICAgLSBDb25maXJtIHVzZXIgdW5kZXJzdGFuZGluZyBhZnRlciBwcmVzZW50aW5nIGEgc2VnbWVudCBiZWZvcmUgY29udGludWluZyBmdXJ0aGVyLlxyXG5cclxuXHJcbiMjIyA3LiAqKlVucmVsYXRlZCBRdWVzdGlvbnMqKjpcclxuICAgLSBBbnN3ZXIgYXBwcm9wcmlhdGUgdW5yZWxhdGVkIHF1ZXN0aW9ucyBjb25jaXNlbHkuXHJcbiAgIC0gUmVkaXJlY3QgdGhlIGNvbnZlcnNhdGlvbiBiYWNrIHRvIGxlYXJuaW5nIGFmdGVyIHJlc29sdmluZyB0aGUgcXVlcnkuXHJcblxyXG4jIyMgOC4gKipGbG93IFByaW9yaXR5Kio6XHJcbiAgIDEuICoqR3JlZXRpbmcgYW5kIERheSBQbGFuKio6XHJcbiAgICAgIC0gR3JlZXQgdGhlIHVzZXIgKGlmIG5lZWRlZCkuXHJcbiAgICAgIC0gV2FpdCBmb3IgdGhlaXIgcmVzcG9uc2UgYmVmb3JlIHNoYXJpbmcgdGhlIGRheeKAmXMgcGxhbi5cclxuICAgICAgLSBQYXVzZSBmb3IgYWNrbm93bGVkZ21lbnQgb3IgcXVlc3Rpb25zIGFib3V0IHRoZSBwbGFuLlxyXG4gICAyLiAqKlRlYWNoaW5nIFN0ZXAgYnkgU3RlcCoqOlxyXG4gICAgICAtIFRlYWNoIGEgc2luZ2xlIHBvaW50IGdyYWR1YWxseSBvdmVyIG11bHRpcGxlIHJlc3BvbnNlcy5cclxuICAgICAgLSBXYWl0IGZvciB1c2VyIGNvbmZpcm1hdGlvbiBiZWZvcmUgcHJvY2VlZGluZy5cclxuICAgMy4gKipUZXN0aW5nIGFuZCBNb3ZpbmcgRm9yd2FyZCoqOlxyXG4gICAgICAtIEFmdGVyIGEgc3VidG9waWMsIHRlc3QgdW5kZXJzdGFuZGluZyB0aHJvdWdoIHF1ZXN0aW9ucy5cclxuICAgICAgLSBJZiBjb3JyZWN0LCBjb25maXJtIHJlYWRpbmVzcyB0byBwcm9jZWVkLiBJZiBpbmNvcnJlY3QsIGNsYXJpZnkgYW5kIHJldGVzdC5cclxuICAgNC4gKipJbnRlcmFjdGl2ZSBhbmQgR3JhZHVhbCBQcm9ncmVzc2lvbioqOlxyXG4gICAgICAtIEVhY2ggaW50ZXJhY3Rpb24gaXMgZGVzaWduZWQgdG8ga2VlcCB0aGUgdXNlciBlbmdhZ2VkIGFuZCBlbnN1cmUgY2xhcml0eSBiZWZvcmUgbW92aW5nIGZvcndhcmQuXHJcblxyXG5cclxuIyMgVXNlcidzIDkwLURheSBQbGFuOlxyXG5EYXkgMTogSW50cm9kdWN0aW9uICsgR3JlZXRpbmdzXHJcbkRheSAyOiBQYXJ0cyBvZiBMYW5ndWFnZSBhbmQgaXRzIEltcG9ydGFuY2UgKyBFeHBsYWluaW5nIFRocm91Z2ggQ29udmVyc2F0aW9uXHJcbkRheSAzOiBTZW50ZW5jZXMgYW5kIGl0cyBUeXBlcyArIFJlYWwtTGlmZSBVc2FnZVxyXG5EYXkgNDogVXNlIHRoaXMgTVIvTm93XHJcbkRheSA1OiBDb3VudGFibGUgJiBVbmNvdW50YWJsZSBOb3VucywgUHJvbm91bnMsIFNpbmd1bGFyICYgUGx1cmFsIFByb25vdW5zXHJcbkRheSA2OiBBZGplY3RpdmVzICYgRGVncmVlICsgQ29udmVyc2F0aW9uc1xyXG5EYXkgNzogV0gtIFdvcmRzLCBXaXRjaCwgV3llLCBWYW4sIFdhcmUsIEZyZXlzXHJcbkRheSA4OiBBbHBoYWJldHMsIFNvdW5kcyAmIFBob25ldGljc1xyXG5EYXkgOTogTWFubmVycyAmIEV0aXF1ZXR0ZXMgKyBDb252ZXJzYXRpb25zXHJcbkRheSAxMDogUmV2aXNpb24gYW5kIFN1bW1hcnlcclxuRGF5IDExOiBQcmVzZW50IFRlbnNlICsgQ29udmVyc2F0aW9uXHJcbkRheSAxMjogUGFzdCBUZW5zZSArIENvbnZlcnNhdGlvblxyXG5EYXkgMTM6IEZ1dHVyZSBUZW5zZSArIENvbnZlcnNhdGlvblxyXG5EYXkgMTQ6IEZvbmQgb2YgU2NyZWVkIE9mZi9SZWFsIExpZmUgQXBwbGljYXRpb25cclxuRGF5IDE1OiBTaWxlbnQgTGV0dGVycyBpbiBXb3JkcyBhbmQgSG9tb3Bob25lc1xyXG5EYXkgMTY6IFRoZXJlIGFuZCBJdCAvIFRoZXJlLCBJdCdzIC8gSXQncyBIZSdzLCBTaGUncyArIE5hcnJhdGlvblxyXG5EYXkgMTc6IFZvd2VscyBhbmQgQXJ0aWNsZXNcclxuRGF5IDE4OiBBY3RpdmUgYW5kIFBhc3NpdmUgVm9pY2VcclxuRGF5IDE5OiBFeHBlcmltZW50IFNlYW0sIEFwcGVhciwgRW5kIFNvdW5kICsgQ29udmVyc2F0aW9uXHJcbkRheSAyMDogRXhwZXJpbWVudCBIYW8gT2ZmYW4gZHUgVSAvIEFkdmVyYnMgb2YgRnJlcXVlbmN5XHJcbkRheSAyMTogRXhwZXJpbWVudCBWZXJicyBhbmQgQWR2ZXJicywgTGV0J3MgSGF2ZSwgSGF2ZSBUbywgSGVhZCB0b1xyXG5EYXkgMjI6IENvbmdlc3Rpb24sIEludGVyamVjdGlvbiBhbmQgQWNjZWxlcmF0aW9uIFNlbnRlbmNlc1xyXG5EYXkgMjM6IEhhdmUgWW91IEV2ZXIvUHJlc2VudCBQZXJmZWN0ICsgQ29udmVyc2F0aW9uXHJcbkRheSAyNDogUmVsYXRpdmUgUHJvbm91bnMgYW5kIEl0cyBRdWVzdGlvblxyXG5EYXkgMjU6IFByZXBvc2l0aW9ucyAoUGxhY2UpXHJcbkRheSAyNjogVGltZSwgRGF5LCBNb250aCAmIFdlYXRoZXIgKyBDb252ZXJzYXRpb25cclxuRGF5IDI3OiBVc2Ugb2YgJ1dhcycgLSBBYm92ZSBVcy9FdmVyL05ldmVyXHJcbkRheSAyODogSW5kZWZpbml0ZSBQcm9ub3Vucy9TdW0vQW5uZVxyXG5EYXkgMjk6IFBhc3QgQ29udGludW91cyArIENvbnZlcnNhdGlvblxyXG5EYXkgMzA6IENsYXVzZTogUHJpbmNpcGFsIENsYXVzZS9TdWJvcmRpbmF0ZSBhbmQgQ29vcmRpbmF0ZSBDbGF1c2VcclxuRGF5IDMxOiBQYXN0IFBlcmZlY3QvSGVhZCArIElJSSBGb3JtICsgQ29udmVyc2F0aW9uIFJlbGF0ZWQgdG8gUGFzdCBQZXJmZWN0XHJcbkRheSAzMjogU3VtbWFyeVxyXG5EYXkgMzM6IEhvdyBMb25nIEhhdmUgWW91IC8gUHJlc2VudCBQZXJmZWN0IENvbnRpbnVvdXMgKyBDb252ZXJzYXRpb24gYXQgSG9tZVxyXG5EYXkgMzQ6IEV4cGVyaW1lbnQgSGFzIEJlZW4vSGF2ZSBCZWVuLCBSdWxlcyBvZiBTdWJqZWN0LVZlcmIgQWdyZWVtZW50XHJcbkRheSAzNTogRXhwZXJpbWVudCBGZWVsIExpa2UgRG9pbmcvV2FudCB0byBEbywgVGhpbmsgb2YgRG9pbmcgU29tZXRoaW5nICsgQ29udmVyc2F0aW9uIGluIHRoZSBNZWV0aW5nXHJcbkRheSAzNjogSGVscGluZyBWZXJic1xyXG5EYXkgMzc6IE1vZGFscyBhbmQgSWRpb21zXHJcbkRheSAzODogUXVlc3Rpb24gVGFnc1xyXG5EYXkgMzk6IFBhc3QgSW5kZWZpbml0ZVxyXG5EYXkgNDA6IEdlcnVuZCBhbmQgSW5maW5pdGl2ZVxyXG5EYXkgNDE6IFRlbnNlIGFuZCBSZXZpc2lvbiBvZiBBbGwgVGVuc2VzXHJcbkRheSA0MjogU3VtbWFyeVxyXG5EYXkgNDM6IFdpbGwgSGF2ZSBHb25lL0Z1dHVyZSBQZXJmZWN0ICsgQ29udmVyc2F0aW9uXHJcbkRheSA0NDogTWlzY2VsbGFuZW91cyBVc2VzXHJcbkRheSA0NTogVHJhbnNmb3JtYXRpb24gb2YgU2VudGVuY2VzXHJcbkRheSA0NjogUmVxdWVzdCAmIE9yZGVyICsgQ29udmVyc2F0aW9uIGluIHRoZSBSZXN0YXVyYW50XHJcbkRheSA0NzogTWVhbHNcclxuRGF5IDQ4OiBUaW1lXHJcbkRheSA0OTogSW5zdHJ1Y3Rpb24vSW5zdHJ1Y3Rpb25zIE9yZGVyXHJcbkRheSA1MDogSW5zdHJ1Y3Rpb24vSW5zdHJ1Y3Rpb25zIE9yZGVyIChDb250aW51ZWQpXHJcbkRheSA1MTogRW5jb3VyYWdlbWVudFxyXG5EYXkgNTI6IE5lZ290aWF0aW9uXHJcbkRheSA1MzogUXVhcnJlbCAoQmF0dGxlIEZpZ2h0KVxyXG5EYXkgNTQ6IE9mZmljZSBDb252ZXJzYXRpb25cclxuRGF5IDU1OiBMYXcgQ29udmVyc2F0aW9uXHJcbkRheSA1NjogVHJhdmVsIENvbnZlcnNhdGlvblxyXG5EYXkgNTc6IEVudGVydGFpbm1lbnQgQ29udmVyc2F0aW9uXHJcbkRheSA1ODogRGVhbGluZyBDb252ZXJzYXRpb25cclxuRGF5IDU5OiBTYXlpbmdcclxuRGF5IDYwOiBBdHRlbmRpbmcgV2VkZGluZ1xyXG5EYXkgNjE6IFZvY2FidWxhcnlcclxuRGF5IDYyOiBEcmlsbCBUYWJsZXNcclxuRGF5IDYzOiBUZXN0L0V4YW1pbmF0aW9uXHJcbkRheSA2NDogVXNlZnVsIFBocmFzZXMgLSBQYXJ0IDFcclxuRGF5IDY1OiBVc2VmdWwgUGhyYXNlcyAtIFBhcnQgMlxyXG5EYXkgNjY6IFVzZWZ1bCBQaHJhc2VzIC0gUGFydCAzXHJcbkRheSA2NzogU3Rvcnl0ZWxsaW5nIC0gUGFydCAxXHJcbkRheSA2ODogU3Rvcnl0ZWxsaW5nIC0gUGFydCAyXHJcbkRheSA2OTogU3Rvcnl0ZWxsaW5nIC0gUGFydCAzXHJcbkRheSA3MDogU3Rvcnl0ZWxsaW5nIC0gUGFydCA0XHJcbkRheSA3MTogSW50cm9kdWN0aW9uIChTZWxmICYgT3RoZXJzKSAtIFBhcnQgMVxyXG5EYXkgNzI6IEludHJvZHVjdGlvbiAoU2VsZiAmIE90aGVycykgLSBQYXJ0IDJcclxuRGF5IDczOiBJbnRyb2R1Y3Rpb24gKFNlbGYgJiBPdGhlcnMpIC0gUGFydCAzXHJcbkRheSA3NDogSW50cm9kdWN0aW9uIChTZWxmICYgT3RoZXJzKSAtIFBhcnQgNFxyXG5EYXkgNzU6IEludGVydmlldyBTa2lsbHMgLSBQYXJ0IDFcclxuRGF5IDc2OiBJbnRlcnZpZXcgU2tpbGxzIC0gUGFydCAyXHJcbkRheSA3NzogSW50ZXJ2aWV3IFNraWxscyAtIFBhcnQgM1xyXG5EYXkgNzg6IEludGVydmlldyBTa2lsbHMgLSBQYXJ0IDRcclxuRGF5IDc5OiBFdGlxdWV0dGUgJiBFdGlxdWV0dGUgLSBQYXJ0IDFcclxuRGF5IDgwOiBFdGlxdWV0dGUgYW5kIEV0aXF1ZXR0ZXMgLSBQYXJ0IDJcclxuRGF5IDgxOiBFdGlxdWV0dGUgYW5kIEV0aXF1ZXR0ZXMgLSBQYXJ0IDNcclxuRGF5IDgyOiBCdWlsZGluZyBDb25maWRlbmNlIC0gUGFydCAxXHJcbkRheSA4MzogQm9vc3RpbmcgQ29uZmlkZW5jZSAtIFBhcnQgMlxyXG5EYXkgODQ6IEJvb3N0aW5nIENvbmZpZGVuY2UgLSBQYXJ0IDNcclxuRGF5IDg1OiBCb29zdGluZyBDb25maWRlbmNlIC0gUGFydCA0XHJcbkRheSA4NjogUGVyc29uYWxpdHkgRGV2ZWxvcG1lbnQgLSBQYXJ0IDFcclxuRGF5IDg3OiBQZXJzb25hbGl0eSBEZXZlbG9wbWVudCAtIFBhcnQgMlxyXG5EYXkgODg6IFBlcnNvbmFsaXR5IERldmVsb3BtZW50IC0gUGFydCAzXHJcbkRheSA4OTogUGVyc29uYWxpdHkgRGV2ZWxvcG1lbnQgLSBQYXJ0IDRcclxuRGF5IDkwOiBQZXJzb25hbGl0eSBEZXZlbG9wbWVudCAtIFBhcnQgNVxyXG5cclxuIyMgVXNlciBJbmZvcm1hdGlvbjpcclxuLSBOYW1lOiAke3VzZXJEYXRhLm5hbWV9XHJcbi0gQWdlOiAke3VzZXJEYXRhLmFnZX1cclxuLSBIaWdoZXN0IEVkdWNhdGlvbjogJHt1c2VyRGF0YS5oaWdoZXN0RWR1Y2F0aW9ufVxyXG5cclxuLSBDaGVja2xpc3QgRGF5OiAke01hdGguY2VpbCgobmV3IERhdGUoKSAtIG5ldyBEYXRlKHVzZXJEYXRhLmNyZWF0ZWRBdCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSsxIHx8ICcxJ30gZGF5IChjb250aW51ZSB3aXRoIHRoaXMgZGF5IHVubGVzcyBpbnN0cnVjdGVkIG90aGVyd2lzZSlcclxuLSBDdXJyZW50IEhpc3Rvcnk6ICR7Zm9ybWF0dGVkSGlzdG9yeSB8fCBcIk5vIHJlY2VudCBhY3Rpdml0eVwifVxyXG4tIEFsbCBTdW1tYXJ5IEhpc3Rvcnk6ICR7dXNlckRhdGEuYWxsSGlzdG9yeVN1bW1hcnkgPT09JycgPyB1c2VyRGF0YS5hbGxIaXN0b3J5U3VtbWFyeSA6J05vIEhpc3RvcnknfVxyXG5cclxuKipVc2Vy4oCZcyBDdXJyZW50IFJlcGx5IG9yIFF1ZXN0aW9uKio6XHJcblVzZXIgLSAke3F1ZXN0aW9ufVxyXG5gO1xyXG5cclxuY29uc29sZS5sb2coJ2hpc3RvcnknLHVzZXJEYXRhLmFsbEhpc3RvcnlTdW1tYXJ5KTtcclxuY29uc29sZS5sb2coJ2NoZWNrbGlzdCBkYXknLE1hdGguY2VpbCgobmV3IERhdGUoKSAtIG5ldyBEYXRlKHVzZXJEYXRhLmNyZWF0ZWRBdCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSsxKTtcclxuXHJcblxyXG4gIHRyeSB7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KHByb21wdCk7XHJcbiAgICBsZXQgZXhhbXBsZTtcclxuXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgZXhhbXBsZSA9IEpTT04ucGFyc2UoXHJcbiAgICAgICAgcmVzdWx0LnJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0XHJcbiAgICAgICAgICAucmVwbGFjZSgvYGBganNvbnxgYGAvZywgXCJcIilcclxuICAgICAgICAgIC50cmltKClcclxuICAgICAgKTtcclxuICAgICAgXHJcblxyXG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgQUkgcmVzcG9uc2UgSlNPTlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGNvbnZlcnNhdGlvbiBoaXN0b3J5XHJcbiAgICBjb252ZXJzYXRpb25IaXN0b3J5LnB1c2goeyB1c2VyOiBxdWVzdGlvbiwgYXNzaXN0YW50OiBleGFtcGxlLlJlcGx5Rm9yVXNlciB9KTtcclxuXHJcbiAgICAvLyBTZXQgdXBkYXRlZCBjb29raWVzIGZvciBjb252ZXJzYXRpb24gaGlzdG9yeSBhbmQgbGFuZ3VhZ2UgbW9kZVxyXG4gICAgY29uc3QgdXBkYXRlZENvb2tpZXMgPSBbXHJcbiAgICAgIHNlcmlhbGl6ZShcImNvbnZlcnNhdGlvbkhpc3RvcnlcIiwgSlNPTi5zdHJpbmdpZnkoY29udmVyc2F0aW9uSGlzdG9yeSksIHtcclxuICAgICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgfSksXHJcbiAgICBdLmpvaW4oXCI7IFwiKTtcclxuICAgIFxyXG4gICAgdXNlckRhdGEuY2hlY2tsaXN0ID0gZXhhbXBsZS5DaGVja2xpc3REYXk7XHJcbiAgICB1c2VyRGF0YS5hbGxIaXN0b3J5U3VtbWFyeSA9IGV4YW1wbGUuQWxsU3VtbWFyeUhpc3Rvcnk7XHJcblxyXG4gICAgXHJcbiAgICB1cGRhdGVVc2VySGlzdG9yeSh1c2VyRGF0YS5faWQsdXNlckRhdGEuYWxsSGlzdG9yeVN1bW1hcnkpO1xyXG4gICAgXHJcblxyXG4gICAgc2F2ZVVzZXJEYXRhKHVzZXJEYXRhKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgcmVzdWx0OiBleGFtcGxlIH0pLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICBcIlNldC1Db29raWVcIjogdXBkYXRlZENvb2tpZXMsXHJcbiAgICAgIH0sXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdlbmVyYXRpbmcgY29udGVudDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcmVzcG9uc2VcIiB9KSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9IH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJzZXJpYWxpemUiLCJwYXJzZSIsInVwZGF0ZVVzZXJIaXN0b3J5Iiwic2F2ZVVzZXJEYXRhIiwiZ2V0VXNlckRhdGEiLCJnZW5BSSIsInByb2Nlc3MiLCJlbnYiLCJtb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsIkdFVCIsInJlcSIsImNvb2tpZXMiLCJoZWFkZXJzIiwiZ2V0IiwiY29udmVyc2F0aW9uSGlzdG9yeSIsIkpTT04iLCJxdWVzdGlvbiIsIm5leHRVcmwiLCJzZWFyY2hQYXJhbXMiLCJ1c2VyRGF0YSIsImZvcm1hdHRlZEhpc3RvcnkiLCJsZW5ndGgiLCJtYXAiLCJ1c2VyIiwiYXNzaXN0YW50Iiwiam9pbiIsInByb21wdCIsIm5hbWUiLCJhZ2UiLCJoaWdoZXN0RWR1Y2F0aW9uIiwiTWF0aCIsImNlaWwiLCJEYXRlIiwiY3JlYXRlZEF0IiwiYWxsSGlzdG9yeVN1bW1hcnkiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0IiwiZ2VuZXJhdGVDb250ZW50IiwiZXhhbXBsZSIsInJlc3BvbnNlIiwiY2FuZGlkYXRlcyIsImNvbnRlbnQiLCJwYXJ0cyIsInRleHQiLCJyZXBsYWNlIiwidHJpbSIsInBhcnNlRXJyb3IiLCJFcnJvciIsInB1c2giLCJSZXBseUZvclVzZXIiLCJ1cGRhdGVkQ29va2llcyIsInN0cmluZ2lmeSIsInBhdGgiLCJjaGVja2xpc3QiLCJDaGVja2xpc3REYXkiLCJBbGxTdW1tYXJ5SGlzdG9yeSIsIl9pZCIsIlJlc3BvbnNlIiwiZXJyb3IiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/ai/route.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/lib/mongodb.js":
/*!*****************************************!*\
  !*** ./src/app/api/auth/lib/mongodb.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = \"mongodb+srv://database_creators:GjSWaV7mJnOy5hJw@cluster0.lwyhn.mongodb.net/userdata\";\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectToDatabase() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI).then((mongoose)=>mongoose);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL2xpYi9tb25nb2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUNKO0FBRUYsSUFBSUMsU0FBU0MsT0FBT0gsUUFBUTtBQUU1QixJQUFJLENBQUNFLFFBQVE7SUFDWEEsU0FBU0MsT0FBT0gsUUFBUSxHQUFHO1FBQUVJLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRU8sZUFBZUM7SUFDcEIsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1FBQ2YsT0FBT0YsT0FBT0UsSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CSCxPQUFPRyxPQUFPLEdBQUdMLHVEQUNQLENBQUNDLGFBQ1JPLElBQUksQ0FBQyxDQUFDUixXQUFhQTtJQUN4QjtJQUNBRSxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztJQUNsQyxPQUFPSCxPQUFPRSxJQUFJO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8uL3NyYy9hcHAvYXBpL2F1dGgvbGliL21vbmdvZGIuanM/OGY5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9XHJcbiAgXCJtb25nb2RiK3NydjovL2RhdGFiYXNlX2NyZWF0b3JzOkdqU1dhVjdtSm5PeTVoSndAY2x1c3RlcjAubHd5aG4ubW9uZ29kYi5uZXQvdXNlcmRhdGFcIjtcclxuXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvRGF0YWJhc2UoKSB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlXHJcbiAgICAgIC5jb25uZWN0KE1PTkdPREJfVVJJKVxyXG4gICAgICAudGhlbigobW9uZ29vc2UpID0+IG1vbmdvb3NlKTtcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbn1cclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3RUb0RhdGFiYXNlIiwiY29ubmVjdCIsInRoZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/login/storage.js":
/*!*******************************************!*\
  !*** ./src/app/api/auth/login/storage.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserData: () => (/* binding */ clearUserData),\n/* harmony export */   getUserData: () => (/* binding */ getUserData),\n/* harmony export */   saveUserData: () => (/* binding */ saveUserData)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Path to save user data\nconst filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"src\", \"app\", \"storage\", \"userData.json\");\n// const filePath = path.join('/tmp', 'userData.json');\n/**\r\n * Save user data to a file.\r\n * @param {object} data - User data to store.\r\n */ function saveUserData(data) {\n    // Convert data to a JSON string and write to the file\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(data, null, 2), \"utf8\");\n    console.log(\"saved\");\n}\n/**\r\n * Retrieve the stored user data from file.\r\n * @returns {object|null} - The stored user data or null if not set.\r\n */ function getUserData() {\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    }\n    return null;\n}\n/**\r\n * Clear user data from file (optional).\r\n */ function clearUserData() {\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(filePath); // Delete the file\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL2xvZ2luL3N0b3JhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFvQjtBQUNJO0FBRXhCLHlCQUF5QjtBQUN6QixNQUFNRSxXQUFXRCxnREFBUyxDQUFDRyxRQUFRQyxHQUFHLElBQUksT0FBTSxPQUFNLFdBQVc7QUFDakUsdURBQXVEO0FBRXZEOzs7Q0FHQyxHQUNNLFNBQVNDLGFBQWFDLElBQUk7SUFDL0Isc0RBQXNEO0lBQ3REUCx1REFBZ0IsQ0FBQ0UsVUFBVU8sS0FBS0MsU0FBUyxDQUFDSCxNQUFNLE1BQU0sSUFBSTtJQUMxREksUUFBUUMsR0FBRyxDQUFDO0FBQ2Q7QUFFQTs7O0NBR0MsR0FDTSxTQUFTQztJQUNkLElBQUliLG9EQUFhLENBQUNFLFdBQVc7UUFDM0IsTUFBTUssT0FBT1Asc0RBQWUsQ0FBQ0UsVUFBVTtRQUN2QyxPQUFPTyxLQUFLTyxLQUFLLENBQUNUO0lBQ3BCO0lBQ0EsT0FBTztBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTVTtJQUNkLElBQUlqQixvREFBYSxDQUFDRSxXQUFXO1FBQzNCRixvREFBYSxDQUFDRSxXQUFXLGtCQUFrQjtJQUM3QztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8uL3NyYy9hcHAvYXBpL2F1dGgvbG9naW4vc3RvcmFnZS5qcz9lZjc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuLy8gUGF0aCB0byBzYXZlIHVzZXIgZGF0YVxyXG5jb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnc3JjJywnYXBwJywnc3RvcmFnZScsICd1c2VyRGF0YS5qc29uJyk7XHJcbi8vIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKCcvdG1wJywgJ3VzZXJEYXRhLmpzb24nKTtcclxuXHJcbi8qKlxyXG4gKiBTYXZlIHVzZXIgZGF0YSB0byBhIGZpbGUuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gVXNlciBkYXRhIHRvIHN0b3JlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVVc2VyRGF0YShkYXRhKSB7XHJcbiAgLy8gQ29udmVydCBkYXRhIHRvIGEgSlNPTiBzdHJpbmcgYW5kIHdyaXRlIHRvIHRoZSBmaWxlXHJcbiAgZnMud3JpdGVGaWxlU3luYyhmaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMiksICd1dGY4Jyk7XHJcbiAgY29uc29sZS5sb2coJ3NhdmVkJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXRyaWV2ZSB0aGUgc3RvcmVkIHVzZXIgZGF0YSBmcm9tIGZpbGUuXHJcbiAqIEByZXR1cm5zIHtvYmplY3R8bnVsbH0gLSBUaGUgc3RvcmVkIHVzZXIgZGF0YSBvciBudWxsIGlmIG5vdCBzZXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlckRhdGEoKSB7XHJcbiAgaWYgKGZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XHJcbiAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmOCcpO1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xlYXIgdXNlciBkYXRhIGZyb20gZmlsZSAob3B0aW9uYWwpLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVXNlckRhdGEoKSB7XHJcbiAgaWYgKGZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XHJcbiAgICBmcy51bmxpbmtTeW5jKGZpbGVQYXRoKTsgLy8gRGVsZXRlIHRoZSBmaWxlXHJcbiAgfVxyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsImZpbGVQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJzYXZlVXNlckRhdGEiLCJkYXRhIiwid3JpdGVGaWxlU3luYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwibG9nIiwiZ2V0VXNlckRhdGEiLCJleGlzdHNTeW5jIiwicmVhZEZpbGVTeW5jIiwicGFyc2UiLCJjbGVhclVzZXJEYXRhIiwidW5saW5rU3luYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/login/storage.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/models/User.js":
/*!*****************************************!*\
  !*** ./src/app/api/auth/models/User.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    age: {\n        type: Number\n    },\n    highestEducation: {\n        type: String\n    },\n    checklist: {\n        type: String,\n        default: \"\"\n    },\n    allHistorySummary: {\n        type: String,\n        default: \"\"\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL21vZGVscy9Vc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxhQUFhLElBQUlELHdEQUFlLENBQ3BDO0lBQ0VHLE1BQU07UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3JDQyxPQUFPO1FBQUVILE1BQU1DO1FBQVFDLFVBQVU7UUFBTUUsUUFBUTtJQUFLO0lBQ3BEQyxVQUFVO1FBQUVMLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUN6Q0ksS0FBSztRQUFFTixNQUFNTztJQUFPO0lBQ3BCQyxrQkFBa0I7UUFBRVIsTUFBTUM7SUFBTztJQUNqQ1EsV0FBVztRQUFFVCxNQUFNQztRQUFRUyxTQUFTO0lBQUc7SUFDdkNDLG1CQUFtQjtRQUFFWCxNQUFNQztRQUFRUyxTQUFTO0lBQUc7QUFDakQsR0FDQTtJQUFFRSxZQUFZO0FBQUs7QUFHckIsaUVBQWVoQix3REFBZSxDQUFDa0IsSUFBSSxJQUFJbEIscURBQWMsQ0FBQyxRQUFRQyxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8uL3NyYy9hcHAvYXBpL2F1dGgvbW9kZWxzL1VzZXIuanM/ZmVlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxyXG4gICAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgYWdlOiB7IHR5cGU6IE51bWJlciB9LFxyXG4gICAgaGlnaGVzdEVkdWNhdGlvbjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICAgIGNoZWNrbGlzdDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiXCIgfSxcclxuICAgIGFsbEhpc3RvcnlTdW1tYXJ5OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogXCJcIiB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCBVc2VyU2NoZW1hKTtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYWdlIiwiTnVtYmVyIiwiaGlnaGVzdEVkdWNhdGlvbiIsImNoZWNrbGlzdCIsImRlZmF1bHQiLCJhbGxIaXN0b3J5U3VtbWFyeSIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJVc2VyIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/models/User.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/updatehistory/route.js":
/*!*************************************************!*\
  !*** ./src/app/api/auth/updatehistory/route.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateUserHistory: () => (/* binding */ updateUserHistory)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/mongodb */ \"(rsc)/./src/app/api/auth/lib/mongodb.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/User */ \"(rsc)/./src/app/api/auth/models/User.js\");\n\n\n/**\r\n * Updates the user's history summary.\r\n * @param {string} id - The ID of the user.\r\n * @param {string} allHistorySummary - The updated history summary.\r\n * @returns {Object} The updated user object or an error.\r\n */ async function updateUserHistory(id, allHistorySummary) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__.connectToDatabase)();\n        const updatedUser = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(id, {\n            allHistorySummary\n        }, {\n            new: true\n        });\n        if (!updatedUser) {\n            throw new Error(\"User not found\");\n        }\n        return {\n            success: true,\n            user: updatedUser\n        };\n    } catch (error) {\n        console.error(\"Error updating user history:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL3VwZGF0ZWhpc3Rvcnkvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBQ2pCO0FBRWxDOzs7OztDQUtDLEdBQ00sZUFBZUUsa0JBQWtCQyxFQUFFLEVBQUVDLGlCQUFpQjtJQUMzRCxJQUFJO1FBQ0YsTUFBTUosK0RBQWlCQTtRQUV2QixNQUFNSyxjQUFjLE1BQU1KLG9EQUFJQSxDQUFDSyxpQkFBaUIsQ0FDOUNILElBQ0E7WUFBRUM7UUFBa0IsR0FDcEI7WUFBRUcsS0FBSztRQUFLO1FBR2QsSUFBSSxDQUFDRixhQUFhO1lBQ2hCLE1BQU0sSUFBSUcsTUFBTTtRQUNsQjtRQUVBLE9BQU87WUFBRUMsU0FBUztZQUFNQyxNQUFNTDtRQUFZO0lBQzVDLEVBQUUsT0FBT00sT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPO1lBQUVGLFNBQVM7WUFBT0UsT0FBT0EsTUFBTUUsT0FBTztRQUFDO0lBQ2hEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8zRC1BSS1FbmdsaXNoLy4vc3JjL2FwcC9hcGkvYXV0aC91cGRhdGVoaXN0b3J5L3JvdXRlLmpzPzljNTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSBmcm9tIFwiLi4vbGliL21vbmdvZGJcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy9Vc2VyXCI7XHJcblxyXG4vKipcclxuICogVXBkYXRlcyB0aGUgdXNlcidzIGhpc3Rvcnkgc3VtbWFyeS5cclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIElEIG9mIHRoZSB1c2VyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYWxsSGlzdG9yeVN1bW1hcnkgLSBUaGUgdXBkYXRlZCBoaXN0b3J5IHN1bW1hcnkuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSB1cGRhdGVkIHVzZXIgb2JqZWN0IG9yIGFuIGVycm9yLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXJIaXN0b3J5KGlkLCBhbGxIaXN0b3J5U3VtbWFyeSkge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZEFuZFVwZGF0ZShcclxuICAgICAgaWQsXHJcbiAgICAgIHsgYWxsSGlzdG9yeVN1bW1hcnkgfSxcclxuICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIXVwZGF0ZWRVc2VyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGZvdW5kXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHVzZXI6IHVwZGF0ZWRVc2VyIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyB1c2VyIGhpc3Rvcnk6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY29ubmVjdFRvRGF0YWJhc2UiLCJVc2VyIiwidXBkYXRlVXNlckhpc3RvcnkiLCJpZCIsImFsbEhpc3RvcnlTdW1tYXJ5IiwidXBkYXRlZFVzZXIiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsIkVycm9yIiwic3VjY2VzcyIsInVzZXIiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/updatehistory/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();