"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/route";
exports.ids = ["app/api/ai/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_kunal_OneDrive_Desktop_test2_3D_English_Teacher_src_app_api_ai_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/ai/route.js */ \"(rsc)/./src/app/api/ai/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/route\",\n        pathname: \"/api/ai\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\kunal\\\\OneDrive\\\\Desktop\\\\test2\\\\3D-English-Teacher\\\\src\\\\app\\\\api\\\\ai\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_kunal_OneDrive_Desktop_test2_3D_English_Teacher_src_app_api_ai_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/ai/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhaSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNrdW5hbCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3Rlc3QyJTVDM0QtRW5nbGlzaC1UZWFjaGVyJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNrdW5hbCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3Rlc3QyJTVDM0QtRW5nbGlzaC1UZWFjaGVyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzJDO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8/OWFjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxrdW5hbFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHRlc3QyXFxcXDNELUVuZ2xpc2gtVGVhY2hlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9haVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxrdW5hbFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHRlc3QyXFxcXDNELUVuZ2xpc2gtVGVhY2hlclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9haS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/ai/route.js":
/*!*********************************!*\
  !*** ./src/app/api/ai/route.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"(rsc)/./node_modules/cookie/dist/index.js\");\n/* harmony import */ var _user_storage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user/storage.js */ \"(rsc)/./src/app/api/user/storage.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env[\"GEMINI_API_KEY\"]);\nconst model = genAI.getGenerativeModel({\n    model: \"gemini-1.5-flash\"\n});\nasync function updateHistory(userId, historyEntry) {\n    const apiUrl = \"https://voice-chat-server-w8qu.onrender.com/updatehistory\"; // Replace with your server URL\n    const requestData = {\n        id: userId,\n        allHistorySummary: historyEntry\n    };\n    try {\n        const response = await fetch(apiUrl, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(requestData)\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            console.error(\"Error updating history:\", errorData.error);\n            alert(`Failed to update history: ${errorData.error}`);\n            return;\n        }\n        const updatedUser = await response.json();\n        console.log(\"History updated successfully:\", updatedUser);\n        alert(\"History updated successfully!\");\n    } catch (error) {\n        console.error(\"Error sending update request:\", error);\n        alert(\"An error occurred while updating history.\");\n    }\n}\nasync function GET(req) {\n    // Retrieve cookies\n    const cookies = (0,cookie__WEBPACK_IMPORTED_MODULE_1__.parse)(req.headers.get(\"cookie\") || \"\");\n    let conversationHistory = cookies.conversationHistory ? JSON.parse(cookies.conversationHistory) : [];\n    const question = req.nextUrl.searchParams.get(\"question\") || \"Start the conversation\";\n    const filePath = path__WEBPACK_IMPORTED_MODULE_4___default().join(process.cwd(), \"src\", \"app\", \"storage\", \"userData.json\");\n    function getUserData() {\n        if (fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(filePath)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(filePath, \"utf8\");\n            return JSON.parse(data);\n        }\n        return null;\n    }\n    const userData = getUserData();\n    const formattedHistory = conversationHistory.length ? conversationHistory.map(({ user, assistant })=>`User: ${user}\\nAssistant: ${assistant}`).join(\"\\n\") : \"No previous conversation.\";\n    const prompt = `\r\nYou are an advanced English learning assistant tasked with teaching the user English in 90 days, following a structured plan. Personalize all interactions using the user's information and ensure progress is recorded properly. Respond strictly in the following JSON structure:\r\n\r\n{\r\n  \"ReplyForUser\": \"<The assistant's reply in natural, conversational language, limited to 200 characters per part>\",\r\n  \"AllSummaryHistory\": \"<Updated all-summary-history by keeping in mind the users current All Summary History and currenthistory>\",\r\n}\r\n\r\n## Rules and Instructions:\r\n\r\n1. **Personalization**:\r\n   - Refer to the user by their name and adapt responses to their age and education level.\r\n   - Use their education to set complexity and provide actionable insights.\r\n   - Begin with a greeting only on the first interaction of the day.\r\n\r\n2. **Response Rules**:\r\n   - Reference the 90-day plan only once when addressing the day’s topic. Avoid repetition unless asked explicitly.\r\n   - Strictly adhere to the 200-character limit per response part. Split into sequential parts if necessary.\r\n   - Exclude unnecessary details like the full day description repeatedly. Focus only on answering the user’s query or teaching the day’s topic.\r\n\r\n3. **Checklist Day and History**:\r\n   - Calculate the current day using: \\`Math.ceil((new Date().toISOString() - userData.createdAt) / (1000 * 60 * 60 * 24))\\`.\r\n   - Limit progress to the active day unless the user requests to skip or revisit.\r\n   - Update and expand the \\`AllSummaryHistory\\` concisely to reflect completed activities or new insights.\r\n\r\n4. **Content Goals**:\r\n   - Provide context-specific examples, corrections, and encouragement.\r\n   - Include advanced resources or exercises aligned with the day’s lesson.\r\n   - Track progress consistently and inform the user subtly about milestones.\r\n\r\n5. **Behavior for Excessive Responses**:\r\n   - If a response exceeds 200 characters, prioritize clarity and relevance. Split the reply into logical parts labeled sequentially (e.g., Part 1, Part 2).\r\n\r\n6. **Fallback Behavior**:\r\n   - For missing or insufficient data, inform the user briefly about the limitation and proceed with general guidance or a relevant response.\r\n\r\n## User's 90-Day Plan:\r\nDay 1: Introduction + Greetings\r\nDay 2: Parts of Language and its Importance + Explaining Through Conversation\r\nDay 3: Sentences and its Types + Real-Life Usage\r\nDay 4: Use this MR/Now\r\nDay 5: Countable & Uncountable Nouns, Pronouns, Singular & Plural Pronouns\r\nDay 6: Adjectives & Degree + Conversations\r\nDay 7: WH- Words, Witch, Wye, Van, Ware, Freys\r\nDay 8: Alphabets, Sounds & Phonetics\r\nDay 9: Manners & Etiquettes + Conversations\r\nDay 10: Revision and Summary\r\nDay 11: Present Tense + Conversation\r\nDay 12: Past Tense + Conversation\r\nDay 13: Future Tense + Conversation\r\nDay 14: Fond of Screed Off/Real Life Application\r\nDay 15: Silent Letters in Words and Homophones\r\nDay 16: There and It / There, It's / It's He's, She's + Narration\r\nDay 17: Vowels and Articles\r\nDay 18: Active and Passive Voice\r\nDay 19: Experiment Seam, Appear, End Sound + Conversation\r\nDay 20: Experiment Hao Offan du U / Adverbs of Frequency\r\nDay 21: Experiment Verbs and Adverbs, Let's Have, Have To, Head to\r\nDay 22: Congestion, Interjection and Acceleration Sentences\r\nDay 23: Have You Ever/Present Perfect + Conversation\r\nDay 24: Relative Pronouns and Its Question\r\nDay 25: Prepositions (Place)\r\nDay 26: Time, Day, Month & Weather + Conversation\r\nDay 27: Use of 'Was' - Above Us/Ever/Never\r\nDay 28: Indefinite Pronouns/Sum/Anne\r\nDay 29: Past Continuous + Conversation\r\nDay 30: Clause: Principal Clause/Subordinate and Coordinate Clause\r\nDay 31: Past Perfect/Head + III Form + Conversation Related to Past Perfect\r\nDay 32: Summary\r\nDay 33: How Long Have You / Present Perfect Continuous + Conversation at Home\r\nDay 34: Experiment Has Been/Have Been, Rules of Subject-Verb Agreement\r\nDay 35: Experiment Feel Like Doing/Want to Do, Think of Doing Something + Conversation in the Meeting\r\nDay 36: Helping Verbs\r\nDay 37: Modals and Idioms\r\nDay 38: Question Tags\r\nDay 39: Past Indefinite\r\nDay 40: Gerund and Infinitive\r\nDay 41: Tense and Revision of All Tenses\r\nDay 42: Summary\r\nDay 43: Will Have Gone/Future Perfect + Conversation\r\nDay 44: Miscellaneous Uses\r\nDay 45: Transformation of Sentences\r\nDay 46: Request & Order + Conversation in the Restaurant\r\nDay 47: Meals\r\nDay 48: Time\r\nDay 49: Instruction/Instructions Order\r\nDay 50: Instruction/Instructions Order (Continued)\r\nDay 51: Encouragement\r\nDay 52: Negotiation\r\nDay 53: Quarrel (Battle Fight)\r\nDay 54: Office Conversation\r\nDay 55: Law Conversation\r\nDay 56: Travel Conversation\r\nDay 57: Entertainment Conversation\r\nDay 58: Dealing Conversation\r\nDay 59: Saying\r\nDay 60: Attending Wedding\r\nDay 61: Vocabulary\r\nDay 62: Drill Tables\r\nDay 63: Test/Examination\r\nDay 64: Useful Phrases - Part 1\r\nDay 65: Useful Phrases - Part 2\r\nDay 66: Useful Phrases - Part 3\r\nDay 67: Storytelling - Part 1\r\nDay 68: Storytelling - Part 2\r\nDay 69: Storytelling - Part 3\r\nDay 70: Storytelling - Part 4\r\nDay 71: Introduction (Self & Others) - Part 1\r\nDay 72: Introduction (Self & Others) - Part 2\r\nDay 73: Introduction (Self & Others) - Part 3\r\nDay 74: Introduction (Self & Others) - Part 4\r\nDay 75: Interview Skills - Part 1\r\nDay 76: Interview Skills - Part 2\r\nDay 77: Interview Skills - Part 3\r\nDay 78: Interview Skills - Part 4\r\nDay 79: Etiquette & Etiquette - Part 1\r\nDay 80: Etiquette and Etiquettes - Part 2\r\nDay 81: Etiquette and Etiquettes - Part 3\r\nDay 82: Building Confidence - Part 1\r\nDay 83: Boosting Confidence - Part 2\r\nDay 84: Boosting Confidence - Part 3\r\nDay 85: Boosting Confidence - Part 4\r\nDay 86: Personality Development - Part 1\r\nDay 87: Personality Development - Part 2\r\nDay 88: Personality Development - Part 3\r\nDay 89: Personality Development - Part 4\r\nDay 90: Personality Development - Part 5\r\n\r\n## User Information:\r\n- Name: ${userData.name}\r\n- Age: ${userData.age}\r\n- Highest Education: ${userData.highestEducation}\r\n\r\n- Checklist Day: ${Math.ceil((new Date().toISOString() - userData.createdAt) / (1000 * 60 * 60 * 24))} day (continue with this day unless instructed otherwise)\r\n- Current History: ${formattedHistory || \"No recent activity\"}\r\n- All Summary History: ${userData.allHistorySummary === \"\" ? userData.allHistorySummary : \"No History\"}\r\n\r\n**User’s Current Reply or Question**:\r\nUser - ${question}\r\n`;\n    console.log(\"checklist\", userData.checklist);\n    console.log(\"history\", userData.allHistorySummary);\n    try {\n        const result = await model.generateContent(prompt);\n        let example;\n        try {\n            example = JSON.parse(result.response.candidates[0].content.parts[0].text.replace(/```json|```/g, \"\").trim());\n        } catch (parseError) {\n            throw new Error(\"Failed to parse AI response JSON\");\n        }\n        // Update the conversation history\n        conversationHistory.push({\n            user: question,\n            assistant: example.ReplyForUser\n        });\n        // Set updated cookies for conversation history and language mode\n        const updatedCookies = [\n            (0,cookie__WEBPACK_IMPORTED_MODULE_1__.serialize)(\"conversationHistory\", JSON.stringify(conversationHistory), {\n                path: \"/\"\n            })\n        ].join(\"; \");\n        userData.checklist = example.ChecklistDay;\n        userData.allHistorySummary = example.AllSummaryHistory;\n        updateHistory(userData._id, userData.allHistorySummary);\n        (0,_user_storage_js__WEBPACK_IMPORTED_MODULE_2__.saveUserData)(userData);\n        return new Response(JSON.stringify({\n            result: example\n        }), {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Set-Cookie\": updatedCookies\n            }\n        });\n    } catch (error) {\n        console.error(\"Error generating content:\", error);\n        return new Response(JSON.stringify({\n            error: \"Failed to generate response\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPLElBQUlvRCxTQUNUMUQsS0FBS0MsU0FBUyxDQUFDO1lBQUVLLE9BQU87UUFBOEIsSUFDdEQ7WUFBRXFELFFBQVE7WUFBSzdELFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQUU7SUFFbkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLzNELUFJLUVuZ2xpc2gvLi9zcmMvYXBwL2FwaS9haS9yb3V0ZS5qcz80OGVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gXCJAZ29vZ2xlL2dlbmVyYXRpdmUtYWlcIjtcclxuaW1wb3J0IHsgc2VyaWFsaXplLCBwYXJzZSB9IGZyb20gXCJjb29raWVcIjtcclxuXHJcbmltcG9ydCB7IHNhdmVVc2VyRGF0YSx1cGRhdGVDaGVja2xpc3QsIHVwZGF0ZUFsbEhpc3RvcnlTdW1tYXJ5fSBmcm9tIFwiLi4vdXNlci9zdG9yYWdlLmpzXCI7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuXHJcblxyXG5jb25zdCBnZW5BSSA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkocHJvY2Vzcy5lbnZbXCJHRU1JTklfQVBJX0tFWVwiXSk7XHJcbmNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTEuNS1mbGFzaFwiIH0pO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlSGlzdG9yeSh1c2VySWQsIGhpc3RvcnlFbnRyeSkge1xyXG4gIGNvbnN0IGFwaVVybCA9IFwiaHR0cHM6Ly92b2ljZS1jaGF0LXNlcnZlci13OHF1Lm9ucmVuZGVyLmNvbS91cGRhdGVoaXN0b3J5XCI7IC8vIFJlcGxhY2Ugd2l0aCB5b3VyIHNlcnZlciBVUkxcclxuXHJcbiAgY29uc3QgcmVxdWVzdERhdGEgPSB7XHJcbiAgICBpZDogdXNlcklkLFxyXG4gICAgYWxsSGlzdG9yeVN1bW1hcnk6IGhpc3RvcnlFbnRyeSxcclxuICB9O1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3REYXRhKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgaGlzdG9yeTpcIiwgZXJyb3JEYXRhLmVycm9yKTtcclxuICAgICAgYWxlcnQoYEZhaWxlZCB0byB1cGRhdGUgaGlzdG9yeTogJHtlcnJvckRhdGEuZXJyb3J9YCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKFwiSGlzdG9yeSB1cGRhdGVkIHN1Y2Nlc3NmdWxseTpcIiwgdXBkYXRlZFVzZXIpO1xyXG4gICAgYWxlcnQoXCJIaXN0b3J5IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IVwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNlbmRpbmcgdXBkYXRlIHJlcXVlc3Q6XCIsIGVycm9yKTtcclxuICAgIGFsZXJ0KFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgaGlzdG9yeS5cIik7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXEpIHtcclxuICAvLyBSZXRyaWV2ZSBjb29raWVzXHJcblxyXG5cclxuICBjb25zdCBjb29raWVzID0gcGFyc2UocmVxLmhlYWRlcnMuZ2V0KFwiY29va2llXCIpIHx8IFwiXCIpO1xyXG4gIGxldCBjb252ZXJzYXRpb25IaXN0b3J5ID0gY29va2llcy5jb252ZXJzYXRpb25IaXN0b3J5XHJcbiAgICA/IEpTT04ucGFyc2UoY29va2llcy5jb252ZXJzYXRpb25IaXN0b3J5KVxyXG4gICAgOiBbXTtcclxuXHJcbiAgY29uc3QgcXVlc3Rpb24gPVxyXG4gICAgcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldChcInF1ZXN0aW9uXCIpIHx8XHJcbiAgICBcIlN0YXJ0IHRoZSBjb252ZXJzYXRpb25cIjtcclxuXHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnc3JjJywnYXBwJywnc3RvcmFnZScsICd1c2VyRGF0YS5qc29uJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VXNlckRhdGEoKSB7XHJcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4Jyk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gY29uc3QgdXNlckRhdGEgPSBnZXRVc2VyRGF0YSgpO1xyXG5cclxuXHJcblxyXG5cclxuICBjb25zdCBmb3JtYXR0ZWRIaXN0b3J5ID0gY29udmVyc2F0aW9uSGlzdG9yeS5sZW5ndGhcclxuICAgID8gY29udmVyc2F0aW9uSGlzdG9yeVxyXG4gICAgICAgIC5tYXAoXHJcbiAgICAgICAgICAoeyB1c2VyLCBhc3Npc3RhbnQgfSkgPT4gYFVzZXI6ICR7dXNlcn1cXG5Bc3Npc3RhbnQ6ICR7YXNzaXN0YW50fWBcclxuICAgICAgICApXHJcbiAgICAgICAgLmpvaW4oXCJcXG5cIilcclxuICAgIDogXCJObyBwcmV2aW91cyBjb252ZXJzYXRpb24uXCI7XHJcblxyXG4gICBcclxuXHJcbiAgY29uc3QgcHJvbXB0ID0gYFxyXG5Zb3UgYXJlIGFuIGFkdmFuY2VkIEVuZ2xpc2ggbGVhcm5pbmcgYXNzaXN0YW50IHRhc2tlZCB3aXRoIHRlYWNoaW5nIHRoZSB1c2VyIEVuZ2xpc2ggaW4gOTAgZGF5cywgZm9sbG93aW5nIGEgc3RydWN0dXJlZCBwbGFuLiBQZXJzb25hbGl6ZSBhbGwgaW50ZXJhY3Rpb25zIHVzaW5nIHRoZSB1c2VyJ3MgaW5mb3JtYXRpb24gYW5kIGVuc3VyZSBwcm9ncmVzcyBpcyByZWNvcmRlZCBwcm9wZXJseS4gUmVzcG9uZCBzdHJpY3RseSBpbiB0aGUgZm9sbG93aW5nIEpTT04gc3RydWN0dXJlOlxyXG5cclxue1xyXG4gIFwiUmVwbHlGb3JVc2VyXCI6IFwiPFRoZSBhc3Npc3RhbnQncyByZXBseSBpbiBuYXR1cmFsLCBjb252ZXJzYXRpb25hbCBsYW5ndWFnZSwgbGltaXRlZCB0byAyMDAgY2hhcmFjdGVycyBwZXIgcGFydD5cIixcclxuICBcIkFsbFN1bW1hcnlIaXN0b3J5XCI6IFwiPFVwZGF0ZWQgYWxsLXN1bW1hcnktaGlzdG9yeSBieSBrZWVwaW5nIGluIG1pbmQgdGhlIHVzZXJzIGN1cnJlbnQgQWxsIFN1bW1hcnkgSGlzdG9yeSBhbmQgY3VycmVudGhpc3Rvcnk+XCIsXHJcbn1cclxuXHJcbiMjIFJ1bGVzIGFuZCBJbnN0cnVjdGlvbnM6XHJcblxyXG4xLiAqKlBlcnNvbmFsaXphdGlvbioqOlxyXG4gICAtIFJlZmVyIHRvIHRoZSB1c2VyIGJ5IHRoZWlyIG5hbWUgYW5kIGFkYXB0IHJlc3BvbnNlcyB0byB0aGVpciBhZ2UgYW5kIGVkdWNhdGlvbiBsZXZlbC5cclxuICAgLSBVc2UgdGhlaXIgZWR1Y2F0aW9uIHRvIHNldCBjb21wbGV4aXR5IGFuZCBwcm92aWRlIGFjdGlvbmFibGUgaW5zaWdodHMuXHJcbiAgIC0gQmVnaW4gd2l0aCBhIGdyZWV0aW5nIG9ubHkgb24gdGhlIGZpcnN0IGludGVyYWN0aW9uIG9mIHRoZSBkYXkuXHJcblxyXG4yLiAqKlJlc3BvbnNlIFJ1bGVzKio6XHJcbiAgIC0gUmVmZXJlbmNlIHRoZSA5MC1kYXkgcGxhbiBvbmx5IG9uY2Ugd2hlbiBhZGRyZXNzaW5nIHRoZSBkYXnigJlzIHRvcGljLiBBdm9pZCByZXBldGl0aW9uIHVubGVzcyBhc2tlZCBleHBsaWNpdGx5LlxyXG4gICAtIFN0cmljdGx5IGFkaGVyZSB0byB0aGUgMjAwLWNoYXJhY3RlciBsaW1pdCBwZXIgcmVzcG9uc2UgcGFydC4gU3BsaXQgaW50byBzZXF1ZW50aWFsIHBhcnRzIGlmIG5lY2Vzc2FyeS5cclxuICAgLSBFeGNsdWRlIHVubmVjZXNzYXJ5IGRldGFpbHMgbGlrZSB0aGUgZnVsbCBkYXkgZGVzY3JpcHRpb24gcmVwZWF0ZWRseS4gRm9jdXMgb25seSBvbiBhbnN3ZXJpbmcgdGhlIHVzZXLigJlzIHF1ZXJ5IG9yIHRlYWNoaW5nIHRoZSBkYXnigJlzIHRvcGljLlxyXG5cclxuMy4gKipDaGVja2xpc3QgRGF5IGFuZCBIaXN0b3J5Kio6XHJcbiAgIC0gQ2FsY3VsYXRlIHRoZSBjdXJyZW50IGRheSB1c2luZzogXFxgTWF0aC5jZWlsKChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgLSB1c2VyRGF0YS5jcmVhdGVkQXQpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKVxcYC5cclxuICAgLSBMaW1pdCBwcm9ncmVzcyB0byB0aGUgYWN0aXZlIGRheSB1bmxlc3MgdGhlIHVzZXIgcmVxdWVzdHMgdG8gc2tpcCBvciByZXZpc2l0LlxyXG4gICAtIFVwZGF0ZSBhbmQgZXhwYW5kIHRoZSBcXGBBbGxTdW1tYXJ5SGlzdG9yeVxcYCBjb25jaXNlbHkgdG8gcmVmbGVjdCBjb21wbGV0ZWQgYWN0aXZpdGllcyBvciBuZXcgaW5zaWdodHMuXHJcblxyXG40LiAqKkNvbnRlbnQgR29hbHMqKjpcclxuICAgLSBQcm92aWRlIGNvbnRleHQtc3BlY2lmaWMgZXhhbXBsZXMsIGNvcnJlY3Rpb25zLCBhbmQgZW5jb3VyYWdlbWVudC5cclxuICAgLSBJbmNsdWRlIGFkdmFuY2VkIHJlc291cmNlcyBvciBleGVyY2lzZXMgYWxpZ25lZCB3aXRoIHRoZSBkYXnigJlzIGxlc3Nvbi5cclxuICAgLSBUcmFjayBwcm9ncmVzcyBjb25zaXN0ZW50bHkgYW5kIGluZm9ybSB0aGUgdXNlciBzdWJ0bHkgYWJvdXQgbWlsZXN0b25lcy5cclxuXHJcbjUuICoqQmVoYXZpb3IgZm9yIEV4Y2Vzc2l2ZSBSZXNwb25zZXMqKjpcclxuICAgLSBJZiBhIHJlc3BvbnNlIGV4Y2VlZHMgMjAwIGNoYXJhY3RlcnMsIHByaW9yaXRpemUgY2xhcml0eSBhbmQgcmVsZXZhbmNlLiBTcGxpdCB0aGUgcmVwbHkgaW50byBsb2dpY2FsIHBhcnRzIGxhYmVsZWQgc2VxdWVudGlhbGx5IChlLmcuLCBQYXJ0IDEsIFBhcnQgMikuXHJcblxyXG42LiAqKkZhbGxiYWNrIEJlaGF2aW9yKio6XHJcbiAgIC0gRm9yIG1pc3Npbmcgb3IgaW5zdWZmaWNpZW50IGRhdGEsIGluZm9ybSB0aGUgdXNlciBicmllZmx5IGFib3V0IHRoZSBsaW1pdGF0aW9uIGFuZCBwcm9jZWVkIHdpdGggZ2VuZXJhbCBndWlkYW5jZSBvciBhIHJlbGV2YW50IHJlc3BvbnNlLlxyXG5cclxuIyMgVXNlcidzIDkwLURheSBQbGFuOlxyXG5EYXkgMTogSW50cm9kdWN0aW9uICsgR3JlZXRpbmdzXHJcbkRheSAyOiBQYXJ0cyBvZiBMYW5ndWFnZSBhbmQgaXRzIEltcG9ydGFuY2UgKyBFeHBsYWluaW5nIFRocm91Z2ggQ29udmVyc2F0aW9uXHJcbkRheSAzOiBTZW50ZW5jZXMgYW5kIGl0cyBUeXBlcyArIFJlYWwtTGlmZSBVc2FnZVxyXG5EYXkgNDogVXNlIHRoaXMgTVIvTm93XHJcbkRheSA1OiBDb3VudGFibGUgJiBVbmNvdW50YWJsZSBOb3VucywgUHJvbm91bnMsIFNpbmd1bGFyICYgUGx1cmFsIFByb25vdW5zXHJcbkRheSA2OiBBZGplY3RpdmVzICYgRGVncmVlICsgQ29udmVyc2F0aW9uc1xyXG5EYXkgNzogV0gtIFdvcmRzLCBXaXRjaCwgV3llLCBWYW4sIFdhcmUsIEZyZXlzXHJcbkRheSA4OiBBbHBoYWJldHMsIFNvdW5kcyAmIFBob25ldGljc1xyXG5EYXkgOTogTWFubmVycyAmIEV0aXF1ZXR0ZXMgKyBDb252ZXJzYXRpb25zXHJcbkRheSAxMDogUmV2aXNpb24gYW5kIFN1bW1hcnlcclxuRGF5IDExOiBQcmVzZW50IFRlbnNlICsgQ29udmVyc2F0aW9uXHJcbkRheSAxMjogUGFzdCBUZW5zZSArIENvbnZlcnNhdGlvblxyXG5EYXkgMTM6IEZ1dHVyZSBUZW5zZSArIENvbnZlcnNhdGlvblxyXG5EYXkgMTQ6IEZvbmQgb2YgU2NyZWVkIE9mZi9SZWFsIExpZmUgQXBwbGljYXRpb25cclxuRGF5IDE1OiBTaWxlbnQgTGV0dGVycyBpbiBXb3JkcyBhbmQgSG9tb3Bob25lc1xyXG5EYXkgMTY6IFRoZXJlIGFuZCBJdCAvIFRoZXJlLCBJdCdzIC8gSXQncyBIZSdzLCBTaGUncyArIE5hcnJhdGlvblxyXG5EYXkgMTc6IFZvd2VscyBhbmQgQXJ0aWNsZXNcclxuRGF5IDE4OiBBY3RpdmUgYW5kIFBhc3NpdmUgVm9pY2VcclxuRGF5IDE5OiBFeHBlcmltZW50IFNlYW0sIEFwcGVhciwgRW5kIFNvdW5kICsgQ29udmVyc2F0aW9uXHJcbkRheSAyMDogRXhwZXJpbWVudCBIYW8gT2ZmYW4gZHUgVSAvIEFkdmVyYnMgb2YgRnJlcXVlbmN5XHJcbkRheSAyMTogRXhwZXJpbWVudCBWZXJicyBhbmQgQWR2ZXJicywgTGV0J3MgSGF2ZSwgSGF2ZSBUbywgSGVhZCB0b1xyXG5EYXkgMjI6IENvbmdlc3Rpb24sIEludGVyamVjdGlvbiBhbmQgQWNjZWxlcmF0aW9uIFNlbnRlbmNlc1xyXG5EYXkgMjM6IEhhdmUgWW91IEV2ZXIvUHJlc2VudCBQZXJmZWN0ICsgQ29udmVyc2F0aW9uXHJcbkRheSAyNDogUmVsYXRpdmUgUHJvbm91bnMgYW5kIEl0cyBRdWVzdGlvblxyXG5EYXkgMjU6IFByZXBvc2l0aW9ucyAoUGxhY2UpXHJcbkRheSAyNjogVGltZSwgRGF5LCBNb250aCAmIFdlYXRoZXIgKyBDb252ZXJzYXRpb25cclxuRGF5IDI3OiBVc2Ugb2YgJ1dhcycgLSBBYm92ZSBVcy9FdmVyL05ldmVyXHJcbkRheSAyODogSW5kZWZpbml0ZSBQcm9ub3Vucy9TdW0vQW5uZVxyXG5EYXkgMjk6IFBhc3QgQ29udGludW91cyArIENvbnZlcnNhdGlvblxyXG5EYXkgMzA6IENsYXVzZTogUHJpbmNpcGFsIENsYXVzZS9TdWJvcmRpbmF0ZSBhbmQgQ29vcmRpbmF0ZSBDbGF1c2VcclxuRGF5IDMxOiBQYXN0IFBlcmZlY3QvSGVhZCArIElJSSBGb3JtICsgQ29udmVyc2F0aW9uIFJlbGF0ZWQgdG8gUGFzdCBQZXJmZWN0XHJcbkRheSAzMjogU3VtbWFyeVxyXG5EYXkgMzM6IEhvdyBMb25nIEhhdmUgWW91IC8gUHJlc2VudCBQZXJmZWN0IENvbnRpbnVvdXMgKyBDb252ZXJzYXRpb24gYXQgSG9tZVxyXG5EYXkgMzQ6IEV4cGVyaW1lbnQgSGFzIEJlZW4vSGF2ZSBCZWVuLCBSdWxlcyBvZiBTdWJqZWN0LVZlcmIgQWdyZWVtZW50XHJcbkRheSAzNTogRXhwZXJpbWVudCBGZWVsIExpa2UgRG9pbmcvV2FudCB0byBEbywgVGhpbmsgb2YgRG9pbmcgU29tZXRoaW5nICsgQ29udmVyc2F0aW9uIGluIHRoZSBNZWV0aW5nXHJcbkRheSAzNjogSGVscGluZyBWZXJic1xyXG5EYXkgMzc6IE1vZGFscyBhbmQgSWRpb21zXHJcbkRheSAzODogUXVlc3Rpb24gVGFnc1xyXG5EYXkgMzk6IFBhc3QgSW5kZWZpbml0ZVxyXG5EYXkgNDA6IEdlcnVuZCBhbmQgSW5maW5pdGl2ZVxyXG5EYXkgNDE6IFRlbnNlIGFuZCBSZXZpc2lvbiBvZiBBbGwgVGVuc2VzXHJcbkRheSA0MjogU3VtbWFyeVxyXG5EYXkgNDM6IFdpbGwgSGF2ZSBHb25lL0Z1dHVyZSBQZXJmZWN0ICsgQ29udmVyc2F0aW9uXHJcbkRheSA0NDogTWlzY2VsbGFuZW91cyBVc2VzXHJcbkRheSA0NTogVHJhbnNmb3JtYXRpb24gb2YgU2VudGVuY2VzXHJcbkRheSA0NjogUmVxdWVzdCAmIE9yZGVyICsgQ29udmVyc2F0aW9uIGluIHRoZSBSZXN0YXVyYW50XHJcbkRheSA0NzogTWVhbHNcclxuRGF5IDQ4OiBUaW1lXHJcbkRheSA0OTogSW5zdHJ1Y3Rpb24vSW5zdHJ1Y3Rpb25zIE9yZGVyXHJcbkRheSA1MDogSW5zdHJ1Y3Rpb24vSW5zdHJ1Y3Rpb25zIE9yZGVyIChDb250aW51ZWQpXHJcbkRheSA1MTogRW5jb3VyYWdlbWVudFxyXG5EYXkgNTI6IE5lZ290aWF0aW9uXHJcbkRheSA1MzogUXVhcnJlbCAoQmF0dGxlIEZpZ2h0KVxyXG5EYXkgNTQ6IE9mZmljZSBDb252ZXJzYXRpb25cclxuRGF5IDU1OiBMYXcgQ29udmVyc2F0aW9uXHJcbkRheSA1NjogVHJhdmVsIENvbnZlcnNhdGlvblxyXG5EYXkgNTc6IEVudGVydGFpbm1lbnQgQ29udmVyc2F0aW9uXHJcbkRheSA1ODogRGVhbGluZyBDb252ZXJzYXRpb25cclxuRGF5IDU5OiBTYXlpbmdcclxuRGF5IDYwOiBBdHRlbmRpbmcgV2VkZGluZ1xyXG5EYXkgNjE6IFZvY2FidWxhcnlcclxuRGF5IDYyOiBEcmlsbCBUYWJsZXNcclxuRGF5IDYzOiBUZXN0L0V4YW1pbmF0aW9uXHJcbkRheSA2NDogVXNlZnVsIFBocmFzZXMgLSBQYXJ0IDFcclxuRGF5IDY1OiBVc2VmdWwgUGhyYXNlcyAtIFBhcnQgMlxyXG5EYXkgNjY6IFVzZWZ1bCBQaHJhc2VzIC0gUGFydCAzXHJcbkRheSA2NzogU3Rvcnl0ZWxsaW5nIC0gUGFydCAxXHJcbkRheSA2ODogU3Rvcnl0ZWxsaW5nIC0gUGFydCAyXHJcbkRheSA2OTogU3Rvcnl0ZWxsaW5nIC0gUGFydCAzXHJcbkRheSA3MDogU3Rvcnl0ZWxsaW5nIC0gUGFydCA0XHJcbkRheSA3MTogSW50cm9kdWN0aW9uIChTZWxmICYgT3RoZXJzKSAtIFBhcnQgMVxyXG5EYXkgNzI6IEludHJvZHVjdGlvbiAoU2VsZiAmIE90aGVycykgLSBQYXJ0IDJcclxuRGF5IDczOiBJbnRyb2R1Y3Rpb24gKFNlbGYgJiBPdGhlcnMpIC0gUGFydCAzXHJcbkRheSA3NDogSW50cm9kdWN0aW9uIChTZWxmICYgT3RoZXJzKSAtIFBhcnQgNFxyXG5EYXkgNzU6IEludGVydmlldyBTa2lsbHMgLSBQYXJ0IDFcclxuRGF5IDc2OiBJbnRlcnZpZXcgU2tpbGxzIC0gUGFydCAyXHJcbkRheSA3NzogSW50ZXJ2aWV3IFNraWxscyAtIFBhcnQgM1xyXG5EYXkgNzg6IEludGVydmlldyBTa2lsbHMgLSBQYXJ0IDRcclxuRGF5IDc5OiBFdGlxdWV0dGUgJiBFdGlxdWV0dGUgLSBQYXJ0IDFcclxuRGF5IDgwOiBFdGlxdWV0dGUgYW5kIEV0aXF1ZXR0ZXMgLSBQYXJ0IDJcclxuRGF5IDgxOiBFdGlxdWV0dGUgYW5kIEV0aXF1ZXR0ZXMgLSBQYXJ0IDNcclxuRGF5IDgyOiBCdWlsZGluZyBDb25maWRlbmNlIC0gUGFydCAxXHJcbkRheSA4MzogQm9vc3RpbmcgQ29uZmlkZW5jZSAtIFBhcnQgMlxyXG5EYXkgODQ6IEJvb3N0aW5nIENvbmZpZGVuY2UgLSBQYXJ0IDNcclxuRGF5IDg1OiBCb29zdGluZyBDb25maWRlbmNlIC0gUGFydCA0XHJcbkRheSA4NjogUGVyc29uYWxpdHkgRGV2ZWxvcG1lbnQgLSBQYXJ0IDFcclxuRGF5IDg3OiBQZXJzb25hbGl0eSBEZXZlbG9wbWVudCAtIFBhcnQgMlxyXG5EYXkgODg6IFBlcnNvbmFsaXR5IERldmVsb3BtZW50IC0gUGFydCAzXHJcbkRheSA4OTogUGVyc29uYWxpdHkgRGV2ZWxvcG1lbnQgLSBQYXJ0IDRcclxuRGF5IDkwOiBQZXJzb25hbGl0eSBEZXZlbG9wbWVudCAtIFBhcnQgNVxyXG5cclxuIyMgVXNlciBJbmZvcm1hdGlvbjpcclxuLSBOYW1lOiAke3VzZXJEYXRhLm5hbWV9XHJcbi0gQWdlOiAke3VzZXJEYXRhLmFnZX1cclxuLSBIaWdoZXN0IEVkdWNhdGlvbjogJHt1c2VyRGF0YS5oaWdoZXN0RWR1Y2F0aW9ufVxyXG5cclxuLSBDaGVja2xpc3QgRGF5OiAke01hdGguY2VpbCgobmV3IERhdGUoKS50b0lTT1N0cmluZygpIC0gdXNlckRhdGEuY3JlYXRlZEF0KSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSl9IGRheSAoY29udGludWUgd2l0aCB0aGlzIGRheSB1bmxlc3MgaW5zdHJ1Y3RlZCBvdGhlcndpc2UpXHJcbi0gQ3VycmVudCBIaXN0b3J5OiAke2Zvcm1hdHRlZEhpc3RvcnkgfHwgXCJObyByZWNlbnQgYWN0aXZpdHlcIn1cclxuLSBBbGwgU3VtbWFyeSBIaXN0b3J5OiAke3VzZXJEYXRhLmFsbEhpc3RvcnlTdW1tYXJ5ID09PScnID8gdXNlckRhdGEuYWxsSGlzdG9yeVN1bW1hcnkgOidObyBIaXN0b3J5J31cclxuXHJcbioqVXNlcuKAmXMgQ3VycmVudCBSZXBseSBvciBRdWVzdGlvbioqOlxyXG5Vc2VyIC0gJHtxdWVzdGlvbn1cclxuYDtcclxuY29uc29sZS5sb2coJ2NoZWNrbGlzdCcsdXNlckRhdGEuY2hlY2tsaXN0KTtcclxuY29uc29sZS5sb2coJ2hpc3RvcnknLHVzZXJEYXRhLmFsbEhpc3RvcnlTdW1tYXJ5KTtcclxuXHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcclxuICAgIGxldCBleGFtcGxlO1xyXG5cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBleGFtcGxlID0gSlNPTi5wYXJzZShcclxuICAgICAgICByZXN1bHQucmVzcG9uc2UuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzWzBdLnRleHRcclxuICAgICAgICAgIC5yZXBsYWNlKC9gYGBqc29ufGBgYC9nLCBcIlwiKVxyXG4gICAgICAgICAgLnRyaW0oKVxyXG4gICAgICApO1xyXG4gICAgICBcclxuXHJcbiAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBBSSByZXNwb25zZSBKU09OXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnlcclxuICAgIGNvbnZlcnNhdGlvbkhpc3RvcnkucHVzaCh7IHVzZXI6IHF1ZXN0aW9uLCBhc3Npc3RhbnQ6IGV4YW1wbGUuUmVwbHlGb3JVc2VyIH0pO1xyXG5cclxuICAgIC8vIFNldCB1cGRhdGVkIGNvb2tpZXMgZm9yIGNvbnZlcnNhdGlvbiBoaXN0b3J5IGFuZCBsYW5ndWFnZSBtb2RlXHJcbiAgICBjb25zdCB1cGRhdGVkQ29va2llcyA9IFtcclxuICAgICAgc2VyaWFsaXplKFwiY29udmVyc2F0aW9uSGlzdG9yeVwiLCBKU09OLnN0cmluZ2lmeShjb252ZXJzYXRpb25IaXN0b3J5KSwge1xyXG4gICAgICAgIHBhdGg6IFwiL1wiLFxyXG4gICAgICB9KSxcclxuICAgIF0uam9pbihcIjsgXCIpO1xyXG4gICAgXHJcbiAgICB1c2VyRGF0YS5jaGVja2xpc3QgPSBleGFtcGxlLkNoZWNrbGlzdERheTtcclxuICAgIHVzZXJEYXRhLmFsbEhpc3RvcnlTdW1tYXJ5ID0gZXhhbXBsZS5BbGxTdW1tYXJ5SGlzdG9yeTtcclxuXHJcbiAgICB1cGRhdGVIaXN0b3J5KHVzZXJEYXRhLl9pZCx1c2VyRGF0YS5hbGxIaXN0b3J5U3VtbWFyeSlcclxuXHJcbiAgICBzYXZlVXNlckRhdGEodXNlckRhdGEpO1xyXG5cclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyByZXN1bHQ6IGV4YW1wbGUgfSksIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIFwiU2V0LUNvb2tpZVwiOiB1cGRhdGVkQ29va2llcyxcclxuICAgICAgfSxcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdlbmVyYXRpbmcgY29udGVudDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcmVzcG9uc2VcIiB9KSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9IH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJzZXJpYWxpemUiLCJwYXJzZSIsInNhdmVVc2VyRGF0YSIsInVwZGF0ZUNoZWNrbGlzdCIsInVwZGF0ZUFsbEhpc3RvcnlTdW1tYXJ5IiwiZnMiLCJwYXRoIiwiZ2VuQUkiLCJwcm9jZXNzIiwiZW52IiwibW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJ1cGRhdGVIaXN0b3J5IiwidXNlcklkIiwiaGlzdG9yeUVudHJ5IiwiYXBpVXJsIiwicmVxdWVzdERhdGEiLCJpZCIsImFsbEhpc3RvcnlTdW1tYXJ5IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNvbnNvbGUiLCJlcnJvciIsImFsZXJ0IiwidXBkYXRlZFVzZXIiLCJsb2ciLCJHRVQiLCJyZXEiLCJjb29raWVzIiwiZ2V0IiwiY29udmVyc2F0aW9uSGlzdG9yeSIsInF1ZXN0aW9uIiwibmV4dFVybCIsInNlYXJjaFBhcmFtcyIsImZpbGVQYXRoIiwiam9pbiIsImN3ZCIsImdldFVzZXJEYXRhIiwiZXhpc3RzU3luYyIsImRhdGEiLCJyZWFkRmlsZVN5bmMiLCJ1c2VyRGF0YSIsImZvcm1hdHRlZEhpc3RvcnkiLCJsZW5ndGgiLCJtYXAiLCJ1c2VyIiwiYXNzaXN0YW50IiwicHJvbXB0IiwibmFtZSIsImFnZSIsImhpZ2hlc3RFZHVjYXRpb24iLCJNYXRoIiwiY2VpbCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNyZWF0ZWRBdCIsImNoZWNrbGlzdCIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsImV4YW1wbGUiLCJjYW5kaWRhdGVzIiwiY29udGVudCIsInBhcnRzIiwidGV4dCIsInJlcGxhY2UiLCJ0cmltIiwicGFyc2VFcnJvciIsIkVycm9yIiwicHVzaCIsIlJlcGx5Rm9yVXNlciIsInVwZGF0ZWRDb29raWVzIiwiQ2hlY2tsaXN0RGF5IiwiQWxsU3VtbWFyeUhpc3RvcnkiLCJfaWQiLCJSZXNwb25zZSIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/ai/route.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/user/storage.js":
/*!*************************************!*\
  !*** ./src/app/api/user/storage.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserData: () => (/* binding */ clearUserData),\n/* harmony export */   getUserData: () => (/* binding */ getUserData),\n/* harmony export */   saveUserData: () => (/* binding */ saveUserData),\n/* harmony export */   updateAllHistorySummary: () => (/* binding */ updateAllHistorySummary),\n/* harmony export */   updateChecklist: () => (/* binding */ updateChecklist)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Path to save user data\nconst filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"src\", \"app\", \"storage\", \"userData.json\");\n/**\r\n * Save user data to a file.\r\n * @param {object} data - User data to store.\r\n */ function saveUserData(data) {\n    // Convert data to a JSON string and write to the file\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(data, null, 2), \"utf8\");\n    console.log(\"saved\");\n}\n/**\r\n * Retrieve the stored user data from file.\r\n * @returns {object|null} - The stored user data or null if not set.\r\n */ function getUserData() {\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n        const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(data);\n    }\n    return null;\n}\n/**\r\n * Clear user data from file (optional).\r\n */ function clearUserData() {\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(filePath); // Delete the file\n    }\n}\n/**\r\n * Update the checklist of the user.\r\n * @param {string} newChecklist - The updated checklist string.\r\n */ function updateChecklist(newChecklist) {\n    userData.checklist = newChecklist;\n    userData.updatedAt = new Date().toISOString(); // Update the timestamp\n}\n/**\r\n * Update the allHistorySummary of the user.\r\n * @param {string} newSummary - The updated history summary string.\r\n */ function updateAllHistorySummary(newSummary) {\n    userData.allHistorySummary = newSummary;\n    userData.updatedAt = new Date().toISOString(); // Update the timestamp\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS91c2VyL3N0b3JhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQW9CO0FBQ0k7QUFFeEIseUJBQXlCO0FBQ3pCLE1BQU1FLFdBQVdELGdEQUFTLENBQUNHLFFBQVFDLEdBQUcsSUFBSSxPQUFNLE9BQU0sV0FBVztBQUVqRTs7O0NBR0MsR0FDTSxTQUFTQyxhQUFhQyxJQUFJO0lBQy9CLHNEQUFzRDtJQUN0RFAsdURBQWdCLENBQUNFLFVBQVVPLEtBQUtDLFNBQVMsQ0FBQ0gsTUFBTSxNQUFNLElBQUk7SUFDMURJLFFBQVFDLEdBQUcsQ0FBQztBQUNkO0FBRUE7OztDQUdDLEdBQ00sU0FBU0M7SUFDZCxJQUFJYixvREFBYSxDQUFDRSxXQUFXO1FBQzNCLE1BQU1LLE9BQU9QLHNEQUFlLENBQUNFLFVBQVU7UUFDdkMsT0FBT08sS0FBS08sS0FBSyxDQUFDVDtJQUNwQjtJQUNBLE9BQU87QUFDVDtBQUVBOztDQUVDLEdBQ00sU0FBU1U7SUFDZCxJQUFJakIsb0RBQWEsQ0FBQ0UsV0FBVztRQUMzQkYsb0RBQWEsQ0FBQ0UsV0FBVyxrQkFBa0I7SUFDN0M7QUFDRjtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNpQixnQkFBZ0JDLFlBQVk7SUFDMUNDLFNBQVNDLFNBQVMsR0FBR0Y7SUFDckJDLFNBQVNFLFNBQVMsR0FBRyxJQUFJQyxPQUFPQyxXQUFXLElBQUksdUJBQXVCO0FBQ3hFO0FBRUE7OztDQUdDLEdBQ00sU0FBU0Msd0JBQXdCQyxVQUFVO0lBQ2hETixTQUFTTyxpQkFBaUIsR0FBR0Q7SUFDN0JOLFNBQVNFLFNBQVMsR0FBRyxJQUFJQyxPQUFPQyxXQUFXLElBQUksdUJBQXVCO0FBQ3hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vM0QtQUktRW5nbGlzaC8uL3NyYy9hcHAvYXBpL3VzZXIvc3RvcmFnZS5qcz8yYTIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuLy8gUGF0aCB0byBzYXZlIHVzZXIgZGF0YVxyXG5jb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnc3JjJywnYXBwJywnc3RvcmFnZScsICd1c2VyRGF0YS5qc29uJyk7XHJcblxyXG4vKipcclxuICogU2F2ZSB1c2VyIGRhdGEgdG8gYSBmaWxlLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFVzZXIgZGF0YSB0byBzdG9yZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzYXZlVXNlckRhdGEoZGF0YSkge1xyXG4gIC8vIENvbnZlcnQgZGF0YSB0byBhIEpTT04gc3RyaW5nIGFuZCB3cml0ZSB0byB0aGUgZmlsZVxyXG4gIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpLCAndXRmOCcpO1xyXG4gIGNvbnNvbGUubG9nKCdzYXZlZCcpO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0cmlldmUgdGhlIHN0b3JlZCB1c2VyIGRhdGEgZnJvbSBmaWxlLlxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fG51bGx9IC0gVGhlIHN0b3JlZCB1c2VyIGRhdGEgb3IgbnVsbCBpZiBub3Qgc2V0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEYXRhKCkge1xyXG4gIGlmIChmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0ZjgnKTtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENsZWFyIHVzZXIgZGF0YSBmcm9tIGZpbGUgKG9wdGlvbmFsKS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJEYXRhKCkge1xyXG4gIGlmIChmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgZnMudW5saW5rU3luYyhmaWxlUGF0aCk7IC8vIERlbGV0ZSB0aGUgZmlsZVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0aGUgY2hlY2tsaXN0IG9mIHRoZSB1c2VyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2hlY2tsaXN0IC0gVGhlIHVwZGF0ZWQgY2hlY2tsaXN0IHN0cmluZy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDaGVja2xpc3QobmV3Q2hlY2tsaXN0KSB7XHJcbiAgdXNlckRhdGEuY2hlY2tsaXN0ID0gbmV3Q2hlY2tsaXN0O1xyXG4gIHVzZXJEYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsgLy8gVXBkYXRlIHRoZSB0aW1lc3RhbXBcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB0aGUgYWxsSGlzdG9yeVN1bW1hcnkgb2YgdGhlIHVzZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdW1tYXJ5IC0gVGhlIHVwZGF0ZWQgaGlzdG9yeSBzdW1tYXJ5IHN0cmluZy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBbGxIaXN0b3J5U3VtbWFyeShuZXdTdW1tYXJ5KSB7XHJcbiAgdXNlckRhdGEuYWxsSGlzdG9yeVN1bW1hcnkgPSBuZXdTdW1tYXJ5O1xyXG4gIHVzZXJEYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsgLy8gVXBkYXRlIHRoZSB0aW1lc3RhbXBcclxufVxyXG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiZmlsZVBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInNhdmVVc2VyRGF0YSIsImRhdGEiLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJnZXRVc2VyRGF0YSIsImV4aXN0c1N5bmMiLCJyZWFkRmlsZVN5bmMiLCJwYXJzZSIsImNsZWFyVXNlckRhdGEiLCJ1bmxpbmtTeW5jIiwidXBkYXRlQ2hlY2tsaXN0IiwibmV3Q2hlY2tsaXN0IiwidXNlckRhdGEiLCJjaGVja2xpc3QiLCJ1cGRhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVBbGxIaXN0b3J5U3VtbWFyeSIsIm5ld1N1bW1hcnkiLCJhbGxIaXN0b3J5U3VtbWFyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/user/storage.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.js&appDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckunal%5COneDrive%5CDesktop%5Ctest2%5C3D-English-Teacher&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();