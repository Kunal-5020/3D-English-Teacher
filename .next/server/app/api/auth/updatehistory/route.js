"use strict";(()=>{var e={};e.id=95,e.ids=[95],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6017:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>c,originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>u,routeModule:()=>i,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>l});var a=r(5419),o=r(9108),n=r(9678),s=r(8822);let i=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/updatehistory/route",pathname:"/api/auth/updatehistory",filename:"route",bundlePath:"app/api/auth/updatehistory/route"},resolvedPagePath:"C:\\Users\\kunal\\OneDrive\\Desktop\\test2\\3D-English-Teacher\\src\\app\\api\\auth\\updatehistory\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:d,headerHooks:c,staticGenerationBailout:l}=i,h="/api/auth/updatehistory/route";function m(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:p})}},5419:(e,t,r)=>{e.exports=r(517)},5109:(e,t,r)=>{r.d(t,{v:()=>s});var a=r(1185),o=r.n(a);let n=global.mongoose;async function s(){return n.conn||(n.promise||(n.promise=o().connect("mongodb+srv://database_creators:GjSWaV7mJnOy5hJw@cluster0.lwyhn.mongodb.net/userdata").then(e=>e)),n.conn=await n.promise),n.conn}n||(n=global.mongoose={conn:null,promise:null})},744:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(1185),o=r.n(a);let n=new(o()).Schema({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},age:{type:Number},highestEducation:{type:String},checklist:{type:String,default:""},allHistorySummary:{type:String,default:""}},{timestamps:!0}),s=o().models.User||o().model("User",n)},8822:(e,t,r)=>{r.r(t),r.d(t,{updateUserHistory:()=>n});var a=r(5109),o=r(744);async function n(e,t){try{await (0,a.v)();let r=await o.Z.findByIdAndUpdate(e,{allHistorySummary:t},{new:!0});if(!r)throw Error("User not found");return{success:!0,user:r}}catch(e){return console.error("Error updating user history:",e),{success:!1,error:e.message}}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638],()=>r(6017));module.exports=a})();