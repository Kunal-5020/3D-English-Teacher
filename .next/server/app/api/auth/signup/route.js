"use strict";(()=>{var e={};e.id=654,e.ids=[654],e.modules={38:e=>{e.exports=require("argon2")},1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},384:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>y,originalPathname:()=>v,patchFetch:()=>S,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>w});var n={};t.r(n),t.d(n,{POST:()=>d});var a=t(5419),s=t(9108),o=t(9678),i=t(5109),u=t(744),p=t(38),l=t.n(p);async function d(e){try{let{name:r,email:t,password:n,age:a,highestEducation:s}=await e.json();if(await (0,i.v)(),await u.Z.findOne({email:t}))return new Response(JSON.stringify({error:"Email already exists"}),{status:400});let o=await l().hash(n,{type:l().argon2id}),p=new u.Z({name:r,email:t,password:o,age:a,highestEducation:s});return await p.save(),new Response(JSON.stringify({message:"User created successfully"}),{status:201})}catch(e){return console.error("Error during signup:",e),new Response(JSON.stringify({error:"Error creating user"}),{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"C:\\Users\\kunal\\OneDrive\\Desktop\\test2\\3D-English-Teacher\\src\\app\\api\\auth\\signup\\route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:h,headerHooks:y,staticGenerationBailout:w}=c,v="/api/auth/signup/route";function S(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},5419:(e,r,t)=>{e.exports=t(517)},5109:(e,r,t)=>{t.d(r,{v:()=>o});var n=t(1185),a=t.n(n);let s=global.mongoose;async function o(){return s.conn||(s.promise||(s.promise=a().connect("mongodb+srv://database_creators:GjSWaV7mJnOy5hJw@cluster0.lwyhn.mongodb.net/userdata").then(e=>e)),s.conn=await s.promise),s.conn}s||(s=global.mongoose={conn:null,promise:null})},744:(e,r,t)=>{t.d(r,{Z:()=>o});var n=t(1185),a=t.n(n);let s=new(a()).Schema({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},age:{type:Number},highestEducation:{type:String},checklist:{type:String,default:""},allHistorySummary:{type:String,default:""}},{timestamps:!0}),o=a().models.User||a().model("User",s)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[638],()=>t(384));module.exports=n})();